(function(){if(typeof jQuery!="undefined"){var _jQuery=jQuery}var jQuery=window.jQuery=function(a,c){if(window==this||!this.init){return new jQuery(a,c)}return this.init(a,c)};if(typeof $!="undefined"){var _$=$}window.$=jQuery;var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/;jQuery.fn=jQuery.prototype={init:function(a,c){a=a||document;if(typeof a=="string"){var m=quickExpr.exec(a);if(m&&(m[1]||!c)){if(m[1]){a=jQuery.clean([m[1]])}else{var tmp=document.getElementById(m[3]);if(tmp){if(tmp.id!=m[3]){return jQuery().find(a)}else{this[0]=tmp;this.length=1;return this}}else{a=[]}}}else{return new jQuery(c).find(a)}}else{if(jQuery.isFunction(a)){return new jQuery(document)[jQuery.fn.ready?"ready":"load"](a)}}return this.setArray(a.constructor==Array&&a||(a.jquery||a.length&&a!=window&&!a.nodeType&&a[0]!=undefined&&a[0].nodeType)&&jQuery.makeArray(a)||[a])},jquery:"1.1.4",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(a){var ret=jQuery(a);ret.prevObject=this;return ret},setArray:function(a){this.length=0;Array.prototype.push.apply(this,a);return this},each:function(fn,args){return jQuery.each(this,fn,args)},index:function(obj){var pos=-1;this.each(function(i){if(this==obj){pos=i}});return pos},attr:function(key,value,type){var obj=key;if(key.constructor==String){if(value==undefined){return this.length&&jQuery[type||"attr"](this[0],key)||undefined}else{obj={};obj[key]=value}}return this.each(function(index){for(var prop in obj){jQuery.attr(type?this.style:this,prop,jQuery.prop(this,obj[prop],type,index,prop))}})},css:function(key,value){return this.attr(key,value,"curCSS")},text:function(e){if(typeof e!="object"&&e!=null){return this.empty().append(document.createTextNode(e))}var t="";jQuery.each(e||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){t+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return t},wrap:function(){var a,args=arguments;return this.each(function(){if(!a){a=jQuery.clean(args,this.ownerDocument)}var b=a[0].cloneNode(true);this.parentNode.insertBefore(b,this);while(b.firstChild){b=b.firstChild}b.appendChild(this)})},append:function(){return this.domManip(arguments,true,1,function(a){this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,-1,function(a){this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,false,1,function(a){this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,false,-1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(t){var data=jQuery.map(this,function(a){return jQuery.find(t,a)});return this.pushStack(/[^+>] [^+>]/.test(t)||t.indexOf("..")>-1?jQuery.unique(data):data)},clone:function(deep){deep=deep!=undefined?deep:true;var $this=this.add(this.find("*"));if(jQuery.browser.msie){$this.each(function(){this._$events={};for(var type in this.$events){this._$events[type]=jQuery.extend({},this.$events[type])}}).unbind()}var r=this.pushStack(jQuery.map(this,function(a){return a.cloneNode(deep)}));if(jQuery.browser.msie){$this.each(function(){var events=this._$events;for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}this._$events=null})}if(deep){var inputs=r.add(r.find("*")).filter("select,input[@type=checkbox]");$this.filter("select,input[@type=checkbox]").each(function(i){if(this.selectedIndex){inputs[i].selectedIndex=this.selectedIndex}if(this.checked){inputs[i].checked=true}})}return r},filter:function(t){return this.pushStack(jQuery.isFunction(t)&&jQuery.grep(this,function(el,index){return t.apply(el,[index])})||jQuery.multiFilter(t,this))},not:function(t){return this.pushStack(t.constructor==String&&jQuery.multiFilter(t,this,true)||jQuery.grep(this,function(a){return(t.constructor==Array||t.jquery)?jQuery.inArray(a,t)<0:a!=t}))},add:function(t){return this.pushStack(jQuery.merge(this.get(),t.constructor==String?jQuery(t).get():t.length!=undefined&&(!t.nodeName||t.nodeName=="FORM")?t:[t]))},is:function(expr){return expr?jQuery.multiFilter(expr,this).length>0:false},val:function(val){return val==undefined?(this.length?this[0].value:null):this.attr("value",val)},html:function(val){return val==undefined?(this.length?this[0].innerHTML:null):this.empty().append(val)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},domManip:function(args,table,dir,fn){var clone=this.length>1,a;return this.each(function(){if(!a){a=jQuery.clean(args,this.ownerDocument);if(dir<0){a.reverse()}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(a[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(document.createElement("tbody"))}jQuery.each(a,function(){if(jQuery.nodeName(this,"script")){if(this.src){jQuery.ajax({url:this.src,async:false,dataType:"script"})}else{jQuery.globalEval(this.text||this.textContent||this.innerHTML||"")}}else{fn.apply(obj,[clone?this.cloneNode(true):this])}})})}};jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},a=1,al=arguments.length,deep=false;if(target.constructor==Boolean){deep=target;target=arguments[1]||{}}if(al==1){target=this;a=0}var prop;for(;a<al;a++){if((prop=arguments[a])!=null){for(var i in prop){if(target==prop[i]){continue}if(deep&&typeof prop[i]=="object"&&target[i]){jQuery.extend(target[i],prop[i])}else{if(prop[i]!=undefined){target[i]=prop[i]}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/function/i.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){if(window.execScript){window.execScript(data)}else{if(jQuery.browser.safari){window.setTimeout(data,0)}else{eval.call(window,data)}}}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase()},each:function(obj,fn,args){if(args){if(obj.length==undefined){for(var i in obj){fn.apply(obj[i],args)}}else{for(var i=0,ol=obj.length;i<ol;i++){if(fn.apply(obj[i],args)===false){break}}}}else{if(obj.length==undefined){for(var i in obj){fn.call(obj[i],i,obj[i])}}else{for(var i=0,ol=obj.length,val=obj[0];i<ol&&fn.call(val,i,val)!==false;val=obj[++i]){}}}return obj},prop:function(elem,value,type,index,prop){if(jQuery.isFunction(value)){value=value.call(elem,[index])}var exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i;return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(prop)?value+"px":value},className:{add:function(elem,c){jQuery.each((c||"").split(/\s+/),function(i,cur){if(!jQuery.className.has(elem.className,cur)){elem.className+=(elem.className?" ":"")+cur}})},remove:function(elem,c){elem.className=c!=undefined?jQuery.grep(elem.className.split(/\s+/),function(cur){return !jQuery.className.has(c,cur)}).join(" "):""},has:function(t,c){return jQuery.inArray(c,(t.className||t).toString().split(/\s+/))>-1}},swap:function(e,o,f){for(var i in o){e.style["old"+i]=e.style[i];e.style[i]=o[i]}f.apply(e,[]);for(var i in o){e.style[i]=e.style["old"+i]}},css:function(e,p){if(p=="height"||p=="width"){var old={},oHeight,oWidth,d=["Top","Bottom","Right","Left"];jQuery.each(d,function(){old["padding"+this]=0;old["border"+this+"Width"]=0});jQuery.swap(e,old,function(){if(jQuery(e).is(":visible")){oHeight=e.offsetHeight;oWidth=e.offsetWidth}else{e=jQuery(e.cloneNode(true)).find(":radio").removeAttr("checked").end().css({visibility:"hidden",position:"absolute",display:"block",right:"0",left:"0"}).appendTo(e.parentNode)[0];var parPos=jQuery.css(e.parentNode,"position")||"static";if(parPos=="static"){e.parentNode.style.position="relative"}oHeight=e.clientHeight;oWidth=e.clientWidth;if(parPos=="static"){e.parentNode.style.position="static"}e.parentNode.removeChild(e)}});return p=="height"?oHeight:oWidth}return jQuery.curCSS(e,p)},curCSS:function(elem,prop,force){var ret,stack=[],swap=[];function color(a){if(!jQuery.browser.safari){return false}var ret=document.defaultView.getComputedStyle(a,null);return !ret||ret.getPropertyValue("color")==""}if(prop=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(elem.style,"opacity");return ret==""?"1":ret}if(prop.match(/float/i)){prop=styleFloat}if(!force&&elem.style[prop]){ret=elem.style[prop]}else{if(document.defaultView&&document.defaultView.getComputedStyle){if(prop.match(/float/i)){prop="float"}prop=prop.replace(/([A-Z])/g,"-$1").toLowerCase();var cur=document.defaultView.getComputedStyle(elem,null);if(cur&&!color(elem)){ret=cur.getPropertyValue(prop)}else{for(var a=elem;a&&color(a);a=a.parentNode){stack.unshift(a)}for(a=0;a<stack.length;a++){if(color(stack[a])){swap[a]=stack[a].style.display;stack[a].style.display="block"}}ret=prop=="display"&&swap[stack.length-1]!=null?"none":document.defaultView.getComputedStyle(elem,null).getPropertyValue(prop)||"";for(a=0;a<swap.length;a++){if(swap[a]!=null){stack[a].style.display=swap[a]}}}if(prop=="opacity"&&ret==""){ret="1"}}else{if(elem.currentStyle){var newProp=prop.replace(/\-(\w)/g,function(m,c){return c.toUpperCase()});ret=elem.currentStyle[prop]||elem.currentStyle[newProp]}}}return ret},clean:function(a,doc){var r=[];doc=doc||document;jQuery.each(a,function(i,arg){if(!arg){return}if(arg.constructor==Number){arg=arg.toString()}if(typeof arg=="string"){var s=jQuery.trim(arg).toLowerCase(),div=doc.createElement("div"),tb=[];var wrap=!s.indexOf("<opt")&&[1,"<select>","</select>"]||!s.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||s.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!s.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!s.indexOf("<td")||!s.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!s.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+arg+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){if(!s.indexOf("<table")&&s.indexOf("<tbody")<0){tb=div.firstChild&&div.firstChild.childNodes}else{if(wrap[1]=="<table>"&&s.indexOf("<tbody")<0){tb=div.childNodes}}for(var n=tb.length-1;n>=0;--n){if(jQuery.nodeName(tb[n],"tbody")&&!tb[n].childNodes.length){tb[n].parentNode.removeChild(tb[n])}}if(/^\s/.test(arg)){div.insertBefore(doc.createTextNode(arg.match(/^\s*/)[0]),div.firstChild)}}arg=jQuery.makeArray(div.childNodes)}if(0===arg.length&&(!jQuery.nodeName(arg,"form")&&!jQuery.nodeName(arg,"select"))){return}if(arg[0]==undefined||jQuery.nodeName(arg,"form")||arg.options){r.push(arg)}else{r=jQuery.merge(r,arg)}});return r},attr:function(elem,name,value){var fix=jQuery.isXMLDoc(elem)?{}:jQuery.props;if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex}if(fix[name]){if(value!=undefined){elem[fix[name]]=value}return elem[fix[name]]}else{if(jQuery.browser.msie&&name=="style"){return jQuery.attr(elem.style,"cssText",value)}else{if(value==undefined&&jQuery.browser.msie&&jQuery.nodeName(elem,"form")&&(name=="action"||name=="method")){return elem.getAttributeNode(name).nodeValue}else{if(elem.tagName){if(value!=undefined){elem.setAttribute(name,value)}if(jQuery.browser.msie&&/href|src/.test(name)&&!jQuery.isXMLDoc(elem)){return elem.getAttribute(name,2)}return elem.getAttribute(name)}else{if(name=="opacity"&&jQuery.browser.msie){if(value!=undefined){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseFloat(value).toString()=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100).toString():""}name=name.replace(/-([a-z])/ig,function(z,b){return b.toUpperCase()});if(value!=undefined){elem[name]=value}return elem[name]}}}}},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},makeArray:function(a){var r=[];if(typeof a!="array"){for(var i=0,al=a.length;i<al;i++){r.push(a[i])}}else{r=a.slice(0)}return r},inArray:function(b,a){for(var i=0,al=a.length;i<al;i++){if(a[i]==b){return i}}return -1},merge:function(first,second){if(jQuery.browser.msie){for(var i=0;second[i];i++){if(second[i].nodeType!=8){first.push(second[i])}}}else{for(var i=0;second[i];i++){first.push(second[i])}}return first},unique:function(first){var r=[],num=jQuery.mergeNum++;try{for(var i=0,fl=first.length;i<fl;i++){if(num!=first[i].mergeNum){first[i].mergeNum=num;r.push(first[i])}}}catch(e){r=first}return r},mergeNum:0,grep:function(elems,fn,inv){if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+"}")}var result=[];for(var i=0,el=elems.length;i<el;i++){if(!inv&&fn(elems[i],i)||inv&&!fn(elems[i],i)){result.push(elems[i])}}return result},map:function(elems,fn){if(typeof fn=="string"){fn=eval("false||function(a){return "+fn+"}")}var result=[];for(var i=0,el=elems.length;i<el;i++){var val=fn(elems[i],i);if(val!==null&&val!=undefined){if(val.constructor!=Array){val=[val]}result=result.concat(val)}}return result}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",styleFloat:jQuery.browser.msie?"styleFloat":"cssFloat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,innerHTML:"innerHTML",className:"className",value:"value",disabled:"disabled",checked:"checked",readonly:"readOnly",selected:"selected",maxlength:"maxLength"}});jQuery.each({parent:"a.parentNode",parents:"jQuery.parents(a)",next:"jQuery.nth(a,2,'nextSibling')",prev:"jQuery.nth(a,2,'previousSibling')",siblings:"jQuery.sibling(a.parentNode.firstChild,a)",children:"jQuery.sibling(a.firstChild)"},function(i,n){jQuery.fn[i]=function(a){var ret=jQuery.map(this,n);if(a&&typeof a=="string"){ret=jQuery.multiFilter(a,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after"},function(i,n){jQuery.fn[i]=function(){var a=arguments;return this.each(function(){for(var j=0,al=a.length;j<al;j++){jQuery(a[j])[n](this)}})}});jQuery.each({removeAttr:function(key){jQuery.attr(this,key,"");this.removeAttribute(key)},addClass:function(c){jQuery.className.add(this,c)},removeClass:function(c){jQuery.className.remove(this,c)},toggleClass:function(c){jQuery.className[jQuery.className.has(this,c)?"remove":"add"](this,c)},remove:function(a){if(!a||jQuery.filter(a,[this]).r.length){this.parentNode.removeChild(this)}},empty:function(){while(this.firstChild){this.removeChild(this.firstChild)}}},function(i,n){jQuery.fn[i]=function(){return this.each(n,arguments)}});jQuery.each(["eq","lt","gt","contains"],function(i,n){jQuery.fn[n]=function(num,fn){return this.filter(":"+n+"("+num+")",fn)}});jQuery.each(["height","width"],function(i,n){jQuery.fn[n]=function(h){return h==undefined?(this.length?jQuery.css(this[0],n):null):this.css(n,h.constructor==String?h:h+"px")}});var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^[/>]\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":"m[2]=='*'||jQuery.nodeName(a,m[2])","#":"a.getAttribute('id')==m[2]",":":{lt:"i<m[3]-0",gt:"i>m[3]-0",nth:"m[3]-0==i",eq:"m[3]-0==i",first:"i==0",last:"i==r.length-1",even:"i%2==0",odd:"i%2","first-child":"a.parentNode.getElementsByTagName('*')[0]==a","last-child":"jQuery.nth(a.parentNode.lastChild,1,'previousSibling')==a","only-child":"!jQuery.nth(a.parentNode.lastChild,2,'previousSibling')",parent:"a.firstChild",empty:"!a.firstChild",contains:"(a.textContent||a.innerText||'').indexOf(m[3])>=0",visible:'"hidden"!=a.type&&jQuery.css(a,"display")!="none"&&jQuery.css(a,"visibility")!="hidden"',hidden:'"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden"',enabled:"!a.disabled",disabled:"a.disabled",checked:"a.checked",selected:"a.selected||jQuery.attr(a,'selected')",text:"'text'==a.type",radio:"'radio'==a.type",checkbox:"'checkbox'==a.type",file:"'file'==a.type",password:"'password'==a.type",submit:"'submit'==a.type",image:"'image'==a.type",reset:"'reset'==a.type",button:'"button"==a.type||jQuery.nodeName(a,"button")',input:"/input|select|textarea|button/i.test(a.nodeName)",has:"jQuery.find(m[3],a).length"},"[":"jQuery.find(m[2],a).length"},parse:[/^\[ *(@)([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(\[)\s*(.*?(\[.*?\])?[^[]*?)\s*\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&&!context.nodeType){context=null}context=context||document;if(!t.indexOf("//")){t=t.substr(2,t.length)}else{if(!t.indexOf("/")&&!context.ownerDocument){context=context.documentElement;t=t.substr(1,t.length);if(t.indexOf("/")>=1){t=t.substr(t.indexOf("/"),t.length)}}}var ret=[context],done=[],last;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t).replace(/^\/\//,"");var foundToken=false;var re=quickChild;var m=re.exec(t);if(m){var nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName.toUpperCase())){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^((\/?\.\.)|([>\/+~]))\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var nodeName=m[4],mergeNum=jQuery.mergeNum++;m=m[1];for(var j=0,rl=ret.length;j<rl;j++){if(m.indexOf("..")<0){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){if(m=="~"&&n.mergeNum==mergeNum){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName.toUpperCase()){if(m=="~"){n.mergeNum=mergeNum}r.push(n)}if(m=="+"){break}}}}else{r.push(ret[j].parentNode)}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0]}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&&context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&&m[2]=="not"){r=jQuery.filter(m[3],r,true).r}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="@"){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&&m[2]=="nth-child"){var num=jQuery.mergeNum++,tmp=[],test=/(\d*)n\+?(\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"n+"+m[3]||m[3]),first=(test[1]||1)-0,last=test[2]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode;if(num!=parentNode.mergeNum){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}parentNode.mergeNum=num}var add=false;if(first==1){if(last==0||node.nodeIndex==last){add=true}}else{if((node.nodeIndex+last)%first==0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var f=jQuery.expr[m[1]];if(typeof f!="string"){f=jQuery.expr[m[1]][m[2]]}f=eval("false||function(a,i){return "+f+"}");r=jQuery.grep(r,f,not)}}}}}return{r:r,t:t}},parents:function(elem){var matched=[];var cur=elem.parentNode;while(cur&&cur!=document){matched.push(cur);cur=cur.parentNode}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&(!elem||n!=elem)){r.push(n)}}return r}});jQuery.event={add:function(element,type,handler,data){if(jQuery.browser.msie&&element.setInterval!=undefined){element=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=function(){return fn.apply(this,arguments)};handler.data=data;handler.guid=fn.guid}if(!element.$events){element.$events={}}if(!element.$handle){element.$handle=function(){var val;if(typeof jQuery=="undefined"||jQuery.event.triggered){return val}val=jQuery.event.handle.apply(element,arguments);return val}}var handlers=element.$events[type];if(!handlers){handlers=element.$events[type]={};if(element.addEventListener){element.addEventListener(type,element.$handle,false)}else{element.attachEvent("on"+type,element.$handle)}}handlers[handler.guid]=handler;this.global[type]=true},guid:1,global:{},remove:function(element,type,handler){var events=element.$events,ret,index;if(events){if(type&&type.type){handler=type.handler;type=type.type}if(!type){for(type in events){this.remove(element,type)}}else{if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in element.$events[type]){delete events[type][handler]}}for(ret in events[type]){break}if(!ret){if(element.removeEventListener){element.removeEventListener(type,element.$handle,false)}else{element.detachEvent("on"+type,element.$handle)}ret=null;delete events[type]}}}for(ret in events){break}if(!ret){element.$handle=element.$events=null}}},trigger:function(type,data,element){data=jQuery.makeArray(data||[]);if(!element){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{var val,ret,fn=jQuery.isFunction(element[type]||null);data.unshift(this.fix({type:type,target:element}));if(jQuery.isFunction(element.$handle)){val=element.$handle.apply(element,data)}if(!fn&&element["on"+type]&&element["on"+type].apply(element,data)===false){val=false}if(fn&&val!==false&&!(jQuery.nodeName(element,"a")&&type=="click")&&!(type=="focus"&&element.offsetHeight==0)){this.triggered=true;element[type]()}this.triggered=false}},handle:function(event){var val;event=jQuery.event.fix(event||window.event||{});var c=this.$events&&this.$events[event.type],args=Array.prototype.slice.call(arguments,1);args.unshift(event);for(var j in c){args[0].handler=c[j];args[0].data=c[j].data;if(c[j].apply(this,args)===false){event.preventDefault();event.stopPropagation();val=false}}if(jQuery.browser.msie){event.target=event.preventDefault=event.stopPropagation=event.handler=event.data=null}return val},fix:function(event){var originalEvent=event;event=jQuery.extend({},originalEvent);event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};if(!event.target&&event.srcElement){event.target=event.srcElement}if(jQuery.browser.safari&&event.target.nodeType==3){event.target=originalEvent.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var e=document.documentElement,b=document.body;event.pageX=event.clientX+(e&&e.scrollLeft||b.scrollLeft||0);event.pageY=event.clientY+(e&&e.scrollTop||b.scrollTop||0)}if(!event.which&&(event.charCode||event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data)})},one:function(type,data,fn){return this.each(function(){jQuery.event.add(this,type,function(event){jQuery(this).unbind(event);return(fn||data).apply(this,arguments)},fn&&data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},toggle:function(){var a=arguments;return this.click(function(e){this.lastToggle=0==this.lastToggle?1:0;e.preventDefault();return a[this.lastToggle].apply(this,[e])||false})},hover:function(f,g){function handleHover(e){var p=e.relatedTarget;while(p&&p!=this){try{p=p.parentNode}catch(e){p=this}}if(p==this){return false}return(e.type=="mouseover"?f:g).apply(this,[e])}return this.mouseover(handleHover).mouseout(handleHover)},ready:function(f){bindReady();if(jQuery.isReady){f.apply(document,[jQuery])}else{jQuery.readyList.push(function(){return f.apply(this,[jQuery])})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.apply(document)});jQuery.readyList=null}if(jQuery.browser.mozilla||jQuery.browser.opera){document.removeEventListener("DOMContentLoaded",jQuery.ready,false)}if(!window.frames.length){jQuery(window).load(function(){jQuery("#__ie_init").remove()})}}}});jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,o){jQuery.fn[o]=function(f){return f?this.bind(o,f):this.trigger(o)}});var readyBound=false;function bindReady(){if(readyBound){return}readyBound=true;if(jQuery.browser.mozilla||jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}else{if(jQuery.browser.msie){document.write("<script id=__ie_init defer=true src=//:><\/script>");var script=document.getElementById("__ie_init");if(script){script.onreadystatechange=function(){if(document.readyState!="complete"){return}jQuery.ready()}}script=null}else{if(jQuery.browser.safari){jQuery.safariTimer=setInterval(function(){if(document.readyState=="loaded"||document.readyState=="complete"){clearInterval(jQuery.safariTimer);jQuery.safariTimer=null;jQuery.ready()}},10)}}}jQuery.event.add(window,"load",jQuery.ready)}jQuery.fn.extend({loadIfModified:function(url,params,callback){this.load(url,params,callback,1)},load:function(url,params,callback,ifModified){if(jQuery.isFunction(url)){return this.bind("load",url)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,data:params,ifModified:ifModified,complete:function(res,status){if(status=="success"||!ifModified&&status=="notmodified"){self.html(res.responseText)}setTimeout(function(){self.each(callback,[res.responseText,status,res])},13)}});return this},serialize:function(){return jQuery.param(this)},evalScripts:function(){}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type,ifModified){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type,ifModified:ifModified})},getIfModified:function(url,data,callback,type){return jQuery.get(url,data,callback,type,1)},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxTimeout:function(timeout){jQuery.ajaxSettings.timeout=timeout},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));if(s.data){if(s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.type.toLowerCase()=="get"){s.url+=(s.url.indexOf("?")>-1?"&":"?")+s.data;s.data=null}}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var requestDone=false;var xml=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();xml.open(s.type,s.url,s.async);if(s.data){xml.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xml.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xml.setRequestHeader("X-Requested-With","XMLHttpRequest");if(s.beforeSend){s.beforeSend(xml)}if(s.global){jQuery.event.trigger("ajaxSend",[xml,s])}var onreadystatechange=function(isTimeout){if(!requestDone&&xml&&(xml.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}var status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xml)&&"error"||s.ifModified&&jQuery.httpNotModified(xml,s.url)&&"notmodified"||"success";if(status=="success"){try{var data=jQuery.httpData(xml,s.dataType)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xml.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes}if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xml,s])}}else{jQuery.handleError(s,xml,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xml,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(s.complete){s.complete(xml,status)}if(s.async){xml=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xml){xml.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xml.send(s.data)}catch(e){jQuery.handleError(s,xml,null,e)}if(!s.async){onreadystatechange()}return xml},handleError:function(s,xml,status,e){if(s.error){s.error(xml,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xml,s,e])}},active:0,httpSuccess:function(r){try{return !r.status&&location.protocol=="file:"||(r.status>=200&&r.status<300)||r.status==304||jQuery.browser.safari&&r.status==undefined}catch(e){}return false},httpNotModified:function(xml,url){try{var xmlRes=xml.getResponseHeader("Last-Modified");return xml.status==304||xmlRes==jQuery.lastModified[url]||jQuery.browser.safari&&xml.status==undefined}catch(e){}return false},httpData:function(r,type){var ct=r.getResponseHeader("content-type");var xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0;data=xml?r.responseXML:r.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror"}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(a[j]))}}}return s.join("&")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock?this.oldblock:"";if(jQuery.css(this,"display")=="none"){this.style.display="block"}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");if(this.oldblock=="none"){this.oldblock="block"}this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle(fn,fn2):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){return this.queue(function(){var hidden=jQuery(this).is(":hidden"),opt=jQuery.speed(speed,easing,callback),self=this;for(var p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return jQuery.isFunction(opt.complete)&&opt.complete.apply(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}this.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(val.constructor==Number){e.custom(e.cur()||0,val)}else{e[val=="toggle"?hidden?"show":"hide":val](prop)}});return true})},queue:function(type,fn){if(!fn){fn=type;type="fx"}return this.each(function(){if(!this.queue){this.queue={}}if(!this.queue[type]){this.queue[type]=[]}this.queue[type].push(fn);if(this.queue[type].length==1){fn.apply(this)}})}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:{slow:600,fast:200}[opt.duration])||400;opt.old=opt.complete;opt.complete=function(){jQuery.dequeue(this,"fx");if(jQuery.isFunction(opt.old)){opt.old.apply(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},queue:{},dequeue:function(elem,type){type=type||"fx";if(elem.queue&&elem.queue[type]){elem.queue[type].shift();var f=elem.queue[type][0];if(f){f.apply(elem)}}},timers:[],fx:function(elem,options,prop){var z=this;var y=elem.style;z.a=function(){if(options.step){options.step.apply(elem,[z.now])}if(prop=="opacity"){jQuery.attr(y,"opacity",z.now)}else{y[prop]=parseInt(z.now)+"px";if(prop=="height"||prop=="width"){y.display="block"}}};z.max=function(){return parseFloat(jQuery.css(elem,prop))};z.cur=function(){var r=parseFloat(jQuery.curCSS(elem,prop));return r&&r>-10000?r:z.max()};z.custom=function(from,to){z.startTime=(new Date()).getTime();z.now=from;z.a();jQuery.timers.push(function(){return z.step(from,to)});if(jQuery.timers.length==1){var timer=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(timer)}},13)}};z.show=function(){if(!elem.orig){elem.orig={}}elem.orig[prop]=jQuery.attr(elem.style,prop);options.show=true;z.custom(0,this.cur());if(prop!="opacity"){y[prop]="1px"}jQuery(elem).show()};z.hide=function(){if(!elem.orig){elem.orig={}}elem.orig[prop]=jQuery.attr(elem.style,prop);options.hide=true;z.custom(this.cur(),0)};z.step=function(firstNum,lastNum){var t=(new Date()).getTime();if(t>options.duration+z.startTime){z.now=lastNum;z.a();if(elem.curAnim){elem.curAnim[prop]=true}var done=true;for(var i in elem.curAnim){if(elem.curAnim[i]!==true){done=false}}if(done){if(options.display!=null){y.overflow=options.overflow;y.display=options.display;if(jQuery.css(elem,"display")=="none"){y.display="block"}}if(options.hide){y.display="none"}if(options.hide||options.show){for(var p in elem.curAnim){jQuery.attr(y,p,elem.orig[p])}}}if(done&&jQuery.isFunction(options.complete)){options.complete.apply(elem)}return false}else{var n=t-this.startTime;var p=n/options.duration;z.now=jQuery.easing[options.easing||(jQuery.easing.swing?"swing":"linear")](p,n,firstNum,(lastNum-firstNum),options.duration);z.a()}return true}}})})();jQuery.cookie=function(d,m,r){if(typeof m!="undefined"){r=r||{};var g="";if(r.expires&&(typeof r.expires=="number"||r.expires.toGMTString)){var h;if(typeof r.expires=="number"){h=new Date();h.setTime(h.getTime()+(r.expires*24*60*60*1000))}else{h=r.expires}g="; expires="+h.toGMTString()}var q=r.path?"; path="+r.path:"";var j=r.domain?"; domain="+r.domain:"";var c=r.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(m),g,q,j,c].join("")}else{var f=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var k=0;k<n.length;k++){var e=jQuery.trim(n[k]);if(e.substring(0,d.length+1)==(d+"=")){f=decodeURIComponent(e.substring(d.length+1));break}}}return f}};(function(j){var c=j.fn.height,g=j.fn.width;j.fn.extend({height:function(){if(!this[0]){f()}if(this[0]==window){if((j.browser.mozilla||j.browser.opera)&&j(document).width()>self.innerWidth){return self.innerHeight-d()}else{return self.innerHeight||j.boxModel&&document.documentElement.clientHeight||document.body.clientHeight}}if(this[0]==document){return Math.max(document.body.scrollHeight,document.body.offsetHeight)}return c.apply(this,arguments)},width:function(){if(!this[0]){f()}if(this[0]==window){if((j.browser.mozilla||j.browser.opera)&&j(document).height()>self.innerHeight){return self.innerWidth-d()}else{return self.innerWidth||j.boxModel&&document.documentElement.clientWidth||document.body.clientWidth}}if(this[0]==document){if(j.browser.mozilla){var n=self.pageXOffset;self.scrollTo(99999999,self.pageYOffset);var m=self.pageXOffset;self.scrollTo(n,self.pageYOffset);return document.body.offsetWidth+m}else{return Math.max(document.body.scrollWidth,document.body.offsetWidth)}}return g.apply(this,arguments)},innerHeight:function(){if(!this[0]){f()}return this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight-e(this,"borderTopWidth")-e(this,"borderBottomWidth"):this.height()+e(this,"paddingTop")+e(this,"paddingBottom")},innerWidth:function(){if(!this[0]){f()}return this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth-e(this,"borderLeftWidth")-e(this,"borderRightWidth"):this.width()+e(this,"paddingLeft")+e(this,"paddingRight")},outerHeight:function(m){if(!this[0]){f()}m=j.extend({margin:false},m||{});return this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight+(m.margin?(e(this,"marginTop")+e(this,"marginBottom")):0):this.height()+e(this,"borderTopWidth")+e(this,"borderBottomWidth")+e(this,"paddingTop")+e(this,"paddingBottom")+(m.margin?(e(this,"marginTop")+e(this,"marginBottom")):0)},outerWidth:function(m){if(!this[0]){f()}m=j.extend({margin:false},m||{});return this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth+(m.margin?(e(this,"marginLeft")+e(this,"marginRight")):0):this.width()+e(this,"borderLeftWidth")+e(this,"borderRightWidth")+e(this,"paddingLeft")+e(this,"paddingRight")+(m.margin?(e(this,"marginLeft")+e(this,"marginRight")):0)},scrollLeft:function(m){if(!this[0]){f()}if(m!=undefined){return this.each(function(){if(this==window||this==document){window.scrollTo(m,j(window).scrollTop())}else{this.scrollLeft=m}})}if(this[0]==window||this[0]==document){return self.pageXOffset||j.boxModel&&document.documentElement.scrollLeft||document.body.scrollLeft}return this[0].scrollLeft},scrollTop:function(m){if(!this[0]){f()}if(m!=undefined){return this.each(function(){if(this==window||this==document){window.scrollTo(j(window).scrollLeft(),m)}else{this.scrollTop=m}})}if(this[0]==window||this[0]==document){return self.pageYOffset||j.boxModel&&document.documentElement.scrollTop||document.body.scrollTop}return this[0].scrollTop},position:function(m){return this.offset({margin:false,scroll:false,relativeTo:this.offsetParent()},m)},offset:function(n,z){if(!this[0]){f()}var w=0,v=0,H=0,C=0,I=this[0],u=this[0],r,m,G=j.css(I,"position"),F=j.browser.mozilla,A=j.browser.msie,E=j.browser.opera,K=j.browser.safari,q=j.browser.safari&&parseInt(j.browser.version)>520,B=false,D=false,n=j.extend({margin:true,border:false,padding:false,scroll:true,lite:false,relativeTo:document.body},n||{});if(n.lite){return this.offsetLite(n,z)}if(n.relativeTo.jquery){n.relativeTo=n.relativeTo[0]}if(I.tagName=="BODY"){w=I.offsetLeft;v=I.offsetTop;if(F){w+=e(I,"marginLeft")+(e(I,"borderLeftWidth")*2);v+=e(I,"marginTop")+(e(I,"borderTopWidth")*2)}else{if(E){w+=e(I,"marginLeft");v+=e(I,"marginTop")}else{if((A&&jQuery.boxModel)){w+=e(I,"borderLeftWidth");v+=e(I,"borderTopWidth")}else{if(q){w+=e(I,"marginLeft")+e(I,"borderLeftWidth");v+=e(I,"marginTop")+e(I,"borderTopWidth")}}}}}else{do{m=j.css(u,"position");w+=u.offsetLeft;v+=u.offsetTop;if(F||A||q){w+=e(u,"borderLeftWidth");v+=e(u,"borderTopWidth");if(F&&m=="absolute"){B=true}if(A&&m=="relative"){D=true}}r=u.offsetParent||document.body;if(n.scroll||F){do{if(n.scroll){H+=u.scrollLeft;C+=u.scrollTop}if(E&&(j.css(u,"display")||"").match(/table-row|inline/)){H=H-((u.scrollLeft==u.offsetLeft)?u.scrollLeft:0);C=C-((u.scrollTop==u.offsetTop)?u.scrollTop:0)}if(F&&u!=I&&j.css(u,"overflow")!="visible"){w+=e(u,"borderLeftWidth");v+=e(u,"borderTopWidth")}u=u.parentNode}while(u!=r)}u=r;if(u==n.relativeTo&&!(u.tagName=="BODY"||u.tagName=="HTML")){if(F&&u!=I&&j.css(u,"overflow")!="visible"){w+=e(u,"borderLeftWidth");v+=e(u,"borderTopWidth")}if(((K&&!q)||E)&&m!="static"){w-=e(r,"borderLeftWidth");v-=e(r,"borderTopWidth")}break}if(u.tagName=="BODY"||u.tagName=="HTML"){if(((K&&!q)||(A&&j.boxModel))&&G!="absolute"&&G!="fixed"){w+=e(u,"marginLeft");v+=e(u,"marginTop")}if(q||(F&&!B&&G!="fixed")||(A&&G=="static"&&!D)){w+=e(u,"borderLeftWidth");v+=e(u,"borderTopWidth")}break}}while(u)}var J=k(I,n,w,v,H,C);if(z){j.extend(z,J);return this}else{return J}},offsetLite:function(A,r){if(!this[0]){f()}var v=0,u=0,q=0,z=0,w=this[0],n,A=j.extend({margin:true,border:false,padding:false,scroll:true,relativeTo:document.body},A||{});if(A.relativeTo.jquery){A.relativeTo=A.relativeTo[0]}do{v+=w.offsetLeft;u+=w.offsetTop;n=w.offsetParent||document.body;if(A.scroll){do{q+=w.scrollLeft;z+=w.scrollTop;w=w.parentNode}while(w!=n)}w=n}while(w&&w.tagName!="BODY"&&w.tagName!="HTML"&&w!=A.relativeTo);var m=k(this[0],A,v,u,q,z);if(r){j.extend(r,m);return this}else{return m}},offsetParent:function(){if(!this[0]){f()}var m=this[0].offsetParent;while(m&&(m.tagName!="BODY"&&j.css(m,"position")=="static")){m=m.offsetParent}return j(m)}});var f=function(){throw"Dimensions: jQuery collection is empty"};var e=function(m,n){return parseInt(j.css(m.jquery?m[0]:m,n))||0};var k=function(u,r,n,v,m,q){if(!r.margin){n-=e(u,"marginLeft");v-=e(u,"marginTop")}if(r.border&&((j.browser.safari&&parseInt(j.browser.version)<520)||j.browser.opera)){n+=e(u,"borderLeftWidth");v+=e(u,"borderTopWidth")}else{if(!r.border&&!((j.browser.safari&&parseInt(j.browser.version)<520)||j.browser.opera)){n-=e(u,"borderLeftWidth");v-=e(u,"borderTopWidth")}}if(r.padding){n+=e(u,"paddingLeft");v+=e(u,"paddingTop")}if(r.scroll&&(!j.browser.opera||u.offsetLeft!=u.scrollLeft&&u.offsetTop!=u.scrollLeft)){m-=u.scrollLeft;q-=u.scrollTop}return r.scroll?{top:v-q,left:n-m,scrollTop:q,scrollLeft:m}:{top:v,left:n}};var h=0;var d=function(){if(!h){var m=j("<div>").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1000,left:-1000}).appendTo("body");h=100-m.append("<div>").find("div").css({width:"100%",height:200}).width();m.remove()}return h}})(jQuery);(function(c){c.fn.hoverIntent=function(q,n){var r={sensitivity:7,interval:100,timeout:0};r=c.extend(r,n?{over:q,out:n}:q);var v,u,k,h;var j=function(f){v=f.pageX;u=f.pageY};var e=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(k-v)+Math.abs(h-u))<r.sensitivity){c(f).unbind("mousemove",j);f.hoverIntent_s=1;return r.over.apply(f,[g])}else{k=v;h=u;f.hoverIntent_t=setTimeout(function(){e(g,f)},r.interval)}};var m=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return r.out.apply(f,[g])};var d=function(z){var w=(z.type=="mouseover"?z.fromElement:z.toElement)||z.relatedTarget;while(w&&w!=this){try{w=w.parentNode}catch(z){w=this}}if(w==this){return false}var g=jQuery.extend({},z);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(z.type=="mouseover"){k=g.pageX;h=g.pageY;c(f).bind("mousemove",j);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){e(g,f)},r.interval)}}else{c(f).unbind("mousemove",j);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){m(g,f)},r.timeout)}}};return this.mouseover(d).mouseout(d)}})(jQuery);jQuery.iAccordion={build:function(c){return this.each(function(){if(!c.headerSelector||!c.panelSelector){return}var d=this;d.accordionCfg={panelHeight:c.panelHeight||300,headerSelector:c.headerSelector,panelSelector:c.panelSelector,activeClass:c.activeClass||"fakeAccordionClass",hoverClass:c.hoverClass||"fakeAccordionClass",onShow:c.onShow&&typeof c.onShow=="function"?c.onShow:false,onHide:c.onShow&&typeof c.onHide=="function"?c.onHide:false,onClick:c.onClick&&typeof c.onClick=="function"?c.onClick:false,headers:jQuery(c.headerSelector,this),panels:jQuery(c.panelSelector,this),speed:c.speed||400,currentPanel:c.currentPanel||0};d.accordionCfg.panels.hide().css("height","1px").eq(0).css({height:d.accordionCfg.panelHeight+"px",display:"block"}).end();d.accordionCfg.headers.each(function(e){this.accordionPos=e}).hover(function(){jQuery(this).addClass(d.accordionCfg.hoverClass)},function(){jQuery(this).removeClass(d.accordionCfg.hoverClass)}).bind("click",function(f){if(d.accordionCfg.currentPanel==this.accordionPos){return}d.accordionCfg.headers.eq(d.accordionCfg.currentPanel).removeClass(d.accordionCfg.activeClass).end().eq(this.accordionPos).addClass(d.accordionCfg.activeClass).end();d.accordionCfg.panels.eq(d.accordionCfg.currentPanel).animate({height:0},d.accordionCfg.speed,function(){this.style.display="none";if(d.accordionCfg.onHide){d.accordionCfg.onHide.apply(d,[this])}}).end().eq(this.accordionPos).show().animate({height:d.accordionCfg.panelHeight},d.accordionCfg.speed,function(){this.style.display="block";if(d.accordionCfg.onShow){d.accordionCfg.onShow.apply(d,[this])}}).end();if(d.accordionCfg.onClick){d.accordionCfg.onClick.apply(d,[this,d.accordionCfg.panels.get(this.accordionPos),d.accordionCfg.headers.get(d.accordionCfg.currentPanel),d.accordionCfg.panels.get(d.accordionCfg.currentPanel)])}d.accordionCfg.currentPanel=this.accordionPos}).eq(0).addClass(d.accordionCfg.activeClass).end();jQuery(this).css("height",jQuery(this).css("height")).css("overflow","hidden")})}};jQuery.fn.Accordion=jQuery.iAccordion.build;jQuery.iCarousel={build:function(c){return this.each(function(){var g=this;var d=2*Math.PI/360;var e=2*Math.PI;if(jQuery(g).css("position")!="relative"&&jQuery(g).css("position")!="absolute"){jQuery(g).css("position","relative")}g.carouselCfg={items:jQuery(c.items,this),itemWidth:c.itemWidth,itemHeight:c.itemHeight,itemMinWidth:c.itemMinWidth,maxRotation:e,size:jQuery.iUtil.getSize(this),position:jQuery.iUtil.getPosition(this),start:Math.PI/2,rotationSpeed:c.rotationSpeed,reflectionSize:c.reflections,reflections:[],protectRotation:false,increment:2*Math.PI/360};g.carouselCfg.radiusX=(g.carouselCfg.size.w-g.carouselCfg.itemWidth)/2;g.carouselCfg.radiusY=(g.carouselCfg.size.h-g.carouselCfg.itemHeight-g.carouselCfg.itemHeight*g.carouselCfg.reflectionSize)/2;g.carouselCfg.step=2*Math.PI/g.carouselCfg.items.size();g.carouselCfg.paddingX=g.carouselCfg.size.w/2;g.carouselCfg.paddingY=g.carouselCfg.size.h/2-g.carouselCfg.itemHeight*g.carouselCfg.reflectionSize;var f=document.createElement("div");jQuery(f).css({position:"absolute",zIndex:1,top:0,left:0});jQuery(g).append(f);g.carouselCfg.items.each(function(h){image=jQuery("img",this).get(0);height=parseInt(g.carouselCfg.itemHeight*g.carouselCfg.reflectionSize);if(jQuery.browser.msie){canvas=document.createElement("img");jQuery(canvas).css("position","absolute");canvas.src=image.src;canvas.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity=60, style=1, finishOpacity=0, startx=0, starty=0, finishx=0)"}else{canvas=document.createElement("canvas");if(canvas.getContext){context=canvas.getContext("2d");canvas.style.position="absolute";canvas.style.height=height+"px";canvas.style.width=g.carouselCfg.itemWidth+"px";canvas.height=height;canvas.width=g.carouselCfg.itemWidth;context.save();context.translate(0,height);context.scale(1,-1);context.drawImage(image,0,0,g.carouselCfg.itemWidth,height);context.restore();context.globalCompositeOperation="destination-out";var j=context.createLinearGradient(0,0,0,height);j.addColorStop(1,"rgba(255, 255, 255, 1)");j.addColorStop(0,"rgba(255, 255, 255, 0.6)");context.fillStyle=j;if(navigator.appVersion.indexOf("WebKit")!=-1){context.fill()}else{context.fillRect(0,0,g.carouselCfg.itemWidth,height)}}}g.carouselCfg.reflections[h]=canvas;jQuery(f).append(canvas)}).bind("mouseover",function(h){g.carouselCfg.protectRotation=true;g.carouselCfg.speed=g.carouselCfg.increment*0.1*g.carouselCfg.speed/Math.abs(g.carouselCfg.speed);return false}).bind("mouseout",function(h){g.carouselCfg.protectRotation=false;return false});jQuery.iCarousel.positionItems(g);g.carouselCfg.speed=g.carouselCfg.increment*0.2;g.carouselCfg.rotationTimer=window.setInterval(function(){g.carouselCfg.start+=g.carouselCfg.speed;if(g.carouselCfg.start>e){g.carouselCfg.start=0}jQuery.iCarousel.positionItems(g)},20);jQuery(g).bind("mouseout",function(){g.carouselCfg.speed=g.carouselCfg.increment*0.2*g.carouselCfg.speed/Math.abs(g.carouselCfg.speed)}).bind("mousemove",function(h){if(g.carouselCfg.protectRotation==false){pointer=jQuery.iUtil.getPointer(h);mousex=g.carouselCfg.size.w-pointer.x+g.carouselCfg.position.x;g.carouselCfg.speed=g.carouselCfg.rotationSpeed*g.carouselCfg.increment*(g.carouselCfg.size.w/2-mousex)/(g.carouselCfg.size.w/2)}})})},positionItems:function(c){c.carouselCfg.items.each(function(d){angle=c.carouselCfg.start+d*c.carouselCfg.step;x=c.carouselCfg.radiusX*Math.cos(angle);y=c.carouselCfg.radiusY*Math.sin(angle);itemZIndex=parseInt(100*(c.carouselCfg.radiusY+y)/(2*c.carouselCfg.radiusY));parte=(c.carouselCfg.radiusY+y)/(2*c.carouselCfg.radiusY);width=parseInt((c.carouselCfg.itemWidth-c.carouselCfg.itemMinWidth)*parte+c.carouselCfg.itemMinWidth);height=parseInt(width*c.carouselCfg.itemHeight/c.carouselCfg.itemWidth);this.style.top=c.carouselCfg.paddingY+y-height/2+"px";this.style.left=c.carouselCfg.paddingX+x-width/2+"px";this.style.width=width+"px";this.style.height=height+"px";this.style.zIndex=itemZIndex;c.carouselCfg.reflections[d].style.top=parseInt(c.carouselCfg.paddingY+y+height-1-height/2)+"px";c.carouselCfg.reflections[d].style.left=parseInt(c.carouselCfg.paddingX+x-width/2)+"px";c.carouselCfg.reflections[d].style.width=width+"px";c.carouselCfg.reflections[d].style.height=parseInt(height*c.carouselCfg.reflectionSize)+"px"})}};jQuery.fn.Carousel=jQuery.iCarousel.build;jQuery.extend({easing:{linear:function(e,g,c,f,d){return((-Math.cos(e*Math.PI)/2)+0.5)*f+c},easein:function(e,g,c,f,d){return f*(g/=d)*g*g+c},easeout:function(e,g,c,f,d){return -f*((g=g/d-1)*g*g*g-1)+c},easeboth:function(e,g,c,f,d){if((g/=d/2)<1){return f/2*g*g*g*g+c}return -f/2*((g-=2)*g*g*g-2)+c},bounceout:function(e,g,c,f,d){if((g/=d)<(1/2.75)){return f*(7.5625*g*g)+c}else{if(g<(2/2.75)){return f*(7.5625*(g-=(1.5/2.75))*g+0.75)+c}else{if(g<(2.5/2.75)){return f*(7.5625*(g-=(2.25/2.75))*g+0.9375)+c}else{return f*(7.5625*(g-=(2.625/2.75))*g+0.984375)+c}}}},bouncein:function(e,g,c,f,d){if(jQuery.easing.bounceout){return f-jQuery.easing.bounceout(e,d-g,0,f,d)+c}return c+f},bounceboth:function(e,g,c,f,d){if(jQuery.easing.bouncein&&jQuery.easing.bounceout){if(g<d/2){return jQuery.easing.bouncein(e,g*2,0,f,d)*0.5+c}}return jQuery.easing.bounceout(e,g*2-d,0,f,d)*0.5+f*0.5+c;return c+f},elasticin:function(g,j,d,h,f){var c,e;if(j==0){return d}if((j/=f)==1){return d+h}c=h*0.3;g=f*0.3;if(c<Math.abs(h)){c=h;e=g/4}else{e=g/(2*Math.PI)*Math.asin(h/c)}return -(c*Math.pow(2,10*(j-=1))*Math.sin((j*f-e)*(2*Math.PI)/g))+d},elasticout:function(g,j,d,h,f){var c,e;if(j==0){return d}if((j/=f/2)==2){return d+h}c=h*0.3;g=f*0.3;if(c<Math.abs(h)){c=h;e=g/4}else{e=g/(2*Math.PI)*Math.asin(h/c)}return c*Math.pow(2,-10*j)*Math.sin((j*f-e)*(2*Math.PI)/g)+h+d},elasticboth:function(g,j,d,h,f){var c,e;if(j==0){return d}if((j/=f/2)==2){return d+h}c=h*0.3;g=f*0.3;if(c<Math.abs(h)){c=h;e=g/4}else{e=g/(2*Math.PI)*Math.asin(h/c)}if(j<1){return -0.5*(c*Math.pow(2,10*(j-=1))*Math.sin((j*f-e)*(2*Math.PI)/g))+d}return c*Math.pow(2,-10*(j-=1))*Math.sin((j*f-e)*(2*Math.PI)/g)*0.5+h+d}}});jQuery.iFisheye={build:function(c){return this.each(function(){var d=this;d.fisheyeCfg={items:jQuery(c.items,this),container:jQuery(c.container,this),pos:jQuery.iUtil.getPosition(this),itemWidth:c.itemWidth,itemsText:c.itemsText,proximity:c.proximity,valign:c.valign,halign:c.halign,maxWidth:c.maxWidth};jQuery.iFisheye.positionContainer(d,0);jQuery(window).bind("resize",function(){d.fisheyeCfg.pos=jQuery.iUtil.getPosition(d);jQuery.iFisheye.positionContainer(d,0);jQuery.iFisheye.positionItems(d)});jQuery.iFisheye.positionItems(d);d.fisheyeCfg.items.bind("mouseover",function(){jQuery(d.fisheyeCfg.itemsText,this).get(0).style.display="block"}).bind("mouseout",function(){jQuery(d.fisheyeCfg.itemsText,this).get(0).style.display="none"});jQuery(document).bind("mousemove",function(h){var j=jQuery.iUtil.getPointer(h);var g=0;if(d.fisheyeCfg.halign&&d.fisheyeCfg.halign=="center"){var f=j.x-d.fisheyeCfg.pos.x-(d.offsetWidth-d.fisheyeCfg.itemWidth*d.fisheyeCfg.items.size())/2-d.fisheyeCfg.itemWidth/2}else{if(d.fisheyeCfg.halign&&d.fisheyeCfg.halign=="right"){var f=j.x-d.fisheyeCfg.pos.x-d.offsetWidth+d.fisheyeCfg.itemWidth*d.fisheyeCfg.items.size()}else{var f=j.x-d.fisheyeCfg.pos.x}}var k=Math.pow(j.y-d.fisheyeCfg.pos.y-d.offsetHeight/2,2);d.fisheyeCfg.items.each(function(e){distance=Math.sqrt(Math.pow(f-e*d.fisheyeCfg.itemWidth,2)+k);distance-=d.fisheyeCfg.itemWidth/2;distance=distance<0?0:distance;distance=distance>d.fisheyeCfg.proximity?d.fisheyeCfg.proximity:distance;distance=d.fisheyeCfg.proximity-distance;extraWidth=d.fisheyeCfg.maxWidth*distance/d.fisheyeCfg.proximity;this.style.width=d.fisheyeCfg.itemWidth+extraWidth+"px";this.style.left=d.fisheyeCfg.itemWidth*e+g+"px";g+=extraWidth});jQuery.iFisheye.positionContainer(d,g)})})},positionContainer:function(d,c){if(d.fisheyeCfg.halign){if(d.fisheyeCfg.halign=="center"){d.fisheyeCfg.container.get(0).style.left=(d.offsetWidth-d.fisheyeCfg.itemWidth*d.fisheyeCfg.items.size())/2-c/2+"px"}else{if(d.fisheyeCfg.halign=="left"){d.fisheyeCfg.container.get(0).style.left=-c/d.fisheyeCfg.items.size()+"px"}else{if(d.fisheyeCfg.halign=="right"){d.fisheyeCfg.container.get(0).style.left=(d.offsetWidth-d.fisheyeCfg.itemWidth*d.fisheyeCfg.items.size())-c/2+"px"}}}}d.fisheyeCfg.container.get(0).style.width=d.fisheyeCfg.itemWidth*d.fisheyeCfg.items.size()+c+"px"},positionItems:function(c){c.fisheyeCfg.items.each(function(d){this.style.width=c.fisheyeCfg.itemWidth+"px";this.style.left=c.fisheyeCfg.itemWidth*d+"px"})}};jQuery.fn.Fisheye=jQuery.iFisheye.build;jQuery.iAuto={helper:null,content:null,iframe:null,timer:null,lastValue:null,currentValue:null,subject:null,selectedItem:null,items:null,empty:function(){jQuery.iAuto.content.empty();if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.hide()}},clear:function(){jQuery.iAuto.items=null;jQuery.iAuto.selectedItem=null;jQuery.iAuto.lastValue=jQuery.iAuto.subject.value;if(jQuery.iAuto.helper.css("display")=="block"){if(jQuery.iAuto.subject.autoCFG.fx){switch(jQuery.iAuto.subject.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeOut(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"slide":jQuery.iAuto.helper.SlideOutUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"blind":jQuery.iAuto.helper.BlindUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break}}else{jQuery.iAuto.helper.hide()}if(jQuery.iAuto.subject.autoCFG.onHide){jQuery.iAuto.subject.autoCFG.onHide.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}else{jQuery.iAuto.empty()}window.clearTimeout(jQuery.iAuto.timer)},update:function(){var d=jQuery.iAuto.subject;var c=jQuery.iAuto.getFieldValues(d);if(d&&c.item!=jQuery.iAuto.lastValue&&c.item.length>=d.autoCFG.minchars){jQuery.iAuto.lastValue=c.item;jQuery.iAuto.currentValue=c.item;data={field:jQuery(d).attr("name")||"field",value:c.item};jQuery.ajax({type:"POST",data:jQuery.param(data),success:function(e){d.autoCFG.lastSuggestion=jQuery("item",e);size=d.autoCFG.lastSuggestion.size();if(size>0){var g="";d.autoCFG.lastSuggestion.each(function(h){g+='<li rel="'+jQuery("value",this).text()+'" dir="'+h+'" style="cursor: default;">'+jQuery("text",this).text()+"</li>"});if(d.autoCFG.autofill){var f=jQuery("value",d.autoCFG.lastSuggestion.get(0)).text();d.value=c.pre+f+d.autoCFG.multipleSeparator+c.post;jQuery.iAuto.selection(d,c.item.length!=f.length?(c.pre.length+c.item.length):f.length,c.item.length!=f.length?(c.pre.length+f.length):f.length)}if(size>0){jQuery.iAuto.writeItems(d,g)}else{jQuery.iAuto.clear()}}else{jQuery.iAuto.clear()}},url:d.autoCFG.source})}},writeItems:function(f,h){jQuery.iAuto.content.html(h);jQuery.iAuto.items=jQuery("li",jQuery.iAuto.content.get(0));jQuery.iAuto.items.mouseover(jQuery.iAuto.hoverItem).bind("click",jQuery.iAuto.clickItem);var c=jQuery.iUtil.getPosition(f);var e=jQuery.iUtil.getSize(f);jQuery.iAuto.helper.css("top",c.y+e.hb+"px").css("left",c.x+"px").addClass(f.autoCFG.helperClass);if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.css("display","block").css("top",c.y+e.hb+"px").css("left",c.x+"px").css("width",jQuery.iAuto.helper.css("width")).css("height",jQuery.iAuto.helper.css("height"))}jQuery.iAuto.selectedItem=0;jQuery.iAuto.items.get(0).className=f.autoCFG.selectClass;jQuery.iAuto.applyOn(f,f.autoCFG.lastSuggestion.get(0),"onHighlight");if(jQuery.iAuto.helper.css("display")=="none"){if(f.autoCFG.inputWidth){var g=jQuery.iUtil.getPadding(f,true);var d=jQuery.iUtil.getBorder(f,true);jQuery.iAuto.helper.css("width",f.offsetWidth-(jQuery.boxModel?(g.l+g.r+d.l+d.r):0)+"px")}if(f.autoCFG.fx){switch(f.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeIn(f.autoCFG.fx.duration);break;case"slide":jQuery.iAuto.helper.SlideInUp(f.autoCFG.fx.duration);break;case"blind":jQuery.iAuto.helper.BlindDown(f.autoCFG.fx.duration);break}}else{jQuery.iAuto.helper.show()}if(jQuery.iAuto.subject.autoCFG.onShow){jQuery.iAuto.subject.autoCFG.onShow.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}},checkCache:function(){var c=this;if(c.autoCFG.lastSuggestion){jQuery.iAuto.lastValue=c.value;jQuery.iAuto.currentValue=c.value;var d="";c.autoCFG.lastSuggestion.each(function(e){value=jQuery("value",this).text().toLowerCase();inputValue=c.value.toLowerCase();if(value.indexOf(inputValue)==0){d+='<li rel="'+jQuery("value",this).text()+'" dir="'+e+'" style="cursor: default;">'+jQuery("text",this).text()+"</li>"}});if(d!=""){jQuery.iAuto.writeItems(c,d);this.autoCFG.inCache=true;return}}c.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false},selection:function(e,f,d){if(e.createTextRange){var c=e.createTextRange();c.collapse(true);c.moveStart("character",f);c.moveEnd("character",-d+f);c.select()}else{if(e.setSelectionRange){e.setSelectionRange(f,d)}else{if(e.selectionStart){e.selectionStart=f;e.selectionEnd=d}}}e.focus()},getSelectionStart:function(d){if(d.selectionStart){return d.selectionStart}else{if(d.createTextRange){var c=document.selection.createRange();var e=c.duplicate();return 0-e.moveStart("character",-100000)}}},getFieldValues:function(g){var c={value:g.value,pre:"",post:"",item:""};if(g.autoCFG.multiple){var f=false;var e=jQuery.iAuto.getSelectionStart(g)||0;var h=c.value.split(g.autoCFG.multipleSeparator);for(var d=0;d<h.length;d++){if((c.pre.length+h[d].length>=e||e==0)&&!f){if(c.pre.length<=e){c.item=h[d]}else{c.post+=h[d]+(h[d]!=""?g.autoCFG.multipleSeparator:"")}f=true}else{if(f){c.post+=h[d]+(h[d]!=""?g.autoCFG.multipleSeparator:"")}}if(!f){c.pre+=h[d]+(h.length>1?g.autoCFG.multipleSeparator:"")}}}else{c.item=c.value}return c},autocomplete:function(g){window.clearTimeout(jQuery.iAuto.timer);var d=jQuery.iAuto.getFieldValues(this);var h=g.charCode||g.keyCode||-1;if(/13|27|35|36|38|40|9/.test(h)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{g.preventDefault();g.stopPropagation()}if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}else{jQuery.iAuto.selectedItem=-1}switch(h){case 9:case 13:if(jQuery.iAuto.selectedItem==-1){jQuery.iAuto.selectedItem=0}var f=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0);var j=f.getAttribute("rel");this.value=d.pre+j+this.autoCFG.multipleSeparator+d.post;jQuery.iAuto.lastValue=d.item;jQuery.iAuto.selection(this,d.pre.length+j.length+this.autoCFG.multipleSeparator.length,d.pre.length+j.length+this.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(this.autoCFG.onSelect){iteration=parseInt(f.getAttribute("dir"))||0;jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion.get(iteration),"onSelect")}if(this.scrollIntoView){this.scrollIntoView(false)}return h!=13;break;case 27:this.value=d.pre+jQuery.iAuto.lastValue+this.autoCFG.multipleSeparator+d.post;this.autoCFG.lastSuggestion=null;jQuery.iAuto.clear();if(this.scrollIntoView){this.scrollIntoView(false)}return false;break;case 35:jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1;break;case 36:jQuery.iAuto.selectedItem=0;break;case 38:jQuery.iAuto.selectedItem--;if(jQuery.iAuto.selectedItem<0){jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1}break;case 40:jQuery.iAuto.selectedItem++;if(jQuery.iAuto.selectedItem==jQuery.iAuto.items.size()){jQuery.iAuto.selectedItem=0}break}jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion.get(jQuery.iAuto.selectedItem||0),"onHighlight");jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=this.autoCFG.selectClass;if(jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView(false)}if(this.autoCFG.autofill){var c=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).getAttribute("rel");this.value=d.pre+c+this.autoCFG.multipleSeparator+d.post;if(jQuery.iAuto.lastValue.length!=c.length){jQuery.iAuto.selection(this,d.pre.length+jQuery.iAuto.lastValue.length,d.pre.length+c.length)}}return false}jQuery.iAuto.checkCache.apply(this);if(this.autoCFG.inCache==false){if(d.item!=jQuery.iAuto.lastValue&&d.item.length>=this.autoCFG.minchars){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.update,this.autoCFG.delay)}if(jQuery.iAuto.items){jQuery.iAuto.clear()}}return true},applyOn:function(f,d,c){if(f.autoCFG[c]){var e={};childs=d.getElementsByTagName("*");for(i=0;i<childs.length;i++){e[childs[i].tagName]=childs[i].firstChild.nodeValue}f.autoCFG[c].apply(f,[e])}},hoverItem:function(c){if(jQuery.iAuto.items){if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className="";jQuery.iAuto.selectedItem=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=jQuery.iAuto.subject.autoCFG.selectClass}},clickItem:function(d){window.clearTimeout(jQuery.iAuto.timer);d=d||jQuery.event.fix(window.event);d.preventDefault();d.stopPropagation();var c=jQuery.iAuto.getFieldValues(jQuery.iAuto.subject);var e=this.getAttribute("rel");jQuery.iAuto.subject.value=c.pre+e+jQuery.iAuto.subject.autoCFG.multipleSeparator+c.post;jQuery.iAuto.lastValue=this.getAttribute("rel");jQuery.iAuto.selection(jQuery.iAuto.subject,c.pre.length+e.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length,c.pre.length+e.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(jQuery.iAuto.subject.autoCFG.onSelect){iteration=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.applyOn(jQuery.iAuto.subject,jQuery.iAuto.subject.autoCFG.lastSuggestion.get(iteration),"onSelect")}return false},protect:function(c){pressedKey=c.charCode||c.keyCode||-1;if(/13|27|35|36|38|40/.test(pressedKey)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{c.preventDefault();c.stopPropagation()}return false}},build:function(c){if(!c.source||!jQuery.iUtil){return}if(!jQuery.iAuto.helper){if(jQuery.browser.msie){jQuery("body",document).append('<iframe style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" id="autocompleteIframe" src="javascript:false;" frameborder="0" scrolling="no"></iframe>');jQuery.iAuto.iframe=jQuery("#autocompleteIframe")}jQuery("body",document).append('<div id="autocompleteHelper" style="position: absolute; top: 0; left: 0; z-index: 30001; display: none;"><ul style="margin: 0;padding: 0; list-style: none; z-index: 30002;">&nbsp;</ul></div>');jQuery.iAuto.helper=jQuery("#autocompleteHelper");jQuery.iAuto.content=jQuery("ul",jQuery.iAuto.helper)}return this.each(function(){if(this.tagName!="INPUT"&&this.getAttribute("type")!="text"){return}this.autoCFG={};this.autoCFG.source=c.source;this.autoCFG.minchars=Math.abs(parseInt(c.minchars)||1);this.autoCFG.helperClass=c.helperClass?c.helperClass:"";this.autoCFG.selectClass=c.selectClass?c.selectClass:"";this.autoCFG.onSelect=c.onSelect&&c.onSelect.constructor==Function?c.onSelect:null;this.autoCFG.onShow=c.onShow&&c.onShow.constructor==Function?c.onShow:null;this.autoCFG.onHide=c.onHide&&c.onHide.constructor==Function?c.onHide:null;this.autoCFG.onHighlight=c.onHighlight&&c.onHighlight.constructor==Function?c.onHighlight:null;this.autoCFG.inputWidth=c.inputWidth||false;this.autoCFG.multiple=c.multiple||false;this.autoCFG.multipleSeparator=this.autoCFG.multiple?(c.multipleSeparator||", "):"";this.autoCFG.autofill=c.autofill?true:false;this.autoCFG.delay=Math.abs(parseInt(c.delay)||1000);if(c.fx&&c.fx.constructor==Object){if(!c.fx.type||!/fade|slide|blind/.test(c.fx.type)){c.fx.type="slide"}if(c.fx.type=="slide"&&!jQuery.fx.slide){return}if(c.fx.type=="blind"&&!jQuery.fx.BlindDirection){return}c.fx.duration=Math.abs(parseInt(c.fx.duration)||400);if(c.fx.duration>this.autoCFG.delay){c.fx.duration=this.autoCFG.delay-100}this.autoCFG.fx=c.fx}this.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false;jQuery(this).attr("autocomplete","off").focus(function(){jQuery.iAuto.subject=this;jQuery.iAuto.lastValue=this.value}).keypress(jQuery.iAuto.protect).keyup(jQuery.iAuto.autocomplete).blur(function(){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.clear,200)})})}};jQuery.fn.Autocomplete=jQuery.iAuto.build;jQuery.iAutoscroller={timer:null,elToScroll:null,elsToScroll:null,step:10,start:function(e,d,f,c){jQuery.iAutoscroller.elToScroll=e;jQuery.iAutoscroller.elsToScroll=d;jQuery.iAutoscroller.step=parseInt(f)||10;jQuery.iAutoscroller.timer=window.setInterval(jQuery.iAutoscroller.doScroll,parseInt(c)||40)},doScroll:function(){for(i=0;i<jQuery.iAutoscroller.elsToScroll.length;i++){if(!jQuery.iAutoscroller.elsToScroll[i].parentData){jQuery.iAutoscroller.elsToScroll[i].parentData=jQuery.extend(jQuery.iUtil.getPositionLite(jQuery.iAutoscroller.elsToScroll[i]),jQuery.iUtil.getSizeLite(jQuery.iAutoscroller.elsToScroll[i]),jQuery.iUtil.getScroll(jQuery.iAutoscroller.elsToScroll[i]))}else{jQuery.iAutoscroller.elsToScroll[i].parentData.t=jQuery.iAutoscroller.elsToScroll[i].scrollTop;jQuery.iAutoscroller.elsToScroll[i].parentData.l=jQuery.iAutoscroller.elsToScroll[i].scrollLeft}if(jQuery.iAutoscroller.elToScroll.dragCfg&&jQuery.iAutoscroller.elToScroll.dragCfg.init==true){elementData={x:jQuery.iAutoscroller.elToScroll.dragCfg.nx,y:jQuery.iAutoscroller.elToScroll.dragCfg.ny,wb:jQuery.iAutoscroller.elToScroll.dragCfg.oC.wb,hb:jQuery.iAutoscroller.elToScroll.dragCfg.oC.hb}}else{elementData=jQuery.extend(jQuery.iUtil.getPositionLite(jQuery.iAutoscroller.elToScroll),jQuery.iUtil.getSizeLite(jQuery.iAutoscroller.elToScroll))}if(jQuery.iAutoscroller.elsToScroll[i].parentData.t>0&&jQuery.iAutoscroller.elsToScroll[i].parentData.y+jQuery.iAutoscroller.elsToScroll[i].parentData.t>elementData.y){jQuery.iAutoscroller.elsToScroll[i].scrollTop-=jQuery.iAutoscroller.step}else{if(jQuery.iAutoscroller.elsToScroll[i].parentData.t<=jQuery.iAutoscroller.elsToScroll[i].parentData.h&&jQuery.iAutoscroller.elsToScroll[i].parentData.t+jQuery.iAutoscroller.elsToScroll[i].parentData.hb<elementData.y+elementData.hb){jQuery.iAutoscroller.elsToScroll[i].scrollTop+=jQuery.iAutoscroller.step}}if(jQuery.iAutoscroller.elsToScroll[i].parentData.l>0&&jQuery.iAutoscroller.elsToScroll[i].parentData.x+jQuery.iAutoscroller.elsToScroll[i].parentData.l>elementData.x){jQuery.iAutoscroller.elsToScroll[i].scrollLeft-=jQuery.iAutoscroller.step}else{if(jQuery.iAutoscroller.elsToScroll[i].parentData.l<=jQuery.iAutoscroller.elsToScroll[i].parentData.wh&&jQuery.iAutoscroller.elsToScroll[i].parentData.l+jQuery.iAutoscroller.elsToScroll[i].parentData.wb<elementData.x+elementData.wb){jQuery.iAutoscroller.elsToScroll[i].scrollLeft+=jQuery.iAutoscroller.step}}}},stop:function(){window.clearInterval(jQuery.iAutoscroller.timer);jQuery.iAutoscroller.elToScroll=null;jQuery.iAutoscroller.elsToScroll=null;for(i in jQuery.iAutoscroller.elsToScroll){jQuery.iAutoscroller.elsToScroll[i].parentData=null}}};jQuery.iDrag={helper:null,dragged:null,destroy:function(){return this.each(function(){if(this.isDraggable){this.dragCfg.dhe.unbind("mousedown",jQuery.iDrag.draginit);this.dragCfg=null;this.isDraggable=false;if(jQuery.browser.msie){this.unselectable="off"}else{this.style.MozUserSelect="";this.style.KhtmlUserSelect="";this.style.userSelect=""}}})},draginit:function(c){if(jQuery.iDrag.dragged!=null){jQuery.iDrag.dragstop(c);return false}var d=this.dragElem;jQuery(document).bind("mousemove",jQuery.iDrag.dragmove).bind("mouseup",jQuery.iDrag.dragstop);d.dragCfg.pointer=jQuery.iUtil.getPointer(c);d.dragCfg.currentPointer=d.dragCfg.pointer;d.dragCfg.init=false;d.dragCfg.fromHandler=this!=this.dragElem;jQuery.iDrag.dragged=d;if(d.dragCfg.si&&this!=this.dragElem){parentPos=jQuery.iUtil.getPosition(d.parentNode);sliderSize=jQuery.iUtil.getSize(d);sliderPos={x:parseInt(jQuery.css(d,"left"))||0,y:parseInt(jQuery.css(d,"top"))||0};dx=d.dragCfg.currentPointer.x-parentPos.x-sliderSize.wb/2-sliderPos.x;dy=d.dragCfg.currentPointer.y-parentPos.y-sliderSize.hb/2-sliderPos.y;jQuery.iSlider.dragmoveBy(d,[dx,dy])}return jQuery.selectKeyHelper||false},dragstart:function(h){var j=jQuery.iDrag.dragged;j.dragCfg.init=true;var g=j.style;j.dragCfg.oD=jQuery.css(j,"display");j.dragCfg.oP=jQuery.css(j,"position");if(!j.dragCfg.initialPosition){j.dragCfg.initialPosition=j.dragCfg.oP}j.dragCfg.oR={x:parseInt(jQuery.css(j,"left"))||0,y:parseInt(jQuery.css(j,"top"))||0};j.dragCfg.diffX=0;j.dragCfg.diffY=0;if(jQuery.browser.msie){var f=jQuery.iUtil.getBorder(j,true);j.dragCfg.diffX=f.l||0;j.dragCfg.diffY=f.t||0}j.dragCfg.oC=jQuery.extend(jQuery.iUtil.getPosition(j),jQuery.iUtil.getSize(j));if(j.dragCfg.oP!="relative"&&j.dragCfg.oP!="absolute"){g.position="relative"}jQuery.iDrag.helper.empty();var d=j.cloneNode(true);jQuery(d).css({display:"block",left:"0px",top:"0px"});d.style.marginTop="0";d.style.marginRight="0";d.style.marginBottom="0";d.style.marginLeft="0";jQuery.iDrag.helper.append(d);var c=jQuery.iDrag.helper.get(0).style;if(j.dragCfg.autoSize){c.width="auto";c.height="auto"}else{c.height=j.dragCfg.oC.hb+"px";c.width=j.dragCfg.oC.wb+"px"}c.display="block";c.marginTop="0px";c.marginRight="0px";c.marginBottom="0px";c.marginLeft="0px";jQuery.extend(j.dragCfg.oC,jQuery.iUtil.getSize(d));if(j.dragCfg.cursorAt){if(j.dragCfg.cursorAt.left){j.dragCfg.oR.x+=j.dragCfg.pointer.x-j.dragCfg.oC.x-j.dragCfg.cursorAt.left;j.dragCfg.oC.x=j.dragCfg.pointer.x-j.dragCfg.cursorAt.left}if(j.dragCfg.cursorAt.top){j.dragCfg.oR.y+=j.dragCfg.pointer.y-j.dragCfg.oC.y-j.dragCfg.cursorAt.top;j.dragCfg.oC.y=j.dragCfg.pointer.y-j.dragCfg.cursorAt.top}if(j.dragCfg.cursorAt.right){j.dragCfg.oR.x+=j.dragCfg.pointer.x-j.dragCfg.oC.x-j.dragCfg.oC.hb+j.dragCfg.cursorAt.right;j.dragCfg.oC.x=j.dragCfg.pointer.x-j.dragCfg.oC.wb+j.dragCfg.cursorAt.right}if(j.dragCfg.cursorAt.bottom){j.dragCfg.oR.y+=j.dragCfg.pointer.y-j.dragCfg.oC.y-j.dragCfg.oC.hb+j.dragCfg.cursorAt.bottom;j.dragCfg.oC.y=j.dragCfg.pointer.y-j.dragCfg.oC.hb+j.dragCfg.cursorAt.bottom}}j.dragCfg.nx=j.dragCfg.oR.x;j.dragCfg.ny=j.dragCfg.oR.y;if(j.dragCfg.insideParent||j.dragCfg.containment=="parent"){parentBorders=jQuery.iUtil.getBorder(j.parentNode,true);j.dragCfg.oC.x=j.offsetLeft+(jQuery.browser.msie?0:jQuery.browser.opera?-parentBorders.l:parentBorders.l);j.dragCfg.oC.y=j.offsetTop+(jQuery.browser.msie?0:jQuery.browser.opera?-parentBorders.t:parentBorders.t);jQuery(j.parentNode).append(jQuery.iDrag.helper.get(0))}if(j.dragCfg.containment){jQuery.iDrag.getContainment(j);j.dragCfg.onDragModifier.containment=jQuery.iDrag.fitToContainer}if(j.dragCfg.si){jQuery.iSlider.modifyContainer(j)}c.left=j.dragCfg.oC.x-j.dragCfg.diffX+"px";c.top=j.dragCfg.oC.y-j.dragCfg.diffY+"px";c.width=j.dragCfg.oC.wb+"px";c.height=j.dragCfg.oC.hb+"px";jQuery.iDrag.dragged.dragCfg.prot=false;if(j.dragCfg.gx){j.dragCfg.onDragModifier.grid=jQuery.iDrag.snapToGrid}if(j.dragCfg.zIndex!=false){jQuery.iDrag.helper.css("zIndex",j.dragCfg.zIndex)}if(j.dragCfg.opacity){jQuery.iDrag.helper.css("opacity",j.dragCfg.opacity);if(window.ActiveXObject){jQuery.iDrag.helper.css("filter","alpha(opacity="+j.dragCfg.opacity*100+")")}}if(j.dragCfg.frameClass){jQuery.iDrag.helper.addClass(j.dragCfg.frameClass);jQuery.iDrag.helper.get(0).firstChild.style.display="none"}if(j.dragCfg.onStart){j.dragCfg.onStart.apply(j,[d,j.dragCfg.oR.x,j.dragCfg.oR.y])}if(jQuery.iDrop&&jQuery.iDrop.count>0){jQuery.iDrop.highlight(j)}if(j.dragCfg.ghosting==false){g.display="none"}return false},getContainment:function(e){if(e.dragCfg.containment.constructor==String){if(e.dragCfg.containment=="parent"){e.dragCfg.cont=jQuery.extend({x:0,y:0},jQuery.iUtil.getSize(e.parentNode));var d=jQuery.iUtil.getBorder(e.parentNode,true);e.dragCfg.cont.w=e.dragCfg.cont.wb-d.l-d.r;e.dragCfg.cont.h=e.dragCfg.cont.hb-d.t-d.b}else{if(e.dragCfg.containment=="document"){var c=jQuery.iUtil.getClient();e.dragCfg.cont={x:0,y:0,w:c.w,h:c.h}}}}else{if(e.dragCfg.containment.constructor==Array){e.dragCfg.cont={x:parseInt(e.dragCfg.containment[0])||0,y:parseInt(e.dragCfg.containment[1])||0,w:parseInt(e.dragCfg.containment[2])||0,h:parseInt(e.dragCfg.containment[3])||0}}}e.dragCfg.cont.dx=e.dragCfg.cont.x-e.dragCfg.oC.x;e.dragCfg.cont.dy=e.dragCfg.cont.y-e.dragCfg.oC.y},hidehelper:function(c){if(c.dragCfg.insideParent||c.dragCfg.containment=="parent"){jQuery("body",document).append(jQuery.iDrag.helper.get(0))}jQuery.iDrag.helper.empty().hide().css("opacity",1);if(window.ActiveXObject){jQuery.iDrag.helper.css("filter","alpha(opacity=100)")}},dragstop:function(h){jQuery(document).unbind("mousemove",jQuery.iDrag.dragmove).unbind("mouseup",jQuery.iDrag.dragstop);if(jQuery.iDrag.dragged==null){return}var d=jQuery.iDrag.dragged;jQuery.iDrag.dragged=null;if(d.dragCfg.init==false){return false}if(d.dragCfg.so==true){jQuery(d).css("position",d.dragCfg.oP)}var g=d.style;if(d.si){jQuery.iDrag.helper.css("cursor","move")}if(d.dragCfg.frameClass){jQuery.iDrag.helper.removeClass(d.dragCfg.frameClass)}if(d.dragCfg.revert==false){if(d.dragCfg.fx>0){if(!d.dragCfg.axis||d.dragCfg.axis=="horizontally"){var c=new jQuery.fx(d,{duration:d.dragCfg.fx},"left");c.custom(d.dragCfg.oR.x,d.dragCfg.nRx)}if(!d.dragCfg.axis||d.dragCfg.axis=="vertically"){var j=new jQuery.fx(d,{duration:d.dragCfg.fx},"top");j.custom(d.dragCfg.oR.y,d.dragCfg.nRy)}}else{if(!d.dragCfg.axis||d.dragCfg.axis=="horizontally"){d.style.left=d.dragCfg.nRx+"px"}if(!d.dragCfg.axis||d.dragCfg.axis=="vertically"){d.style.top=d.dragCfg.nRy+"px"}}jQuery.iDrag.hidehelper(d);if(d.dragCfg.ghosting==false){jQuery(d).css("display",d.dragCfg.oD)}}else{if(d.dragCfg.fx>0){d.dragCfg.prot=true;var f=false;if(jQuery.iDrop&&jQuery.iSort&&d.dragCfg.so){f=jQuery.iUtil.getPosition(jQuery.iSort.helper.get(0))}jQuery.iDrag.helper.animate({left:f?f.x:d.dragCfg.oC.x,top:f?f.y:d.dragCfg.oC.y},d.dragCfg.fx,function(){d.dragCfg.prot=false;if(d.dragCfg.ghosting==false){d.style.display=d.dragCfg.oD}jQuery.iDrag.hidehelper(d)})}else{jQuery.iDrag.hidehelper(d);if(d.dragCfg.ghosting==false){jQuery(d).css("display",d.dragCfg.oD)}}}if(jQuery.iDrop&&jQuery.iDrop.count>0){jQuery.iDrop.checkdrop(d)}if(jQuery.iSort&&d.dragCfg.so){jQuery.iSort.check(d)}if(d.dragCfg.onChange&&(d.dragCfg.nRx!=d.dragCfg.oR.x||d.dragCfg.nRy!=d.dragCfg.oR.y)){d.dragCfg.onChange.apply(d,d.dragCfg.lastSi||[0,0,d.dragCfg.nRx,d.dragCfg.nRy])}if(d.dragCfg.onStop){d.dragCfg.onStop.apply(d)}return false},snapToGrid:function(c,f,e,d){if(e!=0){e=parseInt((e+(this.dragCfg.gx*e/Math.abs(e))/2)/this.dragCfg.gx)*this.dragCfg.gx}if(d!=0){d=parseInt((d+(this.dragCfg.gy*d/Math.abs(d))/2)/this.dragCfg.gy)*this.dragCfg.gy}return{dx:e,dy:d,x:0,y:0}},fitToContainer:function(c,f,e,d){e=Math.min(Math.max(e,this.dragCfg.cont.dx),this.dragCfg.cont.w+this.dragCfg.cont.dx-this.dragCfg.oC.wb);d=Math.min(Math.max(d,this.dragCfg.cont.dy),this.dragCfg.cont.h+this.dragCfg.cont.dy-this.dragCfg.oC.hb);return{dx:e,dy:d,x:0,y:0}},dragmove:function(j){if(jQuery.iDrag.dragged==null||jQuery.iDrag.dragged.dragCfg.prot==true){return}var c=jQuery.iDrag.dragged;c.dragCfg.currentPointer=jQuery.iUtil.getPointer(j);if(c.dragCfg.init==false){distance=Math.sqrt(Math.pow(c.dragCfg.pointer.x-c.dragCfg.currentPointer.x,2)+Math.pow(c.dragCfg.pointer.y-c.dragCfg.currentPointer.y,2));if(distance<c.dragCfg.snapDistance){return}else{jQuery.iDrag.dragstart(j)}}var f=c.dragCfg.currentPointer.x-c.dragCfg.pointer.x;var d=c.dragCfg.currentPointer.y-c.dragCfg.pointer.y;for(var g in c.dragCfg.onDragModifier){var h=c.dragCfg.onDragModifier[g].apply(c,[c.dragCfg.oR.x+f,c.dragCfg.oR.y+d,f,d]);if(h&&h.constructor==Object){f=g!="user"?h.dx:(h.x-c.dragCfg.oR.x);d=g!="user"?h.dy:(h.y-c.dragCfg.oR.y)}}c.dragCfg.nx=c.dragCfg.oC.x+f-c.dragCfg.diffX;c.dragCfg.ny=c.dragCfg.oC.y+d-c.dragCfg.diffY;if(c.dragCfg.si&&(c.dragCfg.onSlide||c.dragCfg.onChange)){jQuery.iSlider.onSlide(c,c.dragCfg.nx,c.dragCfg.ny)}if(c.dragCfg.onDrag){c.dragCfg.onDrag.apply(c,[c.dragCfg.oR.x+f,c.dragCfg.oR.y+d])}if(!c.dragCfg.axis||c.dragCfg.axis=="horizontally"){c.dragCfg.nRx=c.dragCfg.oR.x+f;jQuery.iDrag.helper.get(0).style.left=c.dragCfg.nx+"px"}if(!c.dragCfg.axis||c.dragCfg.axis=="vertically"){c.dragCfg.nRy=c.dragCfg.oR.y+d;jQuery.iDrag.helper.get(0).style.top=c.dragCfg.ny+"px"}if(jQuery.iDrop&&jQuery.iDrop.count>0){jQuery.iDrop.checkhover(c)}return false},build:function(e){if(!jQuery.iDrag.helper){jQuery("body",document).append('<div id="dragHelper"></div>');jQuery.iDrag.helper=jQuery("#dragHelper");var d=jQuery.iDrag.helper.get(0);var c=d.style;c.position="absolute";c.display="none";c.cursor="move";c.listStyle="none";c.overflow="hidden";if(window.ActiveXObject){d.unselectable="on"}else{c.mozUserSelect="none";c.userSelect="none";c.KhtmlUserSelect="none"}}if(!e){e={}}return this.each(function(){if(this.isDraggable||!jQuery.iUtil){return}if(window.ActiveXObject){this.onselectstart=function(){return false};this.ondragstart=function(){return false}}var g=this;var f=e.handle?jQuery(this).find(e.handle):jQuery(this);if(jQuery.browser.msie){f.each(function(){this.unselectable="on"})}else{f.css("-moz-user-select","none");f.css("user-select","none");f.css("-khtml-user-select","none")}this.dragCfg={dhe:f,revert:e.revert?true:false,ghosting:e.ghosting?true:false,so:e.so?e.so:false,si:e.si?e.si:false,insideParent:e.insideParent?e.insideParent:false,zIndex:e.zIndex?parseInt(e.zIndex)||0:false,opacity:e.opacity?parseFloat(e.opacity):false,fx:parseInt(e.fx)||null,hpc:e.hpc?e.hpc:false,onDragModifier:{},pointer:{},onStart:e.onStart&&e.onStart.constructor==Function?e.onStart:false,onStop:e.onStop&&e.onStop.constructor==Function?e.onStop:false,onChange:e.onChange&&e.onChange.constructor==Function?e.onChange:false,axis:/vertically|horizontally/.test(e.axis)?e.axis:false,snapDistance:e.snapDistance?parseInt(e.snapDistance)||0:0,cursorAt:e.cursorAt?e.cursorAt:false,autoSize:e.autoSize?true:false,frameClass:e.frameClass||false};if(e.onDragModifier&&e.onDragModifier.constructor==Function){this.dragCfg.onDragModifier.user=e.onDragModifier}if(e.onDrag&&e.onDrag.constructor==Function){this.dragCfg.onDrag=e.onDrag}if(e.containment&&((e.containment.constructor==String&&(e.containment=="parent"||e.containment=="document"))||(e.containment.constructor==Array&&e.containment.length==4))){this.dragCfg.containment=e.containment}if(e.fractions){this.dragCfg.fractions=e.fractions}if(e.grid){if(typeof e.grid=="number"){this.dragCfg.gx=parseInt(e.grid)||1;this.dragCfg.gy=parseInt(e.grid)||1}else{if(e.grid.length==2){this.dragCfg.gx=parseInt(e.grid[0])||1;this.dragCfg.gy=parseInt(e.grid[1])||1}}}if(e.onSlide&&e.onSlide.constructor==Function){this.dragCfg.onSlide=e.onSlide}this.isDraggable=true;f.each(function(){this.dragElem=g});f.bind("mousedown",jQuery.iDrag.draginit)})}};jQuery.fn.extend({DraggableDestroy:jQuery.iDrag.destroy,Draggable:jQuery.iDrag.build});jQuery.iDrop={fit:function(e,d,f,c){return e<=jQuery.iDrag.dragged.dragCfg.nx&&(e+f)>=(jQuery.iDrag.dragged.dragCfg.nx+jQuery.iDrag.dragged.dragCfg.oC.w)&&d<=jQuery.iDrag.dragged.dragCfg.ny&&(d+c)>=(jQuery.iDrag.dragged.dragCfg.ny+jQuery.iDrag.dragged.dragCfg.oC.h)?true:false},intersect:function(e,d,f,c){return !(e>(jQuery.iDrag.dragged.dragCfg.nx+jQuery.iDrag.dragged.dragCfg.oC.w)||(e+f)<jQuery.iDrag.dragged.dragCfg.nx||d>(jQuery.iDrag.dragged.dragCfg.ny+jQuery.iDrag.dragged.dragCfg.oC.h)||(d+c)<jQuery.iDrag.dragged.dragCfg.ny)?true:false},pointer:function(e,d,f,c){return e<jQuery.iDrag.dragged.dragCfg.currentPointer.x&&(e+f)>jQuery.iDrag.dragged.dragCfg.currentPointer.x&&d<jQuery.iDrag.dragged.dragCfg.currentPointer.y&&(d+c)>jQuery.iDrag.dragged.dragCfg.currentPointer.y?true:false},overzone:false,highlighted:{},count:0,zones:{},highlight:function(f){if(jQuery.iDrag.dragged==null){return}var e;jQuery.iDrop.highlighted={};var c=false;for(e in jQuery.iDrop.zones){if(jQuery.iDrop.zones[e]!=null){var d=jQuery.iDrop.zones[e].get(0);if(jQuery(jQuery.iDrag.dragged).is("."+d.dropCfg.a)){if(d.dropCfg.m==false){d.dropCfg.p=jQuery.extend(jQuery.iUtil.getPositionLite(d),jQuery.iUtil.getSizeLite(d));d.dropCfg.m=true}if(d.dropCfg.ac){jQuery.iDrop.zones[e].addClass(d.dropCfg.ac)}jQuery.iDrop.highlighted[e]=jQuery.iDrop.zones[e];if(jQuery.iSort&&d.dropCfg.s&&jQuery.iDrag.dragged.dragCfg.so){d.dropCfg.el=jQuery("."+d.dropCfg.a,d);f.style.display="none";jQuery.iSort.measure(d);d.dropCfg.os=jQuery.iSort.serialize(jQuery.attr(d,"id")).hash;f.style.display=f.dragCfg.oD;c=true}if(d.dropCfg.onActivate){d.dropCfg.onActivate.apply(jQuery.iDrop.zones[e].get(0),[jQuery.iDrag.dragged])}}}}if(c){jQuery.iSort.start()}},remeasure:function(){jQuery.iDrop.highlighted={};for(i in jQuery.iDrop.zones){if(jQuery.iDrop.zones[i]!=null){var c=jQuery.iDrop.zones[i].get(0);if(jQuery(jQuery.iDrag.dragged).is("."+c.dropCfg.a)){c.dropCfg.p=jQuery.extend(jQuery.iUtil.getPositionLite(c),jQuery.iUtil.getSizeLite(c));if(c.dropCfg.ac){jQuery.iDrop.zones[i].addClass(c.dropCfg.ac)}jQuery.iDrop.highlighted[i]=jQuery.iDrop.zones[i];if(jQuery.iSort&&c.dropCfg.s&&jQuery.iDrag.dragged.dragCfg.so){c.dropCfg.el=jQuery("."+c.dropCfg.a,c);elm.style.display="none";jQuery.iSort.measure(c);elm.style.display=elm.dragCfg.oD}}}}},checkhover:function(h){if(jQuery.iDrag.dragged==null){return}jQuery.iDrop.overzone=false;var g;var d=false;var c=0;for(g in jQuery.iDrop.highlighted){var f=jQuery.iDrop.highlighted[g].get(0);if(jQuery.iDrop.overzone==false&&jQuery.iDrop[f.dropCfg.t](f.dropCfg.p.x,f.dropCfg.p.y,f.dropCfg.p.wb,f.dropCfg.p.hb)){if(f.dropCfg.hc&&f.dropCfg.h==false){jQuery.iDrop.highlighted[g].addClass(f.dropCfg.hc)}if(f.dropCfg.h==false&&f.dropCfg.onHover){d=true}f.dropCfg.h=true;jQuery.iDrop.overzone=f;if(jQuery.iSort&&f.dropCfg.s&&jQuery.iDrag.dragged.dragCfg.so){jQuery.iSort.helper.get(0).className=f.dropCfg.shc;jQuery.iSort.checkhover(f)}c++}else{if(f.dropCfg.h==true){if(f.dropCfg.onOut){f.dropCfg.onOut.apply(f,[h,jQuery.iDrag.helper.get(0).firstChild,f.dropCfg.fx])}if(f.dropCfg.hc){jQuery.iDrop.highlighted[g].removeClass(f.dropCfg.hc)}f.dropCfg.h=false}}}if(jQuery.iSort&&!jQuery.iDrop.overzone&&jQuery.iDrag.dragged.so){jQuery.iSort.helper.get(0).style.display="none"}if(d){jQuery.iDrop.overzone.dropCfg.onHover.apply(jQuery.iDrop.overzone,[h,jQuery.iDrag.helper.get(0).firstChild])}},checkdrop:function(f){var d;for(d in jQuery.iDrop.highlighted){var c=jQuery.iDrop.highlighted[d].get(0);if(c.dropCfg.ac){jQuery.iDrop.highlighted[d].removeClass(c.dropCfg.ac)}if(c.dropCfg.hc){jQuery.iDrop.highlighted[d].removeClass(c.dropCfg.hc)}if(c.dropCfg.s){jQuery.iSort.changed[jQuery.iSort.changed.length]=d}if(c.dropCfg.onDrop&&c.dropCfg.h==true){c.dropCfg.h=false;c.dropCfg.onDrop.apply(c,[f,c.dropCfg.fx])}c.dropCfg.m=false;c.dropCfg.h=false}jQuery.iDrop.highlighted={}},destroy:function(){return this.each(function(){if(this.isDroppable){if(this.dropCfg.s){id=jQuery.attr(this,"id");jQuery.iSort.collected[id]=null;jQuery("."+this.dropCfg.a,this).DraggableDestroy()}jQuery.iDrop.zones["d"+this.idsa]=null;this.isDroppable=false;this.f=null}})},build:function(c){return this.each(function(){if(this.isDroppable==true||!c.accept||!jQuery.iUtil||!jQuery.iDrag){return}this.dropCfg={a:c.accept,ac:c.activeclass||false,hc:c.hoverclass||false,shc:c.helperclass||false,onDrop:c.ondrop||c.onDrop||false,onHover:c.onHover||c.onhover||false,onOut:c.onOut||c.onout||false,onActivate:c.onActivate||false,t:c.tolerance&&(c.tolerance=="fit"||c.tolerance=="intersect")?c.tolerance:"pointer",fx:c.fx?c.fx:false,m:false,h:false};if(c.sortable==true&&jQuery.iSort){id=jQuery.attr(this,"id");jQuery.iSort.collected[id]=this.dropCfg.a;this.dropCfg.s=true;if(c.onChange){this.dropCfg.onChange=c.onChange;this.dropCfg.os=jQuery.iSort.serialize(id).hash}}this.isDroppable=true;this.idsa=parseInt(Math.random()*10000);jQuery.iDrop.zones["d"+this.idsa]=jQuery(this);jQuery.iDrop.count++})}};jQuery.fn.extend({DroppableDestroy:jQuery.iDrop.destroy,Droppable:jQuery.iDrop.build});jQuery.recallDroppables=jQuery.iDrop.remeasure;jQuery.iExpander={helper:null,expand:function(){text=this.value;if(!text){return}style={fontFamily:jQuery(this).css("fontFamily")||"",fontSize:jQuery(this).css("fontSize")||"",fontWeight:jQuery(this).css("fontWeight")||"",fontStyle:jQuery(this).css("fontStyle")||"",fontStretch:jQuery(this).css("fontStretch")||"",fontVariant:jQuery(this).css("fontVariant")||"",letterSpacing:jQuery(this).css("letterSpacing")||"",wordSpacing:jQuery(this).css("wordSpacing")||""};jQuery.iExpander.helper.css(style);html=jQuery.iExpander.htmlEntities(text);html=html.replace(new RegExp("\\n","g"),"<br />");jQuery.iExpander.helper.html("pW");spacer=jQuery.iExpander.helper.get(0).offsetWidth;jQuery.iExpander.helper.html(html);width=jQuery.iExpander.helper.get(0).offsetWidth+spacer;if(this.Expander.limit&&width>this.Expander.limit[0]){width=this.Expander.limit[0]}this.style.width=width+"px";if(this.tagName=="TEXTAREA"){height=jQuery.iExpander.helper.get(0).offsetHeight+spacer;if(this.Expander.limit&&height>this.Expander.limit[1]){height=this.Expander.limit[1]}this.style.height=height+"px"}},htmlEntities:function(c){entities={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};for(i in entities){c=c.replace(new RegExp(i,"g"),entities[i])}return c},build:function(c){if(jQuery.iExpander.helper==null){jQuery("body",document).append('<div id="expanderHelper" style="position: absolute; top: 0; left: 0; visibility: hidden;"></div>');jQuery.iExpander.helper=jQuery("#expanderHelper")}return this.each(function(){if(/TEXTAREA|INPUT/.test(this.tagName)){if(this.tagName=="INPUT"){elType=this.getAttribute("type");if(!/text|password/.test(elType)){return}}if(c&&(c.constructor==Number||(c.constructor==Array&&c.length==2))){if(c.constructor==Number){c=[c,c]}else{c[0]=parseInt(c[0])||400;c[1]=parseInt(c[1])||400}this.Expander={limit:c}}jQuery(this).blur(jQuery.iExpander.expand).keyup(jQuery.iExpander.expand).keypress(jQuery.iExpander.expand);jQuery.iExpander.expand.apply(this)}})}};jQuery.fn.Autoexpand=jQuery.iExpander.build;jQuery.fxCheckTag=function(c){if(/^tr$|^td$|^tbody$|^caption$|^thead$|^tfoot$|^col$|^colgroup$|^th$|^body$|^header$|^script$|^frame$|^frameset$|^option$|^optgroup$|^meta$/i.test(c.nodeName)){return false}else{return true}};jQuery.fx.destroyWrapper=function(g,d){var h=g.firstChild;var f=h.style;f.position=d.position;f.marginTop=d.margins.t;f.marginLeft=d.margins.l;f.marginBottom=d.margins.b;f.marginRight=d.margins.r;f.top=d.top+"px";f.left=d.left+"px";g.parentNode.insertBefore(h,g);g.parentNode.removeChild(g)};jQuery.fx.buildWrapper=function(h){if(!jQuery.fxCheckTag(h)){return false}var r=jQuery(h);var n=h.style;var j=false;if(r.css("display")=="none"){oldVisibility=r.css("visibility");r.css("visibility","hidden").show();j=true}var f={};f.position=r.css("position");f.sizes=jQuery.iUtil.getSize(h);f.margins=jQuery.iUtil.getMargins(h);var g=h.currentStyle?h.currentStyle.styleFloat:r.css("float");f.top=parseInt(r.css("top"))||0;f.left=parseInt(r.css("left"))||0;var u="w_"+parseInt(Math.random()*10000);var k=document.createElement(/^img$|^br$|^input$|^hr$|^select$|^textarea$|^object$|^iframe$|^button$|^form$|^table$|^ul$|^dl$|^ol$/i.test(h.nodeName)?"div":h.nodeName);jQuery.attr(k,"id",u);var q=jQuery(k).addClass("fxWrapper");var c=k.style;var m=0;var d=0;if(f.position=="relative"||f.position=="absolute"){m=f.top;d=f.left}c.top=m+"px";c.left=d+"px";c.position=f.position!="relative"&&f.position!="absolute"?"relative":f.position;c.height=f.sizes.hb+"px";c.width=f.sizes.wb+"px";c.marginTop=f.margins.t;c.marginRight=f.margins.r;c.marginBottom=f.margins.b;c.marginLeft=f.margins.l;c.overflow="hidden";if(jQuery.browser.msie){c.styleFloat=g}else{c.cssFloat=g}if(jQuery.browser=="msie"){n.filter="alpha(opacity="+0.999*100+")"}n.opacity=0.999;h.parentNode.insertBefore(k,h);k.appendChild(h);n.marginTop="0px";n.marginRight="0px";n.marginBottom="0px";n.marginLeft="0px";n.position="absolute";n.listStyle="none";n.top="0px";n.left="0px";if(j){r.hide();n.visibility=oldVisibility}return{oldStyle:f,wrapper:jQuery(k)}};jQuery.fx.namedColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};jQuery.fx.parseColor=function(d,c){if(jQuery.fx.namedColors[d]){return{r:jQuery.fx.namedColors[d][0],g:jQuery.fx.namedColors[d][1],b:jQuery.fx.namedColors[d][2]}}else{if(result=/^rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)$/.exec(d)){return{r:parseInt(result[1]),g:parseInt(result[2]),b:parseInt(result[3])}}else{if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)$/.exec(d)){return{r:parseFloat(result[1])*2.55,g:parseFloat(result[2])*2.55,b:parseFloat(result[3])*2.55}}else{if(result=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(d)){return{r:parseInt("0x"+result[1]+result[1]),g:parseInt("0x"+result[2]+result[2]),b:parseInt("0x"+result[3]+result[3])}}else{if(result=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(d)){return{r:parseInt("0x"+result[1]),g:parseInt("0x"+result[2]),b:parseInt("0x"+result[3])}}else{return c==true?false:{r:255,g:255,b:255}}}}}}};jQuery.fx.cssProps={borderBottomWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,bottom:1,fontSize:1,height:1,left:1,letterSpacing:1,lineHeight:1,marginBottom:1,marginLeft:1,marginRight:1,marginTop:1,maxHeight:1,maxWidth:1,minHeight:1,minWidth:1,opacity:1,outlineOffset:1,outlineWidth:1,paddingBottom:1,paddingLeft:1,paddingRight:1,paddingTop:1,right:1,textIndent:1,top:1,width:1,zIndex:1};jQuery.fx.colorCssProps={backgroundColor:1,borderBottomColor:1,borderLeftColor:1,borderRightColor:1,borderTopColor:1,color:1,outlineColor:1};jQuery.fx.cssSides=["Top","Right","Bottom","Left"];jQuery.fx.cssSidesEnd={borderWidth:["border","Width"],borderColor:["border","Color"],margin:["margin",""],padding:["padding",""]};jQuery.fn.extend({animate:function(f,c,e,d){return this.queue(function(){var g=jQuery.speed(c,e,d);var h=new jQuery.fxe(this,g,f)})},pause:function(c,d){return this.queue(function(){var f=jQuery.speed(c,d);var g=new jQuery.pause(this,f)})},stop:function(c){return this.each(function(){if(this.animationHandler){jQuery.stopAnim(this,c)}})},stopAll:function(c){return this.each(function(){if(this.animationHandler){jQuery.stopAnim(this,c)}if(this.queue&&this.queue.fx){this.queue.fx=[]}})}});jQuery.extend({pause:function(e,d){var f=this,c;f.step=function(){if(jQuery.isFunction(d.complete)){d.complete.apply(e)}};f.timer=setInterval(function(){f.step()},d.duration);e.animationHandler=f},easing:{linear:function(e,g,c,f,d){return((-Math.cos(e*Math.PI)/2)+0.5)*f+c}},fxe:function(e,A,d){var n=this,v;var u=e.style;var k=jQuery.css(e,"overflow");var q=jQuery.css(e,"display");var m={};n.startTime=(new Date()).getTime();A.easing=A.easing&&jQuery.easing[A.easing]?A.easing:"linear";n.getValues=function(G,B){if(jQuery.fx.cssProps[G]){if(B=="show"||B=="hide"||B=="toggle"){if(!e.orig){e.orig={}}var z=parseFloat(jQuery.curCSS(e,G));e.orig[G]=z&&z>-10000?z:(parseFloat(jQuery.css(e,G))||0);B=B=="toggle"?(q=="none"?"show":"hide"):B;A[B]=true;m[G]=B=="show"?[0,e.orig[G]]:[e.orig[G],0];if(G!="opacity"){u[G]=m[G][0]+(G!="zIndex"&&G!="fontWeight"?"px":"")}else{jQuery.attr(u,"opacity",m[G][0])}}else{m[G]=[parseFloat(jQuery.curCSS(e,G)),parseFloat(B)||0]}}else{if(jQuery.fx.colorCssProps[G]){m[G]=[jQuery.fx.parseColor(jQuery.curCSS(e,G)),jQuery.fx.parseColor(B)]}else{if(/^margin$|padding$|border$|borderColor$|borderWidth$/i.test(G)){var D=B.replace(/\s+/g," ").replace(/rgb\s*\(\s*/g,"rgb(").replace(/\s*,\s*/g,",").replace(/\s*\)/g,")").match(/([^\s]+)/g);switch(G){case"margin":case"padding":case"borderWidth":case"borderColor":D[3]=D[3]||D[1]||D[0];D[2]=D[2]||D[0];D[1]=D[1]||D[0];for(var F=0;F<jQuery.fx.cssSides.length;F++){var C=jQuery.fx.cssSidesEnd[G][0]+jQuery.fx.cssSides[F]+jQuery.fx.cssSidesEnd[G][1];m[C]=G=="borderColor"?[jQuery.fx.parseColor(jQuery.curCSS(e,C)),jQuery.fx.parseColor(D[F])]:[parseFloat(jQuery.curCSS(e,C)),parseFloat(D[F])]}break;case"border":for(var F=0;F<D.length;F++){var H=parseFloat(D[F]);var I=!isNaN(H)?"Width":(!/transparent|none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/i.test(D[F])?"Color":false);if(I){for(var E=0;E<jQuery.fx.cssSides.length;E++){C="border"+jQuery.fx.cssSides[E]+I;m[C]=I=="Color"?[jQuery.fx.parseColor(jQuery.curCSS(e,C)),jQuery.fx.parseColor(D[F])]:[parseFloat(jQuery.curCSS(e,C)),H]}}else{u.borderStyle=D[F]}}break}}else{u[G]=B}}}return false};for(p in d){if(p=="style"){var c=jQuery.parseStyle(d[p]);for(np in c){this.getValues(np,c[np])}}else{if(p=="className"){if(document.styleSheets){for(var g=0;g<document.styleSheets.length;g++){var h=document.styleSheets[g].cssRules||document.styleSheets[g].rules||null;if(h){for(var f=0;f<h.length;f++){if(h[f].selectorText=="."+d[p]){var r=new RegExp("."+d[p]+" {");var w=h[f].style.cssText;var c=jQuery.parseStyle(w.replace(r,"").replace(/}/g,""));for(np in c){this.getValues(np,c[np])}}}}}}}else{this.getValues(p,d[p])}}}u.display=q=="none"?"block":q;u.overflow="hidden";n.step=function(){var z=(new Date()).getTime();if(z>A.duration+n.startTime){clearInterval(n.timer);n.timer=null;for(B in m){if(B=="opacity"){jQuery.attr(u,"opacity",m[B][1])}else{if(typeof m[B][1]=="object"){u[B]="rgb("+m[B][1].r+","+m[B][1].g+","+m[B][1].b+")"}else{u[B]=m[B][1]+(B!="zIndex"&&B!="fontWeight"?"px":"")}}}if(A.hide||A.show){for(var B in e.orig){if(B=="opacity"){jQuery.attr(u,B,e.orig[B])}else{u[B]=""}}}u.display=A.hide?"none":(q!="none"?q:"block");u.overflow=k;e.animationHandler=null;if(jQuery.isFunction(A.complete)){A.complete.apply(e)}}else{var D=z-this.startTime;var C=D/A.duration;for(B in m){if(typeof m[B][1]=="object"){u[B]="rgb("+parseInt(jQuery.easing[A.easing](C,D,m[B][0].r,(m[B][1].r-m[B][0].r),A.duration))+","+parseInt(jQuery.easing[A.easing](C,D,m[B][0].g,(m[B][1].g-m[B][0].g),A.duration))+","+parseInt(jQuery.easing[A.easing](C,D,m[B][0].b,(m[B][1].b-m[B][0].b),A.duration))+")"}else{var j=jQuery.easing[A.easing](C,D,m[B][0],(m[B][1]-m[B][0]),A.duration);if(B=="opacity"){jQuery.attr(u,"opacity",j)}else{u[B]=j+(B!="zIndex"&&B!="fontWeight"?"px":"")}}}}};n.timer=setInterval(function(){n.step()},13);e.animationHandler=n},stopAnim:function(d,c){if(c){d.animationHandler.startTime-=100000000}else{window.clearInterval(d.animationHandler.timer);d.animationHandler=null;jQuery.dequeue(d,"fx")}}});jQuery.parseStyle=function(d){var e={};if(typeof d=="string"){d=d.toLowerCase().split(";");for(var c=0;c<d.length;c++){rule=d[c].split(":");if(rule.length==2){e[jQuery.trim(rule[0].replace(/\-(\w)/g,function(f,g){return g.toUpperCase()}))]=jQuery.trim(rule[1])}}}return e};jQuery.fn.extend({BlindUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,c,e,"up",d)})},BlindDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,c,e,"down",d)})},BlindToggleVertically:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,c,e,"togglever",d)})},BlindLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,c,e,"left",d)})},BlindRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,c,e,"right",d)})},BlindToggleHorizontally:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,c,e,"togglehor",d)})}});jQuery.fx.BlindDirection=function(f,c,j,d,h){if(!jQuery.fxCheckTag(f)){jQuery.dequeue(f,"interfaceFX");return false}var g=this;g.el=jQuery(f);g.size=jQuery.iUtil.getSize(f);g.easing=typeof j=="string"?j:h||null;if(!f.ifxFirstDisplay){f.ifxFirstDisplay=g.el.css("display")}if(d=="togglever"){d=g.el.css("display")=="none"?"down":"up"}else{if(d=="togglehor"){d=g.el.css("display")=="none"?"right":"left"}}g.el.show();g.speed=c;g.callback=typeof j=="function"?j:null;g.fx=jQuery.fx.buildWrapper(f);g.direction=d;g.complete=function(){if(g.callback&&g.callback.constructor==Function){g.callback.apply(g.el.get(0))}if(g.direction=="down"||g.direction=="right"){g.el.css("display",g.el.get(0).ifxFirstDisplay=="none"?"block":g.el.get(0).ifxFirstDisplay)}else{g.el.hide()}jQuery.fx.destroyWrapper(g.fx.wrapper.get(0),g.fx.oldStyle);jQuery.dequeue(g.el.get(0),"interfaceFX")};switch(g.direction){case"up":fxh=new jQuery.fx(g.fx.wrapper.get(0),jQuery.speed(g.speed,g.easing,g.complete),"height");fxh.custom(g.fx.oldStyle.sizes.hb,0);break;case"down":g.fx.wrapper.css("height","1px");g.el.show();fxh=new jQuery.fx(g.fx.wrapper.get(0),jQuery.speed(g.speed,g.easing,g.complete),"height");fxh.custom(0,g.fx.oldStyle.sizes.hb);break;case"left":fxh=new jQuery.fx(g.fx.wrapper.get(0),jQuery.speed(g.speed,g.easing,g.complete),"width");fxh.custom(g.fx.oldStyle.sizes.wb,0);break;case"right":g.fx.wrapper.css("width","1px");g.el.show();fxh=new jQuery.fx(g.fx.wrapper.get(0),jQuery.speed(g.speed,g.easing,g.complete),"width");fxh.custom(0,g.fx.oldStyle.sizes.wb);break}};jQuery.fn.Bounce=function(d,c){return this.queue("interfaceFX",function(){if(!jQuery.fxCheckTag(this)){jQuery.dequeue(this,"interfaceFX");return false}var f=new jQuery.fx.iBounce(this,d,c);f.bounce()})};jQuery.fx.iBounce=function(c,g,f){var d=this;d.el=jQuery(c);d.el.show();d.callback=f;d.hight=parseInt(g)||40;d.oldStyle={};d.oldStyle.position=d.el.css("position");d.oldStyle.top=parseInt(d.el.css("top"))||0;d.oldStyle.left=parseInt(d.el.css("left"))||0;if(d.oldStyle.position!="relative"&&d.oldStyle.position!="absolute"){d.el.css("position","relative")}d.times=5;d.cnt=1;d.bounce=function(){d.cnt++;d.e=new jQuery.fx(d.el.get(0),{duration:120,complete:function(){d.e=new jQuery.fx(d.el.get(0),{duration:80,complete:function(){d.hight=parseInt(d.hight/2);if(d.cnt<=d.times){d.bounce()}else{d.el.css("position",d.oldStyle.position).css("top",d.oldStyle.top+"px").css("left",d.oldStyle.left+"px");jQuery.dequeue(d.el.get(0),"interfaceFX");if(d.callback&&d.callback.constructor==Function){d.callback.apply(d.el.get(0))}}}},"top");d.e.custom(d.oldStyle.top-d.hight,d.oldStyle.top)}},"top");d.e.custom(d.oldStyle.top,d.oldStyle.top-d.hight)}};jQuery.fn.extend({DropOutDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"down","out",d)})},DropInDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"down","in",d)})},DropToggleDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"down","toggle",d)})},DropOutUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"up","out",d)})},DropInUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"up","in",d)})},DropToggleUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"up","toggle",d)})},DropOutLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"left","out",d)})},DropInLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"left","in",d)})},DropToggleLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"left","toggle",d)})},DropOutRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"right","out",d)})},DropInRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"right","in",d)})},DropToggleRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,c,e,"right","toggle",d)})}});jQuery.fx.DropOutDirectiont=function(g,d,k,f,c,j){if(!jQuery.fxCheckTag(g)){jQuery.dequeue(g,"interfaceFX");return false}var h=this;h.el=jQuery(g);h.easing=typeof k=="string"?k:j||null;h.oldStyle={};h.oldStyle.position=h.el.css("position");h.oldStyle.top=h.el.css("top");h.oldStyle.left=h.el.css("left");if(!g.ifxFirstDisplay){g.ifxFirstDisplay=h.el.css("display")}if(c=="toggle"){c=h.el.css("display")=="none"?"in":"out"}h.el.show();if(h.oldStyle.position!="relative"&&h.oldStyle.position!="absolute"){h.el.css("position","relative")}h.type=c;k=typeof k=="function"?k:null;directionIncrement=1;switch(f){case"up":h.e=new jQuery.fx(h.el.get(0),jQuery.speed(d-15,h.easing,k),"top");h.point=parseFloat(h.oldStyle.top)||0;h.unit=h.topUnit;directionIncrement=-1;break;case"down":h.e=new jQuery.fx(h.el.get(0),jQuery.speed(d-15,h.easing,k),"top");h.point=parseFloat(h.oldStyle.top)||0;h.unit=h.topUnit;break;case"right":h.e=new jQuery.fx(h.el.get(0),jQuery.speed(d-15,h.easing,k),"left");h.point=parseFloat(h.oldStyle.left)||0;h.unit=h.leftUnit;break;case"left":h.e=new jQuery.fx(h.el.get(0),jQuery.speed(d-15,h.easing,k),"left");h.point=parseFloat(h.oldStyle.left)||0;h.unit=h.leftUnit;directionIncrement=-1;break}h.e2=new jQuery.fx(h.el.get(0),jQuery.speed(d,h.easing,function(){h.el.css(h.oldStyle);if(h.type=="out"){h.el.css("display","none")}else{h.el.css("display",h.el.get(0).ifxFirstDisplay=="none"?"block":h.el.get(0).ifxFirstDisplay)}jQuery.dequeue(h.el.get(0),"interfaceFX")}),"opacity");if(c=="in"){h.e.custom(h.point+100*directionIncrement,h.point);h.e2.custom(0,1)}else{h.e.custom(h.point,h.point+100*directionIncrement);h.e2.custom(1,0)}};jQuery.fn.extend({Fold:function(d,c,f,e){return this.queue("interfaceFX",function(){new jQuery.fx.DoFold(this,d,c,f,"fold",e)})},UnFold:function(d,c,f,e){return this.queue("interfaceFX",function(){new jQuery.fx.DoFold(this,d,c,f,"unfold",e)})},FoldToggle:function(d,c,f,e){return this.queue("interfaceFX",function(){new jQuery.fx.DoFold(this,d,c,f,"toggle",e)})}});jQuery.fx.DoFold=function(g,f,c,k,d,j){if(!jQuery.fxCheckTag(g)){jQuery.dequeue(g,"interfaceFX");return false}var h=this;h.el=jQuery(g);h.easing=typeof k=="string"?k:j||null;h.callback=typeof k=="function"?k:null;if(d=="toggle"){d=h.el.css("display")=="none"?"unfold":"fold"}h.speed=f;h.height=c&&c.constructor==Number?c:20;h.fx=jQuery.fx.buildWrapper(g);h.type=d;h.complete=function(){if(h.callback&&h.callback.constructor==Function){h.callback.apply(h.el.get(0))}if(h.type=="unfold"){h.el.show()}else{h.el.hide()}jQuery.fx.destroyWrapper(h.fx.wrapper.get(0),h.fx.oldStyle);jQuery.dequeue(h.el.get(0),"interfaceFX")};if(h.type=="unfold"){h.el.show();h.fx.wrapper.css("height",h.height+"px").css("width","1px");h.ef=new jQuery.fx(h.fx.wrapper.get(0),jQuery.speed(h.speed,h.easing,function(){h.ef=new jQuery.fx(h.fx.wrapper.get(0),jQuery.speed(h.speed,h.easing,h.complete),"height");h.ef.custom(h.height,h.fx.oldStyle.sizes.hb)}),"width");h.ef.custom(0,h.fx.oldStyle.sizes.wb)}else{h.ef=new jQuery.fx(h.fx.wrapper.get(0),jQuery.speed(h.speed,h.easing,function(){h.ef=new jQuery.fx(h.fx.wrapper.get(0),jQuery.speed(h.speed,h.easing,h.complete),"width");h.ef.custom(h.fx.oldStyle.sizes.wb,0)}),"height");h.ef.custom(h.fx.oldStyle.sizes.hb,h.height)}};jQuery.fn.Highlight=function(d,c,f,e){return this.queue("interfaceColorFX",function(){this.oldStyleAttr=jQuery(this).attr("style")||"";e=typeof f=="string"?f:e||null;f=typeof f=="function"?f:null;var h=jQuery(this).css("backgroundColor");var g=this.parentNode;while(h=="transparent"&&g){h=jQuery(g).css("backgroundColor");g=g.parentNode}jQuery(this).css("backgroundColor",c);if(typeof this.oldStyleAttr=="object"){this.oldStyleAttr=this.oldStyleAttr.cssText}jQuery(this).animate({backgroundColor:h},d,e,function(){jQuery.dequeue(this,"interfaceColorFX");if(typeof jQuery(this).attr("style")=="object"){jQuery(this).attr("style")["cssText"]="";jQuery(this).attr("style")["cssText"]=this.oldStyleAttr}else{jQuery(this).attr("style",this.oldStyleAttr)}if(f){f.apply(this)}})})};jQuery.fn.extend({CloseVertically:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,c,e,"vertically","close",d)})},CloseHorizontally:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,c,e,"horizontally","close",d)})},SwitchHorizontally:function(c,e,d){return this.queue("interfaceFX",function(){if(jQuery.css(this,"display")=="none"){new jQuery.fx.OpenClose(this,c,e,"horizontally","open",d)}else{new jQuery.fx.OpenClose(this,c,e,"horizontally","close",d)}})},SwitchVertically:function(c,e,d){return this.queue("interfaceFX",function(){if(jQuery.css(this,"display")=="none"){new jQuery.fx.OpenClose(this,c,e,"vertically","open",d)}else{new jQuery.fx.OpenClose(this,c,e,"vertically","close",d)}})},OpenVertically:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,c,e,"vertically","open",d)})},OpenHorizontally:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,c,e,"horizontally","open",d)})}});jQuery.fx.OpenClose=function(h,f,m,g,d,k){if(!jQuery.fxCheckTag(h)){jQuery.dequeue(h,"interfaceFX");return false}var j=this;var c=false;j.el=jQuery(h);j.easing=typeof m=="string"?m:k||null;j.callback=typeof m=="function"?m:null;j.type=d;j.speed=f;j.oldP=jQuery.iUtil.getSize(h);j.oldStyle={};j.oldStyle.position=j.el.css("position");j.oldStyle.display=j.el.css("display");if(j.oldStyle.display=="none"){oldVisibility=j.el.css("visibility");j.el.show();c=true}j.oldStyle.top=j.el.css("top");j.oldStyle.left=j.el.css("left");if(c){j.el.hide();j.el.css("visibility",oldVisibility)}j.oldStyle.width=j.oldP.w+"px";j.oldStyle.height=j.oldP.h+"px";j.oldStyle.overflow=j.el.css("overflow");j.oldP.top=parseInt(j.oldStyle.top)||0;j.oldP.left=parseInt(j.oldStyle.left)||0;if(j.oldStyle.position!="relative"&&j.oldStyle.position!="absolute"){j.el.css("position","relative")}j.el.css("overflow","hidden").css("height",d=="open"&&g=="vertically"?1:j.oldP.h+"px").css("width",d=="open"&&g=="horizontally"?1:j.oldP.w+"px");j.complete=function(){j.el.css(j.oldStyle);if(j.type=="close"){j.el.hide()}else{j.el.show()}jQuery.dequeue(j.el.get(0),"interfaceFX")};switch(g){case"vertically":j.eh=new jQuery.fx(j.el.get(0),jQuery.speed(f-15,j.easing,m),"height");j.et=new jQuery.fx(j.el.get(0),jQuery.speed(j.speed,j.easing,j.complete),"top");if(j.type=="close"){j.eh.custom(j.oldP.h,0);j.et.custom(j.oldP.top,j.oldP.top+j.oldP.h/2)}else{j.eh.custom(0,j.oldP.h);j.et.custom(j.oldP.top+j.oldP.h/2,j.oldP.top)}break;case"horizontally":j.eh=new jQuery.fx(j.el.get(0),jQuery.speed(f-15,j.easing,m),"width");j.et=new jQuery.fx(j.el.get(0),jQuery.speed(j.speed,j.easing,j.complete),"left");if(j.type=="close"){j.eh.custom(j.oldP.w,0);j.et.custom(j.oldP.left,j.oldP.left+j.oldP.w/2)}else{j.eh.custom(0,j.oldP.w);j.et.custom(j.oldP.left+j.oldP.w/2,j.oldP.left)}break}};jQuery.fn.Pulsate=function(c,d,e){return this.queue("interfaceFX",function(){if(!jQuery.fxCheckTag(this)){jQuery.dequeue(this,"interfaceFX");return false}var f=new jQuery.fx.Pulsate(this,c,d,e);f.pulse()})};jQuery.fx.Pulsate=function(c,d,f,g){var e=this;e.times=f;e.cnt=1;e.el=c;e.speed=d;e.callback=g;jQuery(e.el).show();e.pulse=function(){e.cnt++;e.e=new jQuery.fx(e.el,jQuery.speed(e.speed,function(){e.ef=new jQuery.fx(e.el,jQuery.speed(e.speed,function(){if(e.cnt<=e.times){e.pulse()}else{jQuery.dequeue(e.el,"interfaceFX");if(e.callback&&e.callback.constructor==Function){e.callback.apply(e.el)}}}),"opacity");e.ef.custom(0,1)}),"opacity");e.e.custom(1,0)}};jQuery.fn.extend({Grow:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.Scale(this,c,1,100,true,e,"grow",d)})},Shrink:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.Scale(this,c,100,1,true,e,"shrink",d)})},Puff:function(c,e,d){return this.queue("interfaceFX",function(){var f=f||"easeout";new jQuery.fx.Scale(this,c,100,150,true,e,"puff",f)})},Scale:function(d,h,g,c,f,e){return this.queue("interfaceFX",function(){new jQuery.fx.Scale(this,d,h,g,c,f,"Scale",e)})}});jQuery.fx.Scale=function(d,c,k,m,g,n,j,f){if(!jQuery.fxCheckTag(d)){jQuery.dequeue(d,"interfaceFX");return false}var h=this;h.el=jQuery(d);h.from=parseInt(k)||100;h.to=parseInt(m)||100;h.easing=typeof n=="string"?n:f||null;h.callback=typeof n=="function"?n:null;h.duration=jQuery.speed(c).duration;h.restore=g||null;h.oldP=jQuery.iUtil.getSize(d);h.oldStyle={width:h.el.css("width"),height:h.el.css("height"),fontSize:h.el.css("fontSize")||"100%",position:h.el.css("position"),display:h.el.css("display"),top:h.el.css("top"),left:h.el.css("left"),overflow:h.el.css("overflow"),borderTopWidth:h.el.css("borderTopWidth"),borderRightWidth:h.el.css("borderRightWidth"),borderBottomWidth:h.el.css("borderBottomWidth"),borderLeftWidth:h.el.css("borderLeftWidth"),paddingTop:h.el.css("paddingTop"),paddingRight:h.el.css("paddingRight"),paddingBottom:h.el.css("paddingBottom"),paddingLeft:h.el.css("paddingLeft")};h.width=parseInt(h.oldStyle.width)||d.offsetWidth||0;h.height=parseInt(h.oldStyle.height)||d.offsetHeight||0;h.top=parseInt(h.oldStyle.top)||0;h.left=parseInt(h.oldStyle.left)||0;sizes=["em","px","pt","%"];for(i in sizes){if(h.oldStyle.fontSize.indexOf(sizes[i])>0){h.fontUnit=sizes[i];h.fontSize=parseFloat(h.oldStyle.fontSize)}if(h.oldStyle.borderTopWidth.indexOf(sizes[i])>0){h.borderTopUnit=sizes[i];h.borderTopSize=parseFloat(h.oldStyle.borderTopWidth)||0}if(h.oldStyle.borderRightWidth.indexOf(sizes[i])>0){h.borderRightUnit=sizes[i];h.borderRightSize=parseFloat(h.oldStyle.borderRightWidth)||0}if(h.oldStyle.borderBottomWidth.indexOf(sizes[i])>0){h.borderBottomUnit=sizes[i];h.borderBottomSize=parseFloat(h.oldStyle.borderBottomWidth)||0}if(h.oldStyle.borderLeftWidth.indexOf(sizes[i])>0){h.borderLeftUnit=sizes[i];h.borderLeftSize=parseFloat(h.oldStyle.borderLeftWidth)||0}if(h.oldStyle.paddingTop.indexOf(sizes[i])>0){h.paddingTopUnit=sizes[i];h.paddingTopSize=parseFloat(h.oldStyle.paddingTop)||0}if(h.oldStyle.paddingRight.indexOf(sizes[i])>0){h.paddingRightUnit=sizes[i];h.paddingRightSize=parseFloat(h.oldStyle.paddingRight)||0}if(h.oldStyle.paddingBottom.indexOf(sizes[i])>0){h.paddingBottomUnit=sizes[i];h.paddingBottomSize=parseFloat(h.oldStyle.paddingBottom)||0}if(h.oldStyle.paddingLeft.indexOf(sizes[i])>0){h.paddingLeftUnit=sizes[i];h.paddingLeftSize=parseFloat(h.oldStyle.paddingLeft)||0}}if(h.oldStyle.position!="relative"&&h.oldStyle.position!="absolute"){h.el.css("position","relative")}h.el.css("overflow","hidden");h.type=j;switch(h.type){case"grow":h.startTop=h.top+h.oldP.h/2;h.endTop=h.top;h.startLeft=h.left+h.oldP.w/2;h.endLeft=h.left;break;case"shrink":h.endTop=h.top+h.oldP.h/2;h.startTop=h.top;h.endLeft=h.left+h.oldP.w/2;h.startLeft=h.left;break;case"puff":h.endTop=h.top-h.oldP.h/4;h.startTop=h.top;h.endLeft=h.left-h.oldP.w/4;h.startLeft=h.left;break}h.firstStep=false;h.t=(new Date).getTime();h.clear=function(){clearInterval(h.timer);h.timer=null};h.step=function(){if(h.firstStep==false){h.el.show();h.firstStep=true}var e=(new Date).getTime();var r=e-h.t;var q=r/h.duration;if(e>=h.duration+h.t){setTimeout(function(){o=1;if(h.type){e=h.endTop;l=h.endLeft;if(h.type=="puff"){o=0}}h.zoom(h.to,l,e,true,o)},13);h.clear()}else{o=1;if(!jQuery.easing||!jQuery.easing[h.easing]){s=((-Math.cos(q*Math.PI)/2)+0.5)*(h.to-h.from)+h.from}else{s=jQuery.easing[h.easing](q,r,h.from,(h.to-h.from),h.duration)}if(h.type){if(!jQuery.easing||!jQuery.easing[h.easing]){e=((-Math.cos(q*Math.PI)/2)+0.5)*(h.endTop-h.startTop)+h.startTop;l=((-Math.cos(q*Math.PI)/2)+0.5)*(h.endLeft-h.startLeft)+h.startLeft;if(h.type=="puff"){o=((-Math.cos(q*Math.PI)/2)+0.5)*(-0.9999)+0.9999}}else{e=jQuery.easing[h.easing](q,r,h.startTop,(h.endTop-h.startTop),h.duration);l=jQuery.easing[h.easing](q,r,h.startLeft,(h.endLeft-h.startLeft),h.duration);if(h.type=="puff"){o=jQuery.easing[h.easing](q,r,0.9999,-0.9999,h.duration)}}}h.zoom(s,l,e,false,o)}};h.timer=setInterval(function(){h.step()},13);h.zoom=function(r,v,u,q,e){h.el.css("height",h.height*r/100+"px").css("width",h.width*r/100+"px").css("left",v+"px").css("top",u+"px").css("fontSize",h.fontSize*r/100+h.fontUnit);if(h.borderTopSize){h.el.css("borderTopWidth",h.borderTopSize*r/100+h.borderTopUnit)}if(h.borderRightSize){h.el.css("borderRightWidth",h.borderRightSize*r/100+h.borderRightUnit)}if(h.borderBottomSize){h.el.css("borderBottomWidth",h.borderBottomSize*r/100+h.borderBottomUnit)}if(h.borderLeftSize){h.el.css("borderLeftWidth",h.borderLeftSize*r/100+h.borderLeftUnit)}if(h.paddingTopSize){h.el.css("paddingTop",h.paddingTopSize*r/100+h.paddingTopUnit)}if(h.paddingRightSize){h.el.css("paddingRight",h.paddingRightSize*r/100+h.paddingRightUnit)}if(h.paddingBottomSize){h.el.css("paddingBottom",h.paddingBottomSize*r/100+h.paddingBottomUnit)}if(h.paddingLeftSize){h.el.css("paddingLeft",h.paddingLeftSize*r/100+h.paddingLeftUnit)}if(h.type=="puff"){if(window.ActiveXObject){h.el.get(0).style.filter="alpha(opacity="+e*100+")"}h.el.get(0).style.opacity=e}if(q){if(h.restore){h.el.css(h.oldStyle)}if(h.type=="shrink"||h.type=="puff"){h.el.css("display","none");if(h.type=="puff"){if(window.ActiveXObject){h.el.get(0).style.filter="alpha(opacity="+100+")"}h.el.get(0).style.opacity=1}}else{h.el.css("display","block")}if(h.callback){h.callback.apply(h.el.get(0))}jQuery.dequeue(h.el.get(0),"interfaceFX")}}};jQuery.fn.extend({ScrollTo:function(d,c,e){o=jQuery.speed(d);return this.queue("interfaceFX",function(){new jQuery.fx.ScrollTo(this,o,c,e)})},ScrollToAnchors:function(d,c,e){return this.each(function(){jQuery('a[@href*="#"]',this).click(function(f){parts=this.href.split("#");jQuery("#"+parts[1]).ScrollTo(d,c,e);return false})})}});jQuery.fx.ScrollTo=function(d,g,c,h){var f=this;f.o=g;f.e=d;f.axis=/vertical|horizontal/.test(c)?c:false;f.easing=h;p=jQuery.iUtil.getPosition(d);s=jQuery.iUtil.getScroll();f.clear=function(){clearInterval(f.timer);f.timer=null;jQuery.dequeue(f.e,"interfaceFX")};f.t=(new Date).getTime();s.h=s.h>s.ih?(s.h-s.ih):s.h;s.w=s.w>s.iw?(s.w-s.iw):s.w;f.endTop=p.y>s.h?s.h:p.y;f.endLeft=p.x>s.w?s.w:p.x;f.startTop=s.t;f.startLeft=s.l;f.step=function(){var e=(new Date).getTime();var k=e-f.t;var j=k/f.o.duration;if(e>=f.o.duration+f.t){f.clear();setTimeout(function(){f.scroll(f.endTop,f.endLeft)},13)}else{if(!f.axis||f.axis=="vertical"){if(!jQuery.easing||!jQuery.easing[f.easing]){st=((-Math.cos(j*Math.PI)/2)+0.5)*(f.endTop-f.startTop)+f.startTop}else{st=jQuery.easing[f.easing](j,k,f.startTop,(f.endTop-f.startTop),f.o.duration)}}else{st=f.startTop}if(!f.axis||f.axis=="horizontal"){if(!jQuery.easing||!jQuery.easing[f.easing]){sl=((-Math.cos(j*Math.PI)/2)+0.5)*(f.endLeft-f.startLeft)+f.startLeft}else{sl=jQuery.easing[f.easing](j,k,f.startLeft,(f.endLeft-f.startLeft),f.o.duration)}}else{sl=f.startLeft}f.scroll(st,sl)}};f.scroll=function(j,e){window.scrollTo(e,j)};f.timer=setInterval(function(){f.step()},13)};jQuery.fn.Shake=function(c,d){return this.queue("interfaceFX",function(){if(!jQuery.fxCheckTag(this)){jQuery.dequeue(this,"interfaceFX");return false}var f=new jQuery.fx.Shake(this,c,d);f.shake()})};jQuery.fx.Shake=function(c,f,g){var d=this;d.el=jQuery(c);d.el.show();d.times=parseInt(f)||3;d.callback=g;d.cnt=1;d.oldStyle={};d.oldStyle.position=d.el.css("position");d.oldStyle.top=parseInt(d.el.css("top"))||0;d.oldStyle.left=parseInt(d.el.css("left"))||0;if(d.oldStyle.position!="relative"&&d.oldStyle.position!="absolute"){d.el.css("position","relative")}d.shake=function(){d.cnt++;d.e=new jQuery.fx(d.el.get(0),{duration:60,complete:function(){d.e=new jQuery.fx(d.el.get(0),{duration:60,complete:function(){d.e=new jQuery.fx(c,{duration:60,complete:function(){if(d.cnt<=d.times){d.shake()}else{d.el.css("position",d.oldStyle.position).css("top",d.oldStyle.top+"px").css("left",d.oldStyle.left+"px");jQuery.dequeue(d.el.get(0),"interfaceFX");if(d.callback&&d.callback.constructor==Function){d.callback.apply(d.el.get(0))}}}},"left");d.e.custom(d.oldStyle.left-20,d.oldStyle.left)}},"left");d.e.custom(d.oldStyle.left+20,d.oldStyle.left-20)}},"left");d.e.custom(d.oldStyle.left,d.oldStyle.left+20)}};jQuery.fn.extend({SlideInUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"up","in",d)})},SlideOutUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"up","out",d)})},SlideToggleUp:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"up","toggle",d)})},SlideInDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"down","in",d)})},SlideOutDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"down","out",d)})},SlideToggleDown:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"down","toggle",d)})},SlideInLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"left","in",d)})},SlideOutLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"left","out",d)})},SlideToggleLeft:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"left","toggle",d)})},SlideInRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"right","in",d)})},SlideOutRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"right","out",d)})},SlideToggleRight:function(c,e,d){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,c,e,"right","toggle",d)})}});jQuery.fx.slide=function(g,d,k,f,c,j){if(!jQuery.fxCheckTag(g)){jQuery.dequeue(g,"interfaceFX");return false}var h=this;h.el=jQuery(g);h.easing=typeof k=="string"?k:j||null;h.callback=typeof k=="function"?k:null;if(c=="toggle"){c=h.el.css("display")=="none"?"in":"out"}if(!g.ifxFirstDisplay){g.ifxFirstDisplay=h.el.css("display")}h.el.show();h.speed=d;h.fx=jQuery.fx.buildWrapper(g);h.type=c;h.direction=f;h.complete=function(){if(h.type=="out"){h.el.css("visibility","hidden")}jQuery.fx.destroyWrapper(h.fx.wrapper.get(0),h.fx.oldStyle);if(h.type=="in"){h.el.css("display",h.el.get(0).ifxFirstDisplay=="none"?"block":h.el.get(0).ifxFirstDisplay)}else{h.el.css("display","none");h.el.css("visibility","visible")}if(h.callback&&h.callback.constructor==Function){h.callback.apply(h.el.get(0))}jQuery.dequeue(h.el.get(0),"interfaceFX")};switch(h.direction){case"up":h.ef=new jQuery.fx(h.el.get(0),jQuery.speed(h.speed,h.easing,h.complete),"top");h.efx=new jQuery.fx(h.fx.wrapper.get(0),jQuery.speed(h.speed,h.easing),"height");if(h.type=="in"){h.ef.custom(-h.fx.oldStyle.sizes.hb,0);h.efx.custom(0,h.fx.oldStyle.sizes.hb)}else{h.ef.custom(0,-h.fx.oldStyle.sizes.hb);h.efx.custom(h.fx.oldStyle.sizes.hb,0)}break;case"down":h.ef=new jQuery.fx(h.el.get(0),jQuery.speed(h.speed,h.easing,h.complete),"top");if(h.type=="in"){h.ef.custom(h.fx.oldStyle.sizes.hb,0)}else{h.ef.custom(0,h.fx.oldStyle.sizes.hb)}break;case"left":h.ef=new jQuery.fx(h.el.get(0),jQuery.speed(h.speed,h.easing,h.complete),"left");h.efx=new jQuery.fx(h.fx.wrapper.get(0),jQuery.speed(h.speed,h.easing),"width");if(h.type=="in"){h.ef.custom(-h.fx.oldStyle.sizes.wb,0);h.efx.custom(0,h.fx.oldStyle.sizes.wb)}else{h.ef.custom(0,-h.fx.oldStyle.sizes.wb);h.efx.custom(h.fx.oldStyle.sizes.wb,0)}break;case"right":h.ef=new jQuery.fx(h.el.get(0),jQuery.speed(h.speed,h.easing,h.complete),"left");if(h.type=="in"){h.ef.custom(h.fx.oldStyle.sizes.wb,0)}else{h.ef.custom(0,h.fx.oldStyle.sizes.wb)}break}};jQuery.transferHelper=null;jQuery.fn.TransferTo=function(c){return this.queue("interfaceFX",function(){new jQuery.fx.itransferTo(this,c)})};jQuery.fx.itransferTo=function(c,f){if(jQuery.transferHelper==null){jQuery("body",document).append('<div id="transferHelper"></div>');jQuery.transferHelper=jQuery("#transferHelper")}jQuery.transferHelper.css("display","block").css("position","absolute");var d=this;d.el=jQuery(c);if(!f||!f.to){return}if(f.to.constructor==String&&document.getElementById(f.to)){f.to=document.getElementById(f.to)}else{if(!f.to.childNodes){return}}if(!f.duration){f.duration=500}d.duration=f.duration;d.to=f.to;d.classname=f.className;d.complete=f.complete;if(d.classname){jQuery.transferHelper.addClass(d.classname)}d.diffWidth=0;d.diffHeight=0;if(jQuery.boxModel){d.diffWidth=(parseInt(jQuery.transferHelper.css("borderLeftWidth"))||0)+(parseInt(jQuery.transferHelper.css("borderRightWidth"))||0)+(parseInt(jQuery.transferHelper.css("paddingLeft"))||0)+(parseInt(jQuery.transferHelper.css("paddingRight"))||0);d.diffHeight=(parseInt(jQuery.transferHelper.css("borderTopWidth"))||0)+(parseInt(jQuery.transferHelper.css("borderBottomWidth"))||0)+(parseInt(jQuery.transferHelper.css("paddingTop"))||0)+(parseInt(jQuery.transferHelper.css("paddingBottom"))||0)}d.start=jQuery.extend(jQuery.iUtil.getPosition(d.el.get(0)),jQuery.iUtil.getSize(d.el.get(0)));d.end=jQuery.extend(jQuery.iUtil.getPosition(d.to),jQuery.iUtil.getSize(d.to));d.start.wb-=d.diffWidth;d.start.hb-=d.diffHeight;d.end.wb-=d.diffWidth;d.end.hb-=d.diffHeight;d.callback=f.complete;jQuery.transferHelper.css("width",d.start.wb+"px").css("height",d.start.hb+"px").css("top",d.start.y+"px").css("left",d.start.x+"px").animate({top:d.end.y,left:d.end.x,width:d.end.wb,height:d.end.hb},d.duration,function(){if(d.classname){jQuery.transferHelper.removeClass(d.classname)}jQuery.transferHelper.css("display","none");if(d.complete&&d.complete.constructor==Function){d.complete.apply(d.el.get(0),[d.to])}jQuery.dequeue(d.el.get(0),"interfaceFX")})};jQuery.ImageBox={options:{border:10,loaderSRC:"images/loading.gif",closeHTML:'<img src="images/close.jpg" />',overlayOpacity:0.8,textImage:"Showing image",textImageFrom:"from",fadeDuration:400},imageLoaded:false,firstResize:false,currentRel:null,animationInProgress:false,opened:false,keyPressed:function(e){if(!jQuery.ImageBox.opened||jQuery.ImageBox.animationInProgress){return}var f=e.charCode||e.keyCode||-1;switch(f){case 35:if(jQuery.ImageBox.currentRel){jQuery.ImageBox.start(null,jQuery("a[@rel="+jQuery.ImageBox.currentRel+"]:last").get(0))}break;case 36:if(jQuery.ImageBox.currentRel){jQuery.ImageBox.start(null,jQuery("a[@rel="+jQuery.ImageBox.currentRel+"]:first").get(0))}break;case 37:case 8:case 33:case 80:case 112:var d=jQuery("#ImageBoxPrevImage");if(d.get(0).onclick!=null){d.get(0).onclick.apply(d.get(0))}break;case 38:break;case 39:case 34:case 32:case 110:case 78:var c=jQuery("#ImageBoxNextImage");if(c.get(0).onclick!=null){c.get(0).onclick.apply(c.get(0))}break;case 40:break;case 27:jQuery.ImageBox.hideImage();break}},init:function(c){if(c){jQuery.extend(jQuery.ImageBox.options,c)}if(window.event){jQuery("body",document).bind("keyup",jQuery.ImageBox.keyPressed)}else{jQuery(document).bind("keyup",jQuery.ImageBox.keyPressed)}jQuery("a").each(function(){el=jQuery(this);relAttr=el.attr("rel")||"";hrefAttr=el.attr("href")||"";imageTypes=/\.jpg|\.jpeg|\.png|\.gif|\.bmp/g;if(hrefAttr.toLowerCase().match(imageTypes)!=null&&relAttr.toLowerCase().indexOf("imagebox")==0){el.bind("click",jQuery.ImageBox.start)}});if(jQuery.browser.msie){iframe=document.createElement("iframe");jQuery(iframe).attr({id:"ImageBoxIframe",src:"javascript:false;",frameborder:"no",scrolling:"no"}).css({display:"none",position:"absolute",top:"0",left:"0",filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"});jQuery("body").append(iframe)}overlay=document.createElement("div");jQuery(overlay).attr("id","ImageBoxOverlay").css({position:"absolute",display:"none",top:"0",left:"0",opacity:0}).append(document.createTextNode(" ")).bind("click",jQuery.ImageBox.hideImage);captionText=document.createElement("div");jQuery(captionText).attr("id","ImageBoxCaptionText").css({paddingLeft:jQuery.ImageBox.options.border+"px"}).append(document.createTextNode(" "));captionImages=document.createElement("div");jQuery(captionImages).attr("id","ImageBoxCaptionImages").css({paddingLeft:jQuery.ImageBox.options.border+"px",paddingBottom:jQuery.ImageBox.options.border+"px"}).append(document.createTextNode(" "));closeEl=document.createElement("a");jQuery(closeEl).attr({id:"ImageBoxClose",href:"#"}).css({position:"absolute",right:jQuery.ImageBox.options.border+"px",top:"0"}).append(jQuery.ImageBox.options.closeHTML).bind("click",jQuery.ImageBox.hideImage);captionEl=document.createElement("div");jQuery(captionEl).attr("id","ImageBoxCaption").css({position:"relative",textAlign:"left",margin:"0 auto",zIndex:1}).append(captionText).append(captionImages).append(closeEl);loader=document.createElement("img");loader.src=jQuery.ImageBox.options.loaderSRC;jQuery(loader).attr("id","ImageBoxLoader").css({position:"absolute"});prevImage=document.createElement("a");jQuery(prevImage).attr({id:"ImageBoxPrevImage",href:"#"}).css({position:"absolute",display:"none",overflow:"hidden",textDecoration:"none"}).append(document.createTextNode(" "));nextImage=document.createElement("a");jQuery(nextImage).attr({id:"ImageBoxNextImage",href:"#"}).css({position:"absolute",overflow:"hidden",textDecoration:"none"}).append(document.createTextNode(" "));container=document.createElement("div");jQuery(container).attr("id","ImageBoxContainer").css({display:"none",position:"relative",overflow:"hidden",textAlign:"left",margin:"0 auto",top:"0",left:"0",zIndex:2}).append([loader,prevImage,nextImage]);outerContainer=document.createElement("div");jQuery(outerContainer).attr("id","ImageBoxOuterContainer").css({display:"none",position:"absolute",overflow:"hidden",top:"0",left:"0",textAlign:"center",backgroundColor:"transparent",lineHeigt:"0"}).append([container,captionEl]);jQuery("body").append(overlay).append(outerContainer)},start:function(g,j){el=j?jQuery(j):jQuery(this);linkRel=el.attr("rel");var c,f,h,d;if(linkRel!="imagebox"){jQuery.ImageBox.currentRel=linkRel;gallery=jQuery("a[@rel="+linkRel+"]");c=gallery.size();f=gallery.index(j?j:this);h=gallery.get(f-1);d=gallery.get(f+1)}imageSrc=el.attr("href");captionText=el.attr("title");pageSize=jQuery.iUtil.getScroll();overlay=jQuery("#ImageBoxOverlay");if(!jQuery.ImageBox.opened){jQuery.ImageBox.opened=true;if(jQuery.browser.msie){jQuery("#ImageBoxIframe").css("height",Math.max(pageSize.ih,pageSize.h)+"px").css("width",Math.max(pageSize.iw,pageSize.w)+"px").show()}overlay.css("height",Math.max(pageSize.ih,pageSize.h)+"px").css("width",Math.max(pageSize.iw,pageSize.w)+"px").show().fadeTo(300,jQuery.ImageBox.options.overlayOpacity,function(){jQuery.ImageBox.loadImage(imageSrc,captionText,pageSize,c,f,h,d)});jQuery("#ImageBoxOuterContainer").css("width",Math.max(pageSize.iw,pageSize.w)+"px")}else{jQuery("#ImageBoxPrevImage").get(0).onclick=null;jQuery("#ImageBoxNextImage").get(0).onclick=null;jQuery.ImageBox.loadImage(imageSrc,captionText,pageSize,c,f,h,d)}return false},loadImage:function(j,d,c,e,g,h,f){jQuery("#ImageBoxCurrentImage").remove();prevImageEl=jQuery("#ImageBoxPrevImage");prevImageEl.hide();nextImageEl=jQuery("#ImageBoxNextImage");nextImageEl.hide();loader=jQuery("#ImageBoxLoader");container=jQuery("#ImageBoxContainer");outerContainer=jQuery("#ImageBoxOuterContainer");captionEl=jQuery("#ImageBoxCaption").css("visibility","hidden");jQuery("#ImageBoxCaptionText").html(captionText);jQuery.ImageBox.animationInProgress=true;if(e){jQuery("#ImageBoxCaptionImages").html(jQuery.ImageBox.options.textImage+" "+(g+1)+" "+jQuery.ImageBox.options.textImageFrom+" "+e)}if(h){prevImageEl.get(0).onclick=function(){this.blur();jQuery.ImageBox.start(null,h);return false}}if(f){nextImageEl.get(0).onclick=function(){this.blur();jQuery.ImageBox.start(null,f);return false}}loader.show();containerSize=jQuery.iUtil.getSize(container.get(0));containerW=Math.max(containerSize.wb,loader.get(0).width+jQuery.ImageBox.options.border*2);containerH=Math.max(containerSize.hb,loader.get(0).height+jQuery.ImageBox.options.border*2);loader.css({left:(containerW-loader.get(0).width)/2+"px",top:(containerH-loader.get(0).height)/2+"px"});container.css({width:containerW+"px",height:containerH+"px"}).show();clientSize=jQuery.iUtil.getClient();outerContainer.css("top",c.t+(clientSize.h/15)+"px");if(outerContainer.css("display")=="none"){outerContainer.show().fadeIn(jQuery.ImageBox.options.fadeDuration)}imageEl=new Image;jQuery(imageEl).attr("id","ImageBoxCurrentImage").bind("load",function(){containerW=imageEl.width+jQuery.ImageBox.options.border*2;containerH=imageEl.height+jQuery.ImageBox.options.border*2;loader.hide();container.animate({height:containerH},containerSize.hb!=containerH?jQuery.ImageBox.options.fadeDuration:1,function(){container.animate({width:containerW},containerSize.wb!=containerW?jQuery.ImageBox.options.fadeDuration:1,function(){container.prepend(imageEl);jQuery(imageEl).css({position:"absolute",left:jQuery.ImageBox.options.border+"px",top:jQuery.ImageBox.options.border+"px"}).fadeIn(jQuery.ImageBox.options.fadeDuration,function(){captionSize=jQuery.iUtil.getSize(captionEl.get(0));if(h){prevImageEl.css({left:jQuery.ImageBox.options.border+"px",top:jQuery.ImageBox.options.border+"px",width:containerW/2-jQuery.ImageBox.options.border*3+"px",height:containerH-jQuery.ImageBox.options.border*2+"px"}).show()}if(f){nextImageEl.css({left:containerW/2+jQuery.ImageBox.options.border*2+"px",top:jQuery.ImageBox.options.border+"px",width:containerW/2-jQuery.ImageBox.options.border*3+"px",height:containerH-jQuery.ImageBox.options.border*2+"px"}).show()}captionEl.css({width:containerW+"px",top:-captionSize.hb+"px",visibility:"visible"}).animate({top:-1},jQuery.ImageBox.options.fadeDuration,function(){jQuery.ImageBox.animationInProgress=false})})})})});imageEl.src=j},hideImage:function(){jQuery("#ImageBoxCurrentImage").remove();jQuery("#ImageBoxOuterContainer").hide();jQuery("#ImageBoxCaption").css("visibility","hidden");jQuery("#ImageBoxOverlay").fadeTo(300,0,function(){jQuery(this).hide();if(jQuery.browser.msie){jQuery("#ImageBoxIframe").hide()}});jQuery("#ImageBoxPrevImage").get(0).onclick=null;jQuery("#ImageBoxNextImage").get(0).onclick=null;jQuery.ImageBox.currentRel=null;jQuery.ImageBox.opened=false;jQuery.ImageBox.animationInProgress=false;return false}};jQuery.iResize={resizeElement:null,resizeDirection:null,dragged:null,pointer:null,sizes:null,position:null,startDrag:function(c){jQuery.iResize.dragged=(this.dragEl)?this.dragEl:this;jQuery.iResize.pointer=jQuery.iUtil.getPointer(c);jQuery.iResize.sizes={width:parseInt(jQuery(jQuery.iResize.dragged).css("width"))||0,height:parseInt(jQuery(jQuery.iResize.dragged).css("height"))||0};jQuery.iResize.position={top:parseInt(jQuery(jQuery.iResize.dragged).css("top"))||0,left:parseInt(jQuery(jQuery.iResize.dragged).css("left"))||0};jQuery(document).bind("mousemove",jQuery.iResize.moveDrag).bind("mouseup",jQuery.iResize.stopDrag);if(typeof jQuery.iResize.dragged.resizeOptions.onDragStart==="function"){jQuery.iResize.dragged.resizeOptions.onDragStart.apply(jQuery.iResize.dragged)}return false},stopDrag:function(c){jQuery(document).unbind("mousemove",jQuery.iResize.moveDrag).unbind("mouseup",jQuery.iResize.stopDrag);if(typeof jQuery.iResize.dragged.resizeOptions.onDragStop==="function"){jQuery.iResize.dragged.resizeOptions.onDragStop.apply(jQuery.iResize.dragged)}jQuery.iResize.dragged=null},moveDrag:function(d){if(!jQuery.iResize.dragged){return}pointer=jQuery.iUtil.getPointer(d);newTop=jQuery.iResize.position.top-jQuery.iResize.pointer.y+pointer.y;newLeft=jQuery.iResize.position.left-jQuery.iResize.pointer.x+pointer.x;newTop=Math.max(Math.min(newTop,jQuery.iResize.dragged.resizeOptions.maxBottom-jQuery.iResize.sizes.height),jQuery.iResize.dragged.resizeOptions.minTop);newLeft=Math.max(Math.min(newLeft,jQuery.iResize.dragged.resizeOptions.maxRight-jQuery.iResize.sizes.width),jQuery.iResize.dragged.resizeOptions.minLeft);if(typeof jQuery.iResize.dragged.resizeOptions.onDrag==="function"){var c=jQuery.iResize.dragged.resizeOptions.onDrag.apply(jQuery.iResize.dragged,[newLeft,newTop]);if(typeof c=="array"&&c.length==2){newLeft=c[0];newTop=c[1]}}jQuery.iResize.dragged.style.top=newTop+"px";jQuery.iResize.dragged.style.left=newLeft+"px";return false},start:function(c){jQuery(document).bind("mousemove",jQuery.iResize.move).bind("mouseup",jQuery.iResize.stop);jQuery.iResize.resizeElement=this.resizeElement;jQuery.iResize.resizeDirection=this.resizeDirection;jQuery.iResize.pointer=jQuery.iUtil.getPointer(c);jQuery.iResize.sizes={width:parseInt(jQuery(this.resizeElement).css("width"))||0,height:parseInt(jQuery(this.resizeElement).css("height"))||0};jQuery.iResize.position={top:parseInt(jQuery(this.resizeElement).css("top"))||0,left:parseInt(jQuery(this.resizeElement).css("left"))||0};if(jQuery.iResize.resizeElement.resizeOptions.onStart){jQuery.iResize.resizeElement.resizeOptions.onStart.apply(jQuery.iResize.resizeElement,[this])}return false},stop:function(){jQuery(document).unbind("mousemove",jQuery.iResize.move).unbind("mouseup",jQuery.iResize.stop);if(jQuery.iResize.resizeElement.resizeOptions.onStop){jQuery.iResize.resizeElement.resizeOptions.onStop.apply(jQuery.iResize.resizeElement,[jQuery.iResize.resizeDirection])}jQuery.iResize.resizeElement=null;jQuery.iResize.resizeDirection=null},getWidth:function(c,d){return Math.min(Math.max(jQuery.iResize.sizes.width+c*d,jQuery.iResize.resizeElement.resizeOptions.minWidth),jQuery.iResize.resizeElement.resizeOptions.maxWidth)},getHeight:function(c,d){return Math.min(Math.max(jQuery.iResize.sizes.height+c*d,jQuery.iResize.resizeElement.resizeOptions.minHeight),jQuery.iResize.resizeElement.resizeOptions.maxHeight)},getHeightMinMax:function(c){return Math.min(Math.max(c,jQuery.iResize.resizeElement.resizeOptions.minHeight),jQuery.iResize.resizeElement.resizeOptions.maxHeight)},move:function(d){if(jQuery.iResize.resizeElement==null){return}pointer=jQuery.iUtil.getPointer(d);dx=pointer.x-jQuery.iResize.pointer.x;dy=pointer.y-jQuery.iResize.pointer.y;newSizes={width:jQuery.iResize.sizes.width,height:jQuery.iResize.sizes.height};newPosition={top:jQuery.iResize.position.top,left:jQuery.iResize.position.left};switch(jQuery.iResize.resizeDirection){case"e":newSizes.width=jQuery.iResize.getWidth(dx,1);break;case"se":newSizes.width=jQuery.iResize.getWidth(dx,1);newSizes.height=jQuery.iResize.getHeight(dy,1);break;case"w":newSizes.width=jQuery.iResize.getWidth(dx,-1);newPosition.left=jQuery.iResize.position.left-newSizes.width+jQuery.iResize.sizes.width;break;case"sw":newSizes.width=jQuery.iResize.getWidth(dx,-1);newPosition.left=jQuery.iResize.position.left-newSizes.width+jQuery.iResize.sizes.width;newSizes.height=jQuery.iResize.getHeight(dy,1);break;case"nw":newSizes.height=jQuery.iResize.getHeight(dy,-1);newPosition.top=jQuery.iResize.position.top-newSizes.height+jQuery.iResize.sizes.height;newSizes.width=jQuery.iResize.getWidth(dx,-1);newPosition.left=jQuery.iResize.position.left-newSizes.width+jQuery.iResize.sizes.width;break;case"n":newSizes.height=jQuery.iResize.getHeight(dy,-1);newPosition.top=jQuery.iResize.position.top-newSizes.height+jQuery.iResize.sizes.height;break;case"ne":newSizes.height=jQuery.iResize.getHeight(dy,-1);newPosition.top=jQuery.iResize.position.top-newSizes.height+jQuery.iResize.sizes.height;newSizes.width=jQuery.iResize.getWidth(dx,1);break;case"s":newSizes.height=jQuery.iResize.getHeight(dy,1);break}if(jQuery.iResize.resizeElement.resizeOptions.ratio){if(jQuery.iResize.resizeDirection=="n"||jQuery.iResize.resizeDirection=="s"){nWidth=newSizes.height*jQuery.iResize.resizeElement.resizeOptions.ratio}else{nWidth=newSizes.width}nHeight=jQuery.iResize.getHeightMinMax(nWidth*jQuery.iResize.resizeElement.resizeOptions.ratio);nWidth=nHeight/jQuery.iResize.resizeElement.resizeOptions.ratio;switch(jQuery.iResize.resizeDirection){case"n":case"nw":case"ne":newPosition.top+=newSizes.height-nHeight;break}switch(jQuery.iResize.resizeDirection){case"nw":case"w":case"sw":newPosition.left+=newSizes.width-nWidth;break}newSizes.height=nHeight;newSizes.width=nWidth}if(newPosition.top<jQuery.iResize.resizeElement.resizeOptions.minTop){nHeight=newSizes.height+newPosition.top-jQuery.iResize.resizeElement.resizeOptions.minTop;newPosition.top=jQuery.iResize.resizeElement.resizeOptions.minTop;if(jQuery.iResize.resizeElement.resizeOptions.ratio){nWidth=nHeight/jQuery.iResize.resizeElement.resizeOptions.ratio;switch(jQuery.iResize.resizeDirection){case"nw":case"w":case"sw":newPosition.left+=newSizes.width-nWidth;break}newSizes.width=nWidth}newSizes.height=nHeight}if(newPosition.left<jQuery.iResize.resizeElement.resizeOptions.minLeft){nWidth=newSizes.width+newPosition.left-jQuery.iResize.resizeElement.resizeOptions.minLeft;newPosition.left=jQuery.iResize.resizeElement.resizeOptions.minLeft;if(jQuery.iResize.resizeElement.resizeOptions.ratio){nHeight=nWidth*jQuery.iResize.resizeElement.resizeOptions.ratio;switch(jQuery.iResize.resizeDirection){case"n":case"nw":case"ne":newPosition.top+=newSizes.height-nHeight;break}newSizes.height=nHeight}newSizes.width=nWidth}if(newPosition.top+newSizes.height>jQuery.iResize.resizeElement.resizeOptions.maxBottom){newSizes.height=jQuery.iResize.resizeElement.resizeOptions.maxBottom-newPosition.top;if(jQuery.iResize.resizeElement.resizeOptions.ratio){newSizes.width=newSizes.height/jQuery.iResize.resizeElement.resizeOptions.ratio}}if(newPosition.left+newSizes.width>jQuery.iResize.resizeElement.resizeOptions.maxRight){newSizes.width=jQuery.iResize.resizeElement.resizeOptions.maxRight-newPosition.left;if(jQuery.iResize.resizeElement.resizeOptions.ratio){newSizes.height=newSizes.width*jQuery.iResize.resizeElement.resizeOptions.ratio}}var c=false;if(jQuery.iResize.resizeElement.resizeOptions.onResize){c=jQuery.iResize.resizeElement.resizeOptions.onResize.apply(jQuery.iResize.resizeElement,[newSizes,newPosition]);if(c){if(c.sizes){jQuery.extend(newSizes,c.sizes)}if(c.position){jQuery.extend(newPosition,c.position)}}}elS=jQuery.iResize.resizeElement.style;elS.left=newPosition.left+"px";elS.top=newPosition.top+"px";elS.width=newSizes.width+"px";elS.height=newSizes.height+"px";return false},build:function(c){if(!c||!c.handlers||c.handlers.constructor!=Object){return}return this.each(function(){var d=this;d.resizeOptions=c;d.resizeOptions.minWidth=c.minWidth||10;d.resizeOptions.minHeight=c.minHeight||10;d.resizeOptions.maxWidth=c.maxWidth||3000;d.resizeOptions.maxHeight=c.maxHeight||3000;d.resizeOptions.minTop=c.minTop||-1000;d.resizeOptions.minLeft=c.minLeft||-1000;d.resizeOptions.maxRight=c.maxRight||3000;d.resizeOptions.maxBottom=c.maxBottom||3000;elPosition=jQuery(d).css("position");if(!(elPosition=="relative"||elPosition=="absolute")){d.style.position="relative"}directions=/n|ne|e|se|s|sw|w|nw/g;for(i in d.resizeOptions.handlers){if(i.toLowerCase().match(directions)!=null){if(d.resizeOptions.handlers[i].constructor==String){handle=jQuery(d.resizeOptions.handlers[i]);if(handle.size()>0){d.resizeOptions.handlers[i]=handle.get(0)}}if(d.resizeOptions.handlers[i].tagName){d.resizeOptions.handlers[i].resizeElement=d;d.resizeOptions.handlers[i].resizeDirection=i;jQuery(d.resizeOptions.handlers[i]).bind("mousedown",jQuery.iResize.start)}}}if(d.resizeOptions.dragHandle){if(typeof d.resizeOptions.dragHandle==="string"){handleEl=jQuery(d.resizeOptions.dragHandle);if(handleEl.size()>0){handleEl.each(function(){this.dragEl=d});handleEl.bind("mousedown",jQuery.iResize.startDrag)}}else{if(d.resizeOptions.dragHandle==true){jQuery(this).bind("mousedown",jQuery.iResize.startDrag)}}}})},destroy:function(){return this.each(function(){var c=this;for(i in c.resizeOptions.handlers){c.resizeOptions.handlers[i].resizeElement=null;c.resizeOptions.handlers[i].resizeDirection=null;jQuery(c.resizeOptions.handlers[i]).unbind("mousedown",jQuery.iResize.start)}if(c.resizeOptions.dragHandle){if(typeof c.resizeOptions.dragHandle==="string"){handle=jQuery(c.resizeOptions.dragHandle);if(handle.size()>0){handle.unbind("mousedown",jQuery.iResize.startDrag)}}else{if(c.resizeOptions.dragHandle==true){jQuery(this).unbind("mousedown",jQuery.iResize.startDrag)}}}c.resizeOptions=null})}};jQuery.fn.extend({Resizable:jQuery.iResize.build,ResizableDestroy:jQuery.iResize.destroy});jQuery.selectHelper=null;jQuery.selectKeyHelper=false;jQuery.selectdrug=null;jQuery.selectCurrent=[];jQuery.selectKeyDown=function(c){var d=c.charCode||c.keyCode||-1;if(d==17||d==16){jQuery.selectKeyHelper=true}};jQuery.selectKeyUp=function(c){jQuery.selectKeyHelper=false};jQuery.selectstart=function(c){this.f.pointer=jQuery.iUtil.getPointer(c);this.f.pos=jQuery.extend(jQuery.iUtil.getPosition(this),jQuery.iUtil.getSize(this));this.f.scr=jQuery.iUtil.getScroll(this);this.f.pointer.x-=this.f.pos.x;this.f.pointer.y-=this.f.pos.y;jQuery(this).append(jQuery.selectHelper.get(0));if(this.f.hc){jQuery.selectHelper.addClass(this.f.hc).css("display","block")}jQuery.selectHelper.css({display:"block",width:"0px",height:"0px"});if(this.f.o){jQuery.selectHelper.css("opacity",this.f.o)}jQuery.selectdrug=this;jQuery.selectedone=false;jQuery.selectCurrent=[];this.f.el.each(function(){this.pos={x:this.offsetLeft+(this.currentStyle&&!jQuery.browser.opera?parseInt(this.currentStyle.borderLeftWidth)||0:0)+(jQuery.selectdrug.scrollLeft||0),y:this.offsetTop+(this.currentStyle&&!jQuery.browser.opera?parseInt(this.currentStyle.borderTopWidth)||0:0)+(jQuery.selectdrug.scrollTop||0),wb:this.offsetWidth,hb:this.offsetHeight};if(this.s==true){if(jQuery.selectKeyHelper==false){this.s=false;jQuery(this).removeClass(jQuery.selectdrug.f.sc)}else{jQuery.selectedone=true;jQuery.selectCurrent[jQuery.selectCurrent.length]=jQuery.attr(this,"id")}}});jQuery.selectcheck.apply(this,[c]);jQuery(document).bind("mousemove",jQuery.selectcheck).bind("mouseup",jQuery.selectstop);return false};jQuery.selectcheck=function(c){if(!jQuery.selectdrug){return}jQuery.selectcheckApply.apply(jQuery.selectdrug,[c])};jQuery.selectcheckApply=function(h){if(!jQuery.selectdrug){return}var k=jQuery.iUtil.getPointer(h);var g=jQuery.iUtil.getScroll(jQuery.selectdrug);k.x+=g.l-this.f.scr.l-this.f.pos.x;k.y+=g.t-this.f.scr.t-this.f.pos.y;var m=Math.min(k.x,this.f.pointer.x);var c=Math.min(Math.abs(k.x-this.f.pointer.x),Math.abs(this.f.scr.w-m));var j=Math.min(k.y,this.f.pointer.y);var d=Math.min(Math.abs(k.y-this.f.pointer.y),Math.abs(this.f.scr.h-j));if(this.scrollTop>0&&k.y-20<this.scrollTop){var f=Math.min(g.t,10);j-=f;d+=f;this.scrollTop-=f}else{if(this.scrollTop+this.f.pos.h<this.f.scr.h&&k.y+20>this.scrollTop+this.f.pos.h){var f=Math.min(this.f.scr.h-this.scrollTop,10);this.scrollTop+=f;if(this.scrollTop!=g.t){d+=f}}}if(this.scrollLeft>0&&k.x-20<this.scrollLeft){var f=Math.min(g.l,10);m-=f;c+=f;this.scrollLeft-=f}else{if(this.scrollLeft+this.f.pos.w<this.f.scr.w&&k.x+20>this.scrollLeft+this.f.pos.w){var f=Math.min(this.f.scr.w-this.scrollLeft,10);this.scrollLeft+=f;if(this.scrollLeft!=g.l){c+=f}}}jQuery.selectHelper.css({left:m+"px",top:j+"px",width:c+"px",height:d+"px"});jQuery.selectHelper.l=m+this.f.scr.l;jQuery.selectHelper.t=j+this.f.scr.t;jQuery.selectHelper.r=jQuery.selectHelper.l+c;jQuery.selectHelper.b=jQuery.selectHelper.t+d;jQuery.selectedone=false;this.f.el.each(function(){iIndex=jQuery.selectCurrent.indexOf(jQuery.attr(this,"id"));if(!(this.pos.x>jQuery.selectHelper.r||(this.pos.x+this.pos.wb)<jQuery.selectHelper.l||this.pos.y>jQuery.selectHelper.b||(this.pos.y+this.pos.hb)<jQuery.selectHelper.t)){jQuery.selectedone=true;if(this.s!=true){this.s=true;jQuery(this).addClass(jQuery.selectdrug.f.sc)}if(iIndex!=-1){this.s=false;jQuery(this).removeClass(jQuery.selectdrug.f.sc)}}else{if((this.s==true)&&(iIndex==-1)){this.s=false;jQuery(this).removeClass(jQuery.selectdrug.f.sc)}else{if((!this.s)&&(jQuery.selectKeyHelper==true)&&(iIndex!=-1)){this.s=true;jQuery(this).addClass(jQuery.selectdrug.f.sc)}}}});return false};jQuery.selectstop=function(c){if(!jQuery.selectdrug){return}jQuery.selectstopApply.apply(jQuery.selectdrug,[c])};jQuery.selectstopApply=function(c){jQuery(document).unbind("mousemove",jQuery.selectcheck).unbind("mouseup",jQuery.selectstop);if(!jQuery.selectdrug){return}jQuery.selectHelper.css("display","none");if(this.f.hc){jQuery.selectHelper.removeClass(this.f.hc)}jQuery.selectdrug=false;jQuery("body").append(jQuery.selectHelper.get(0));if(jQuery.selectedone==true){if(this.f.onselect){this.f.onselect(jQuery.Selectserialize(jQuery.attr(this,"id")))}}else{if(this.f.onselectstop){this.f.onselectstop(jQuery.Selectserialize(jQuery.attr(this,"id")))}}jQuery.selectCurrent=[]};jQuery.Selectserialize=function(d){var c="";var e=[];if(a=jQuery("#"+d)){a.get(0).f.el.each(function(){if(this.s==true){if(c.length>0){c+="&"}c+=d+"[]="+jQuery.attr(this,"id");e[e.length]=jQuery.attr(this,"id")}})}return{hash:c,o:e}};jQuery.fn.Selectable=function(c){if(!jQuery.selectHelper){jQuery("body",document).append('<div id="selectHelper"></div>').bind("keydown",jQuery.selectKeyDown).bind("keyup",jQuery.selectKeyUp);jQuery.selectHelper=jQuery("#selectHelper");jQuery.selectHelper.css({position:"absolute",display:"none"});if(window.event){jQuery("body",document).bind("keydown",jQuery.selectKeyDown).bind("keyup",jQuery.selectKeyUp)}else{jQuery(document).bind("keydown",jQuery.selectKeyDown).bind("keyup",jQuery.selectKeyUp)}}if(!c){c={}}return this.each(function(){if(this.isSelectable){return}this.isSelectable=true;this.f={a:c.accept,o:c.opacity?parseFloat(c.opacity):false,sc:c.selectedclass?c.selectedclass:false,hc:c.helperclass?c.helperclass:false,onselect:c.onselect?c.onselect:false,onselectstop:c.onselectstop?c.onselectstop:false};this.f.el=jQuery("."+c.accept);jQuery(this).bind("mousedown",jQuery.selectstart).css("position","relative")})};jQuery.iSlider={tabindex:1,set:function(c){var c=c;return this.each(function(){this.slideCfg.sliders.each(function(d){jQuery.iSlider.dragmoveBy(this,c[d])})})},get:function(){var c=[];this.each(function(e){if(this.isSlider){c[e]=[];var f=this;var d=jQuery.iUtil.getSize(this);this.slideCfg.sliders.each(function(h){var g=this.offsetLeft;var j=this.offsetTop;xproc=parseInt(g*100/(d.w-this.offsetWidth));yproc=parseInt(j*100/(d.h-this.offsetHeight));c[e][h]=[xproc||0,yproc||0,g||0,j||0]})}});return c},modifyContainer:function(e){e.dragCfg.containerMaxx=e.dragCfg.cont.w-e.dragCfg.oC.wb;e.dragCfg.containerMaxy=e.dragCfg.cont.h-e.dragCfg.oC.hb;if(e.SliderContainer.slideCfg.restricted){next=e.SliderContainer.slideCfg.sliders.get(e.SliderIteration+1);if(next){e.dragCfg.cont.w=(parseInt(jQuery(next).css("left"))||0)+e.dragCfg.oC.wb;e.dragCfg.cont.h=(parseInt(jQuery(next).css("top"))||0)+e.dragCfg.oC.hb}prev=e.SliderContainer.slideCfg.sliders.get(e.SliderIteration-1);if(prev){var c=parseInt(jQuery(prev).css("left"))||0;var d=parseInt(jQuery(prev).css("left"))||0;e.dragCfg.cont.x+=c;e.dragCfg.cont.y+=d;e.dragCfg.cont.w-=c;e.dragCfg.cont.h-=d}}e.dragCfg.maxx=e.dragCfg.cont.w-e.dragCfg.oC.wb;e.dragCfg.maxy=e.dragCfg.cont.h-e.dragCfg.oC.hb;if(e.dragCfg.fractions){e.dragCfg.gx=((e.dragCfg.cont.w-e.dragCfg.oC.wb)/e.dragCfg.fractions)||1;e.dragCfg.gy=((e.dragCfg.cont.h-e.dragCfg.oC.hb)/e.dragCfg.fractions)||1;e.dragCfg.fracW=e.dragCfg.maxx/e.dragCfg.fractions;e.dragCfg.fracH=e.dragCfg.maxy/e.dragCfg.fractions}e.dragCfg.cont.dx=e.dragCfg.cont.x-e.dragCfg.oR.x;e.dragCfg.cont.dy=e.dragCfg.cont.y-e.dragCfg.oR.y;jQuery.iDrag.helper.css("cursor","default")},onSlide:function(e,c,d){if(e.dragCfg.fractions){xfrac=parseInt(c/e.dragCfg.fracW);xproc=xfrac*100/e.dragCfg.fractions;yfrac=parseInt(d/e.dragCfg.fracH);yproc=yfrac*100/e.dragCfg.fractions}else{xproc=parseInt(c*100/e.dragCfg.containerMaxx);yproc=parseInt(d*100/e.dragCfg.containerMaxy)}e.dragCfg.lastSi=[xproc||0,yproc||0,c||0,d||0];if(e.dragCfg.onSlide){e.dragCfg.onSlide.apply(e,e.dragCfg.lastSi)}},dragmoveByKey:function(c){pressedKey=c.charCode||c.keyCode||-1;switch(pressedKey){case 35:jQuery.iSlider.dragmoveBy(this.dragElem,[2000,2000]);break;case 36:jQuery.iSlider.dragmoveBy(this.dragElem,[-2000,-2000]);break;case 37:jQuery.iSlider.dragmoveBy(this.dragElem,[-this.dragElem.dragCfg.gx||-1,0]);break;case 38:jQuery.iSlider.dragmoveBy(this.dragElem,[0,-this.dragElem.dragCfg.gy||-1]);break;case 39:jQuery.iSlider.dragmoveBy(this.dragElem,[this.dragElem.dragCfg.gx||1,0]);break;case 40:jQuery.iDrag.dragmoveBy(this.dragElem,[0,this.dragElem.dragCfg.gy||1]);break}},dragmoveBy:function(d,c){if(!d.dragCfg){return}d.dragCfg.oC=jQuery.extend(jQuery.iUtil.getPosition(d),jQuery.iUtil.getSize(d));d.dragCfg.oR={x:parseInt(jQuery.css(d,"left"))||0,y:parseInt(jQuery.css(d,"top"))||0};d.dragCfg.oP=jQuery.css(d,"position");if(d.dragCfg.oP!="relative"&&d.dragCfg.oP!="absolute"){d.style.position="relative"}jQuery.iDrag.getContainment(d);jQuery.iSlider.modifyContainer(d);dx=parseInt(c[0])||0;dy=parseInt(c[1])||0;nx=d.dragCfg.oR.x+dx;ny=d.dragCfg.oR.y+dy;if(d.dragCfg.fractions){newCoords=jQuery.iDrag.snapToGrid.apply(d,[nx,ny,dx,dy]);if(newCoords.constructor==Object){dx=newCoords.dx;dy=newCoords.dy}nx=d.dragCfg.oR.x+dx;ny=d.dragCfg.oR.y+dy}newCoords=jQuery.iDrag.fitToContainer.apply(d,[nx,ny,dx,dy]);if(newCoords&&newCoords.constructor==Object){dx=newCoords.dx;dy=newCoords.dy}nx=d.dragCfg.oR.x+dx;ny=d.dragCfg.oR.y+dy;if(d.dragCfg.si&&(d.dragCfg.onSlide||d.dragCfg.onChange)){jQuery.iSlider.onSlide(d,nx,ny)}nx=!d.dragCfg.axis||d.dragCfg.axis=="horizontally"?nx:d.dragCfg.oR.x||0;ny=!d.dragCfg.axis||d.dragCfg.axis=="vertically"?ny:d.dragCfg.oR.y||0;d.style.left=nx+"px";d.style.top=ny+"px"},build:function(c){return this.each(function(){if(this.isSlider==true||!c.accept||!jQuery.iUtil||!jQuery.iDrag||!jQuery.iDrop){return}toDrag=jQuery(c.accept,this);if(toDrag.size()==0){return}var d={containment:"parent",si:true,onSlide:c.onSlide&&c.onSlide.constructor==Function?c.onSlide:null,onChange:c.onChange&&c.onChange.constructor==Function?c.onChange:null,handle:this,opacity:c.opacity||false};if(c.fractions&&parseInt(c.fractions)){d.fractions=parseInt(c.fractions)||1;d.fractions=d.fractions>0?d.fractions:1}if(toDrag.size()==1){toDrag.Draggable(d)}else{jQuery(toDrag.get(0)).Draggable(d);d.handle=null;toDrag.Draggable(d)}toDrag.keydown(jQuery.iSlider.dragmoveByKey);toDrag.attr("tabindex",jQuery.iSlider.tabindex++);this.isSlider=true;this.slideCfg={};this.slideCfg.onslide=d.onslide;this.slideCfg.fractions=d.fractions;this.slideCfg.sliders=toDrag;this.slideCfg.restricted=c.restricted?true:false;sliderEl=this;sliderEl.slideCfg.sliders.each(function(e){this.SliderIteration=e;this.SliderContainer=sliderEl});if(c.values&&c.values.constructor==Array){for(i=c.values.length-1;i>=0;i--){if(c.values[i].constructor==Array&&c.values[i].length==2){el=this.slideCfg.sliders.get(i);if(el.tagName){jQuery.iSlider.dragmoveBy(el,c.values[i])}}}}})}};jQuery.fn.extend({Slider:jQuery.iSlider.build,SliderSetValues:jQuery.iSlider.set,SliderGetValues:jQuery.iSlider.get});jQuery.islideshow={slideshows:[],gonext:function(){this.blur();slideshow=this.parentNode;id=jQuery.attr(slideshow,"id");if(jQuery.islideshow.slideshows[id]!=null){window.clearInterval(jQuery.islideshow.slideshows[id])}slide=slideshow.ss.currentslide+1;if(slideshow.ss.images.length<slide){slide=1}images=jQuery("img",slideshow.ss.holder);slideshow.ss.currentslide=slide;if(images.size()>0){images.fadeOut(slideshow.ss.fadeDuration,jQuery.islideshow.showImage)}},goprev:function(){this.blur();slideshow=this.parentNode;id=jQuery.attr(slideshow,"id");if(jQuery.islideshow.slideshows[id]!=null){window.clearInterval(jQuery.islideshow.slideshows[id])}slide=slideshow.ss.currentslide-1;images=jQuery("img",slideshow.ss.holder);if(slide<1){slide=slideshow.ss.images.length}slideshow.ss.currentslide=slide;if(images.size()>0){images.fadeOut(slideshow.ss.fadeDuration,jQuery.islideshow.showImage)}},timer:function(d){slideshow=document.getElementById(d);if(slideshow.ss.random){slide=slideshow.ss.currentslide;while(slide==slideshow.ss.currentslide){slide=1+parseInt(Math.random()*slideshow.ss.images.length)}}else{slide=slideshow.ss.currentslide+1;if(slideshow.ss.images.length<slide){slide=1}}images=jQuery("img",slideshow.ss.holder);slideshow.ss.currentslide=slide;if(images.size()>0){images.fadeOut(slideshow.ss.fadeDuration,jQuery.islideshow.showImage)}},go:function(e){var d;if(e&&e.constructor==Object){if(e.loader){d=document.getElementById(e.loader.slideshow);url=window.location.href.split("#");e.loader.onload=null;if(url.length==2){slide=parseInt(url[1]);show=url[1].replace(slide,"");if(jQuery.attr(d,"id")!=show){slide=1}}else{slide=1}}if(e.link){e.link.blur();d=e.link.parentNode.parentNode;id=jQuery.attr(d,"id");if(jQuery.islideshow.slideshows[id]!=null){window.clearInterval(jQuery.islideshow.slideshows[id])}url=e.link.href.split("#");slide=parseInt(url[1]);show=url[1].replace(slide,"");if(jQuery.attr(d,"id")!=show){slide=1}}if(d.ss.images.length<slide||slide<1){slide=1}d.ss.currentslide=slide;slidePos=jQuery.iUtil.getSize(d);slidePad=jQuery.iUtil.getPadding(d);slideBor=jQuery.iUtil.getBorder(d);if(d.ss.prevslide){d.ss.prevslide.o.css("display","none")}if(d.ss.nextslide){d.ss.nextslide.o.css("display","none")}if(d.ss.loader){y=parseInt(slidePad.t)+parseInt(slideBor.t);if(d.ss.slideslinks){if(d.ss.slideslinks.linksPosition=="top"){y+=d.ss.slideslinks.dimm.hb}else{slidePos.h-=d.ss.slideslinks.dimm.hb}}if(d.ss.slideCaption){if(d.ss.slideCaption&&d.ss.slideCaption.captionPosition=="top"){y+=d.ss.slideCaption.dimm.hb}else{slidePos.h-=d.ss.slideCaption.dimm.hb}}if(!d.ss.loaderWidth){d.ss.loaderHeight=e.loader?e.loader.height:(parseInt(d.ss.loader.css("height"))||0);d.ss.loaderWidth=e.loader?e.loader.width:(parseInt(d.ss.loader.css("width"))||0)}d.ss.loader.css("top",y+(slidePos.h-d.ss.loaderHeight)/2+"px");d.ss.loader.css("left",(slidePos.wb-d.ss.loaderWidth)/2+"px");d.ss.loader.css("display","block")}images=jQuery("img",d.ss.holder);if(images.size()>0){images.fadeOut(d.ss.fadeDuration,jQuery.islideshow.showImage)}else{lnk=jQuery("a",d.ss.slideslinks.o).get(slide-1);jQuery(lnk).addClass(d.ss.slideslinks.activeLinkClass);var c=new Image();c.slideshow=jQuery.attr(d,"id");c.slide=slide-1;c.src=d.ss.images[d.ss.currentslide-1].src;if(c.complete){c.onload=null;jQuery.islideshow.display.apply(c)}else{c.onload=jQuery.islideshow.display}if(d.ss.slideCaption){d.ss.slideCaption.o.html(d.ss.images[slide-1].caption)}}}},showImage:function(){slideshow=this.parentNode.parentNode;slideshow.ss.holder.css("display","none");if(slideshow.ss.slideslinks.activeLinkClass){lnk=jQuery("a",slideshow.ss.slideslinks.o).removeClass(slideshow.ss.slideslinks.activeLinkClass).get(slideshow.ss.currentslide-1);jQuery(lnk).addClass(slideshow.ss.slideslinks.activeLinkClass)}var c=new Image();c.slideshow=jQuery.attr(slideshow,"id");c.slide=slideshow.ss.currentslide-1;c.src=slideshow.ss.images[slideshow.ss.currentslide-1].src;if(c.complete){c.onload=null;jQuery.islideshow.display.apply(c)}else{c.onload=jQuery.islideshow.display}if(slideshow.ss.slideCaption){slideshow.ss.slideCaption.o.html(slideshow.ss.images[slideshow.ss.currentslide-1].caption)}},display:function(){slideshow=document.getElementById(this.slideshow);if(slideshow.ss.prevslide){slideshow.ss.prevslide.o.css("display","none")}if(slideshow.ss.nextslide){slideshow.ss.nextslide.o.css("display","none")}slidePos=jQuery.iUtil.getSize(slideshow);y=0;if(slideshow.ss.slideslinks){if(slideshow.ss.slideslinks.linksPosition=="top"){y+=slideshow.ss.slideslinks.dimm.hb}else{slidePos.h-=slideshow.ss.slideslinks.dimm.hb}}if(slideshow.ss.slideCaption){if(slideshow.ss.slideCaption&&slideshow.ss.slideCaption.captionPosition=="top"){y+=slideshow.ss.slideCaption.dimm.hb}else{slidePos.h-=slideshow.ss.slideCaption.dimm.hb}}par=jQuery(".slideshowHolder",slideshow);y=y+(slidePos.h-this.height)/2;x=(slidePos.wb-this.width)/2;slideshow.ss.holder.css("top",y+"px").css("left",x+"px").html('<img src="'+this.src+'" />');slideshow.ss.holder.fadeIn(slideshow.ss.fadeDuration);nextslide=slideshow.ss.currentslide+1;if(nextslide>slideshow.ss.images.length){nextslide=1}prevslide=slideshow.ss.currentslide-1;if(prevslide<1){prevslide=slideshow.ss.images.length}slideshow.ss.nextslide.o.css("display","block").css("top",y+"px").css("left",x+2*this.width/3+"px").css("width",this.width/3+"px").css("height",this.height+"px").attr("title",slideshow.ss.images[nextslide-1].caption);slideshow.ss.nextslide.o.get(0).href="#"+nextslide+jQuery.attr(slideshow,"id");slideshow.ss.prevslide.o.css("display","block").css("top",y+"px").css("left",x+"px").css("width",this.width/3+"px").css("height",this.height+"px").attr("title",slideshow.ss.images[prevslide-1].caption);slideshow.ss.prevslide.o.get(0).href="#"+prevslide+jQuery.attr(slideshow,"id")},build:function(g){if(!g||!g.container||jQuery.islideshow.slideshows[g.container]){return}var c=jQuery("#"+g.container);var f=c.get(0);if(f.style.position!="absolute"&&f.style.position!="relative"){f.style.position="relative"}f.style.overflow="hidden";if(c.size()==0){return}f.ss={};f.ss.images=g.images?g.images:[];f.ss.random=g.random&&g.random==true||false;imgs=f.getElementsByTagName("IMG");for(e=0;e<imgs.length;e++){indic=f.ss.images.length;f.ss.images[indic]={src:imgs[e].src,caption:imgs[e].title||imgs[e].alt||""}}if(f.ss.images.length==0){return}f.ss.oP=jQuery.extend(jQuery.iUtil.getPosition(f),jQuery.iUtil.getSize(f));f.ss.oPad=jQuery.iUtil.getPadding(f);f.ss.oBor=jQuery.iUtil.getBorder(f);t=parseInt(f.ss.oPad.t)+parseInt(f.ss.oBor.t);b=parseInt(f.ss.oPad.b)+parseInt(f.ss.oBor.b);jQuery("img",f).remove();f.ss.fadeDuration=g.fadeDuration?g.fadeDuration:500;if(g.linksPosition||g.linksClass||g.activeLinkClass){f.ss.slideslinks={};c.append('<div class="slideshowLinks"></div>');f.ss.slideslinks.o=jQuery(".slideshowLinks",f);if(g.linksClass){f.ss.slideslinks.linksClass=g.linksClass;f.ss.slideslinks.o.addClass(g.linksClass)}if(g.activeLinkClass){f.ss.slideslinks.activeLinkClass=g.activeLinkClass}f.ss.slideslinks.o.css("position","absolute").css("width",f.ss.oP.w+"px");if(g.linksPosition&&g.linksPosition=="top"){f.ss.slideslinks.linksPosition="top";f.ss.slideslinks.o.css("top",t+"px")}else{f.ss.slideslinks.linksPosition="bottom";f.ss.slideslinks.o.css("bottom",b+"px")}f.ss.slideslinks.linksSeparator=g.linksSeparator?g.linksSeparator:" ";for(var e=0;e<f.ss.images.length;e++){indic=parseInt(e)+1;f.ss.slideslinks.o.append('<a href="#'+indic+g.container+'" class="slideshowLink" title="'+f.ss.images[e].caption+'">'+indic+"</a>"+(indic!=f.ss.images.length?f.ss.slideslinks.linksSeparator:""))}jQuery("a",f.ss.slideslinks.o).bind("click",function(){jQuery.islideshow.go({link:this})});f.ss.slideslinks.dimm=jQuery.iUtil.getSize(f.ss.slideslinks.o.get(0))}if(g.captionPosition||g.captionClass){f.ss.slideCaption={};c.append('<div class="slideshowCaption">&nbsp;</div>');f.ss.slideCaption.o=jQuery(".slideshowCaption",f);if(g.captionClass){f.ss.slideCaption.captionClass=g.captionClass;f.ss.slideCaption.o.addClass(g.captionClass)}f.ss.slideCaption.o.css("position","absolute").css("width",f.ss.oP.w+"px");if(g.captionPosition&&g.captionPosition=="top"){f.ss.slideCaption.captionPosition="top";f.ss.slideCaption.o.css("top",(f.ss.slideslinks&&f.ss.slideslinks.linksPosition=="top"?f.ss.slideslinks.dimm.hb+t:t)+"px")}else{f.ss.slideCaption.captionPosition="bottom";f.ss.slideCaption.o.css("bottom",(f.ss.slideslinks&&f.ss.slideslinks.linksPosition=="bottom"?f.ss.slideslinks.dimm.hb+b:b)+"px")}f.ss.slideCaption.dimm=jQuery.iUtil.getSize(f.ss.slideCaption.o.get(0))}if(g.nextslideClass){f.ss.nextslide={nextslideClass:g.nextslideClass};c.append('<a href="#2'+g.container+'" class="slideshowNextSlide">&nbsp;</a>');f.ss.nextslide.o=jQuery(".slideshowNextSlide",f);f.ss.nextslide.o.css("position","absolute").css("display","none").css("overflow","hidden").css("fontSize","30px").addClass(f.ss.nextslide.nextslideClass);f.ss.nextslide.o.bind("click",jQuery.islideshow.gonext)}if(g.prevslideClass){f.ss.prevslide={prevslideClass:g.prevslideClass};c.append('<a href="#0'+g.container+'" class="slideshowPrevslide">&nbsp;</a>');f.ss.prevslide.o=jQuery(".slideshowPrevslide",f);f.ss.prevslide.o.css("position","absolute").css("display","none").css("overflow","hidden").css("fontSize","30px").addClass(f.ss.prevslide.prevslideClass);f.ss.prevslide.o.bind("click",jQuery.islideshow.goprev)}c.prepend('<div class="slideshowHolder"></div>');f.ss.holder=jQuery(".slideshowHolder",f);f.ss.holder.css("position","absolute").css("top","0px").css("left","0px").css("display","none");if(g.loader){c.prepend('<div class="slideshowLoader" style="display: none;"><img src="'+g.loader+'" /></div>');f.ss.loader=jQuery(".slideshowLoader",f);f.ss.loader.css("position","absolute");var d=new Image();d.slideshow=g.container;d.src=g.loader;if(d.complete){d.onload=null;jQuery.islideshow.go({loader:d})}else{d.onload=function(){jQuery.islideshow.go({loader:this})}}}else{jQuery.islideshow.go({container:f})}if(g.autoplay){time=parseInt(g.autoplay)*1000}jQuery.islideshow.slideshows[g.container]=g.autoplay?window.setInterval("jQuery.islideshow.timer('"+g.container+"')",time):null}};jQuery.slideshow=jQuery.islideshow.build;jQuery.iSort={changed:[],collected:{},helper:false,inFrontOf:null,start:function(){if(jQuery.iDrag.dragged==null){return}var e,f,g,d;jQuery.iSort.helper.get(0).className=jQuery.iDrag.dragged.dragCfg.hpc;e=jQuery.iSort.helper.get(0).style;e.display="block";jQuery.iSort.helper.oC=jQuery.extend(jQuery.iUtil.getPosition(jQuery.iSort.helper.get(0)),jQuery.iUtil.getSize(jQuery.iSort.helper.get(0)));e.width=jQuery.iDrag.dragged.dragCfg.oC.wb+"px";e.height=jQuery.iDrag.dragged.dragCfg.oC.hb+"px";f=jQuery.iUtil.getMargins(jQuery.iDrag.dragged);e.marginTop=f.t;e.marginRight=f.r;e.marginBottom=f.b;e.marginLeft=f.l;if(jQuery.iDrag.dragged.dragCfg.ghosting==true){g=jQuery.iDrag.dragged.cloneNode(true);d=g.style;d.marginTop="0px";d.marginRight="0px";d.marginBottom="0px";d.marginLeft="0px";d.display="block";jQuery.iSort.helper.empty().append(g)}jQuery(jQuery.iDrag.dragged).after(jQuery.iSort.helper.get(0));jQuery.iDrag.dragged.style.display="none"},check:function(j){if(!j.dragCfg.so&&jQuery.iDrop.overzone.sortable){if(j.dragCfg.onStop){j.dragCfg.onStop.apply(dragged)}jQuery(j).css("position",j.dragCfg.initialPosition||j.dragCfg.oP);jQuery(j).DraggableDestroy();jQuery(jQuery.iDrop.overzone).SortableAddItem(j)}jQuery.iSort.helper.removeClass(j.dragCfg.hpc).html("&nbsp;");jQuery.iSort.inFrontOf=null;var h=jQuery.iSort.helper.get(0).style;h.display="none";jQuery.iSort.helper.after(j);if(j.dragCfg.fx>0){jQuery(j).fadeIn(j.dragCfg.fx)}jQuery("body").append(jQuery.iSort.helper.get(0));var g=[];var k=false;for(var f=0;f<jQuery.iSort.changed.length;f++){var d=jQuery.iDrop.zones[jQuery.iSort.changed[f]].get(0);var m=jQuery.attr(d,"id");var c=jQuery.iSort.serialize(m);if(d.dropCfg.os!=c.hash){d.dropCfg.os=c.hash;if(k==false&&d.dropCfg.onChange){k=d.dropCfg.onChange}c.id=m;g[g.length]=c}}jQuery.iSort.changed=[];if(k!=false&&g.length>0){k(g)}},checkhover:function(d,g){if(!jQuery.iDrag.dragged){return}var f=false;var c=0;if(d.dropCfg.el.size()>0){for(c=d.dropCfg.el.size();c>0;c--){if(d.dropCfg.el.get(c-1)!=jQuery.iDrag.dragged){if(!d.sortCfg.floats){if((d.dropCfg.el.get(c-1).pos.y+d.dropCfg.el.get(c-1).pos.hb/2)>jQuery.iDrag.dragged.dragCfg.ny){f=d.dropCfg.el.get(c-1)}else{break}}else{if((d.dropCfg.el.get(c-1).pos.x+d.dropCfg.el.get(c-1).pos.wb/2)>jQuery.iDrag.dragged.dragCfg.nx&&(d.dropCfg.el.get(c-1).pos.y+d.dropCfg.el.get(c-1).pos.hb/2)>jQuery.iDrag.dragged.dragCfg.ny){f=d.dropCfg.el.get(c-1)}}}}}if(f&&jQuery.iSort.inFrontOf!=f){jQuery.iSort.inFrontOf=f;jQuery(f).before(jQuery.iSort.helper.get(0))}else{if(!f&&(jQuery.iSort.inFrontOf!=null||jQuery.iSort.helper.get(0).parentNode!=d)){jQuery.iSort.inFrontOf=null;jQuery(d).append(jQuery.iSort.helper.get(0))}}jQuery.iSort.helper.get(0).style.display="block"},measure:function(c){if(jQuery.iDrag.dragged==null){return}c.dropCfg.el.each(function(){this.pos=jQuery.extend(jQuery.iUtil.getSizeLite(this),jQuery.iUtil.getPositionLite(this))})},serialize:function(e){var c;var d="";var f={};if(e){if(jQuery.iSort.collected[e]){f[e]=[];jQuery("#"+e+" ."+jQuery.iSort.collected[e]).each(function(){if(d.length>0){d+="&"}d+=e+"[]="+jQuery.attr(this,"id");f[e][f[e].length]=jQuery.attr(this,"id")})}else{for(a in e){if(jQuery.iSort.collected[e[a]]){f[e[a]]=[];jQuery("#"+e[a]+" ."+jQuery.iSort.collected[e[a]]).each(function(){if(d.length>0){d+="&"}d+=e[a]+"[]="+jQuery.attr(this,"id");f[e[a]][f[e[a]].length]=jQuery.attr(this,"id")})}}}}else{for(c in jQuery.iSort.collected){f[c]=[];jQuery("#"+c+" ."+jQuery.iSort.collected[c]).each(function(){if(d.length>0){d+="&"}d+=c+"[]="+jQuery.attr(this,"id");f[c][f[c].length]=jQuery.attr(this,"id")})}}return{hash:d,o:f}},addItem:function(c){if(!c.childNodes){return}return this.each(function(){if(!this.sortCfg||!jQuery(c).is("."+this.sortCfg.accept)){jQuery(c).addClass(this.sortCfg.accept)}jQuery(c).Draggable(this.sortCfg.dragCfg)})},destroy:function(){return this.each(function(){jQuery("."+this.sortCfg.accept).DraggableDestroy();jQuery(this).DroppableDestroy();this.sortCfg=null;this.isSortable=null})},build:function(c){if(c.accept&&jQuery.iUtil&&jQuery.iDrag&&jQuery.iDrop){if(!jQuery.iSort.helper){jQuery("body",document).append('<div id="sortHelper">&nbsp;</div>');jQuery.iSort.helper=jQuery("#sortHelper");jQuery.iSort.helper.get(0).style.display="none"}this.Droppable({accept:c.accept,activeclass:c.activeclass?c.activeclass:false,hoverclass:c.hoverclass?c.hoverclass:false,helperclass:c.helperclass?c.helperclass:false,onHover:c.onHover||c.onhover,onOut:c.onOut||c.onout,sortable:true,onChange:c.onChange||c.onchange,fx:c.fx?c.fx:false,ghosting:c.ghosting?true:false,tolerance:c.tolerance?c.tolerance:"intersect"});return this.each(function(){var d={revert:c.revert?true:false,zindex:3000,opacity:c.opacity?parseFloat(c.opacity):false,hpc:c.helperclass?c.helperclass:false,fx:c.fx?c.fx:false,so:true,ghosting:c.ghosting?true:false,handle:c.handle?c.handle:null,containment:c.containment?c.containment:null,onStart:c.onStart&&c.onStart.constructor==Function?c.onStart:false,onDrag:c.onDrag&&c.onDrag.constructor==Function?c.onDrag:false,onStop:c.onStop&&c.onStop.constructor==Function?c.onStop:false,axis:/vertically|horizontally/.test(c.axis)?c.axis:false,snapDistance:c.snapDistance?parseInt(c.snapDistance)||0:false,cursorAt:c.cursorAt?c.cursorAt:false};jQuery("."+c.accept,this).Draggable(d);this.isSortable=true;this.sortCfg={accept:c.accept,revert:c.revert?true:false,zindex:3000,opacity:c.opacity?parseFloat(c.opacity):false,hpc:c.helperclass?c.helperclass:false,fx:c.fx?c.fx:false,so:true,ghosting:c.ghosting?true:false,handle:c.handle?c.handle:null,containment:c.containment?c.containment:null,floats:c.floats?true:false,dragCfg:d}})}}};jQuery.fn.extend({Sortable:jQuery.iSort.build,SortableAddItem:jQuery.iSort.addItem,SortableDestroy:jQuery.iSort.destroy});jQuery.SortSerialize=jQuery.iSort.serialize;jQuery.iTooltip={current:null,focused:false,oldTitle:null,focus:function(c){jQuery.iTooltip.focused=true;jQuery.iTooltip.show(c,this,true)},hidefocused:function(c){if(jQuery.iTooltip.current!=this){return}jQuery.iTooltip.focused=false;jQuery.iTooltip.hide(c,this)},show:function(f,c,d){if(jQuery.iTooltip.current!=null){return}if(!c){c=this}jQuery.iTooltip.current=c;pos=jQuery.extend(jQuery.iUtil.getPosition(c),jQuery.iUtil.getSize(c));jEl=jQuery(c);title=jEl.attr("title");href=jEl.attr("href");if(title){jQuery.iTooltip.oldTitle=title;jEl.attr("title","");jQuery("#tooltipTitle").html(title);if(href){jQuery("#tooltipURL").html(href.replace("http://",""))}else{jQuery("#tooltipURL").html("")}helper=jQuery("#tooltipHelper");if(c.tooltipCFG.className){helper.get(0).className=c.tooltipCFG.className}else{helper.get(0).className=""}helperSize=jQuery.iUtil.getSize(helper.get(0));filteredPosition=d&&c.tooltipCFG.position=="mouse"?"bottom":c.tooltipCFG.position;switch(filteredPosition){case"top":ny=pos.y-helperSize.hb;nx=pos.x;break;case"left":ny=pos.y;nx=pos.x-helperSize.wb;break;case"right":ny=pos.y;nx=pos.x+pos.wb;break;case"mouse":jQuery("body").bind("mousemove",jQuery.iTooltip.mousemove);pointer=jQuery.iUtil.getPointer(f);ny=pointer.y+15;nx=pointer.x+15;break;default:ny=pos.y+pos.hb;nx=pos.x;break}helper.css({top:ny+"px",left:nx+"px"});if(c.tooltipCFG.delay==false){helper.show()}else{helper.fadeIn(c.tooltipCFG.delay)}if(c.tooltipCFG.onShow){c.tooltipCFG.onShow.apply(c)}jEl.bind("mouseout",jQuery.iTooltip.hide).bind("blur",jQuery.iTooltip.hidefocused)}},mousemove:function(c){if(jQuery.iTooltip.current==null){jQuery("body").unbind("mousemove",jQuery.iTooltip.mousemove);return}pointer=jQuery.iUtil.getPointer(c);jQuery("#tooltipHelper").css({top:pointer.y+15+"px",left:pointer.x+15+"px"})},hide:function(d,c){if(!c){c=this}if(jQuery.iTooltip.focused!=true&&jQuery.iTooltip.current==c){jQuery.iTooltip.current=null;jQuery("#tooltipHelper").fadeOut(1);jQuery(c).attr("title",jQuery.iTooltip.oldTitle).unbind("mouseout",jQuery.iTooltip.hide).unbind("blur",jQuery.iTooltip.hidefocused);if(c.tooltipCFG.onHide){c.tooltipCFG.onHide.apply(c)}jQuery.iTooltip.oldTitle=null}},build:function(c){if(!jQuery.iTooltip.helper){jQuery("body").append('<div id="tooltipHelper"><div id="tooltipTitle"></div><div id="tooltipURL"></div></div>');jQuery("#tooltipHelper").css({position:"absolute",zIndex:3000,display:"none"});jQuery.iTooltip.helper=true}return this.each(function(){if(jQuery.attr(this,"title")){this.tooltipCFG={position:/top|bottom|left|right|mouse/.test(c.position)?c.position:"bottom",className:c.className?c.className:false,delay:c.delay?c.delay:false,onShow:c.onShow&&c.onShow.constructor==Function?c.onShow:false,onHide:c.onHide&&c.onHide.constructor==Function?c.onHide:false};var d=jQuery(this);d.bind("mouseover",jQuery.iTooltip.show);d.bind("focus",jQuery.iTooltip.focus)}})}};jQuery.fn.ToolTip=jQuery.iTooltip.build;jQuery.iTTabs={doTab:function(c){pressedKey=c.charCode||c.keyCode||-1;if(pressedKey==9){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{c.preventDefault();c.stopPropagation()}if(this.createTextRange){document.selection.createRange().text="\t";this.onblur=function(){this.focus();this.onblur=null}}else{if(this.setSelectionRange){start=this.selectionStart;end=this.selectionEnd;this.value=this.value.substring(0,start)+"\t"+this.value.substr(end);this.setSelectionRange(start+1,start+1);this.focus()}}return false}},destroy:function(){return this.each(function(){if(this.hasTabsEnabled&&this.hasTabsEnabled==true){jQuery(this).unbind("keydown",jQuery.iTTabs.doTab);this.hasTabsEnabled=false}})},build:function(){return this.each(function(){if(this.tagName=="TEXTAREA"&&(!this.hasTabsEnabled||this.hasTabsEnabled==false)){jQuery(this).bind("keydown",jQuery.iTTabs.doTab);this.hasTabsEnabled=true}})}};jQuery.fn.extend({EnableTabs:jQuery.iTTabs.build,DisableTabs:jQuery.iTTabs.destroy});jQuery.iUtil={getPosition:function(j){var c=0;var m=0;var k=j.style;var h=false;if(jQuery(j).css("display")=="none"){var d=k.visibility;var g=k.position;h=true;k.visibility="hidden";k.display="block";k.position="absolute"}var f=j;while(f){c+=f.offsetLeft+(f.currentStyle&&!jQuery.browser.opera?parseInt(f.currentStyle.borderLeftWidth)||0:0);m+=f.offsetTop+(f.currentStyle&&!jQuery.browser.opera?parseInt(f.currentStyle.borderTopWidth)||0:0);f=f.offsetParent}f=j;while(f&&f.tagName&&f.tagName.toLowerCase()!="body"){c-=f.scrollLeft||0;m-=f.scrollTop||0;f=f.parentNode}if(h==true){k.display="none";k.position=g;k.visibility=d}return{x:c,y:m}},getPositionLite:function(d){var c=0,e=0;while(d){c+=d.offsetLeft||0;e+=d.offsetTop||0;d=d.offsetParent}return{x:c,y:e}},getSize:function(k){var c=jQuery.css(k,"width");var g=jQuery.css(k,"height");var j=0;var n=0;var m=k.style;if(jQuery(k).css("display")!="none"){j=k.offsetWidth;n=k.offsetHeight}else{var d=m.visibility;var f=m.position;m.visibility="hidden";m.display="block";m.position="absolute";j=k.offsetWidth;n=k.offsetHeight;m.display="none";m.position=f;m.visibility=d}return{w:c,h:g,wb:j,hb:n}},getSizeLite:function(c){return{wb:c.offsetWidth||0,hb:c.offsetHeight||0}},getClient:function(f){var d,c,g;if(f){c=f.clientWidth;d=f.clientHeight}else{g=document.documentElement;c=window.innerWidth||self.innerWidth||(g&&g.clientWidth)||document.body.clientWidth;d=window.innerHeight||self.innerHeight||(g&&g.clientHeight)||document.body.clientHeight}return{w:c,h:d}},getScroll:function(m){var g=0,d=0,c=0,j=0,f=0,k=0;if(m&&m.nodeName.toLowerCase()!="body"){g=m.scrollTop;d=m.scrollLeft;c=m.scrollWidth;j=m.scrollHeight;f=0;k=0}else{if(document.documentElement){g=document.documentElement.scrollTop;d=document.documentElement.scrollLeft;c=document.documentElement.scrollWidth;j=document.documentElement.scrollHeight}else{if(document.body){g=document.body.scrollTop;d=document.body.scrollLeft;c=document.body.scrollWidth;j=document.body.scrollHeight}}f=self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;k=self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}return{t:g,l:d,w:c,h:j,iw:f,ih:k}},getMargins:function(k,f){var h=jQuery(k);var g=h.css("marginTop")||"";var j=h.css("marginRight")||"";var c=h.css("marginBottom")||"";var d=h.css("marginLeft")||"";if(f){return{t:parseInt(g)||0,r:parseInt(j)||0,b:parseInt(c)||0,l:parseInt(d)}}else{return{t:g,r:j,b:c,l:d}}},getPadding:function(k,f){var h=jQuery(k);var g=h.css("paddingTop")||"";var j=h.css("paddingRight")||"";var c=h.css("paddingBottom")||"";var d=h.css("paddingLeft")||"";if(f){return{t:parseInt(g)||0,r:parseInt(j)||0,b:parseInt(c)||0,l:parseInt(d)}}else{return{t:g,r:j,b:c,l:d}}},getBorder:function(k,f){var h=jQuery(k);var g=h.css("borderTopWidth")||"";var j=h.css("borderRightWidth")||"";var c=h.css("borderBottomWidth")||"";var d=h.css("borderLeftWidth")||"";if(f){return{t:parseInt(g)||0,r:parseInt(j)||0,b:parseInt(c)||0,l:parseInt(d)||0}}else{return{t:g,r:j,b:c,l:d}}},getPointer:function(d){var c=d.pageX||(d.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))||0;var e=d.pageY||(d.clientY+(document.documentElement.scrollTop||document.body.scrollTop))||0;return{x:c,y:e}},traverseDOM:function(c,d){d(c);c=c.firstChild;while(c){jQuery.iUtil.traverseDOM(c,d);c=c.nextSibling}},purgeEvents:function(c){jQuery.iUtil.traverseDOM(c,function(e){for(var d in e){if(typeof e[d]==="function"){e[d]=null}}})},centerEl:function(f,e){var c=jQuery.iUtil.getScroll();var d=jQuery.iUtil.getSize(f);if(!e||e=="vertically"){jQuery(f).css({top:c.t+((Math.max(c.h,c.ih)-c.t-d.hb)/2)+"px"})}if(!e||e=="horizontally"){jQuery(f).css({left:c.l+((Math.max(c.w,c.iw)-c.l-d.wb)/2)+"px"})}},fixPNG:function(d,f){var c=jQuery('img[@src*="png"]',d||document),e;c.each(function(){e=this.src;this.src=f;this.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"')"})}};[].indexOf||(Array.prototype.indexOf=function(d,f){f=(f==null)?0:f;var c=this.length;for(var e=f;e<c;e++){if(this[e]==d){return e}}return -1});jQuery.iAuto={helper:null,content:null,iframe:null,timer:null,lastValue:null,currentValue:null,subject:null,selectedItem:null,items:null,empty:function(){jQuery.iAuto.content.empty();if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.hide()}},clear:function(){if(jQuery.iAuto.subject){jQuery.iAuto.items=null;jQuery.iAuto.selectedItem=null;jQuery.iAuto.lastValue=jQuery.iAuto.subject.value;if(jQuery.iAuto.helper.css("display")=="block"){if(jQuery.iAuto.subject.autoCFG.fx){switch(jQuery.iAuto.subject.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeOut(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"slide":jQuery.iAuto.helper.SlideOutUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"blind":jQuery.iAuto.helper.BlindUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break}}else{jQuery.iAuto.helper.hide()}if(jQuery.iAuto.subject.autoCFG.onHide){jQuery.iAuto.subject.autoCFG.onHide.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}else{jQuery.iAuto.empty()}}window.clearTimeout(jQuery.iAuto.timer)},update:function(){var d=jQuery.iAuto.subject;var c=jQuery.iAuto.getFieldValues(d);var g=d.autoCFG.source;var f=d.autoCFG.dataSourceType;var h=d.autoCFG.isXML;if(d&&c.item!=jQuery.iAuto.lastValue&&c.item.length>=d.autoCFG.minchars){jQuery.iAuto.lastValue=c.item;jQuery.iAuto.currentValue=c.item;data={field:jQuery(d).attr("name")||"field",value:c.item};if(typeof g=="string"){jQuery.ajax({type:"POST",data:jQuery.param(data),dataType:(h)?"xml":"json",success:function(j){jQuery.iAuto.handleData(j,d,c,h)},url:g})}else{if(typeof g=="function"){var e=g(data);jQuery.iAuto.handleData(e,d,c,h)}}}},writeItems:function(f,h){jQuery.iAuto.content.html(h);jQuery.iAuto.items=jQuery("li",jQuery.iAuto.content.get(0));jQuery.iAuto.items.mouseover(jQuery.iAuto.hoverItem).bind("click",jQuery.iAuto.clickItem);var c=jQuery.iUtil.getPosition(f);var e=jQuery.iUtil.getSize(f);jQuery.iAuto.helper.css("top",c.y+e.hb+"px").css("left",c.x+"px").addClass(f.autoCFG.helperClass);if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.css("display","block").css("top",c.y+e.hb+"px").css("left",c.x+"px").css("width",jQuery.iAuto.helper.css("width")).css("height",jQuery.iAuto.helper.css("height"))}jQuery.iAuto.selectedItem=0;jQuery.iAuto.items.get(0).className=f.autoCFG.selectClass;jQuery.iAuto.applyOn(f,f.autoCFG.lastSuggestion[0],"onHighlight");if(jQuery.iAuto.helper.css("display")=="none"){if(f.autoCFG.inputWidth){var g=jQuery.iUtil.getPadding(f,true);var d=jQuery.iUtil.getBorder(f,true);jQuery.iAuto.helper.css("width",f.offsetWidth-(jQuery.boxModel?(g.l+g.r+d.l+d.r):0)+"px")}if(f.autoCFG.fx){switch(f.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeIn(f.autoCFG.fx.duration);break;case"slide":jQuery.iAuto.helper.SlideInUp(f.autoCFG.fx.duration);break;case"blind":jQuery.iAuto.helper.BlindDown(f.autoCFG.fx.duration);break}}else{jQuery.iAuto.helper.show()}if(jQuery.iAuto.subject.autoCFG.onShow){jQuery.iAuto.subject.autoCFG.onShow.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}},checkCache:function(){var c=this;if(c.autoCFG.lastSuggestion){jQuery.iAuto.lastValue=c.value;jQuery.iAuto.currentValue=c.value;var f=c.autoCFG.isXML;var d=function(g){var h,k,j;if(f){h=jQuery("value",this).text();k=jQuery("text",this).text()}else{h=this.value;k=this.text}j=h.toLowerCase();inputValue=c.value.toLowerCase();if(j.indexOf(inputValue)==0){e+='<li rel="'+h+'" dir="'+g+'" style="cursor: default;">'+k+"</li>"}};var e="";if(f){c.autoCFG.lastSuggestion.each(d)}else{jQuery.each(c.autoCFG.lastSuggestion,d)}if(e!=""){jQuery.iAuto.writeItems(c,e);this.autoCFG.inCache=true;return}}c.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false},selection:function(e,f,d){if(e.createTextRange){var c=e.createTextRange();c.collapse(true);c.moveStart("character",f);c.moveEnd("character",-d+f);c.select()}else{if(e.setSelectionRange){e.setSelectionRange(f,d)}else{if(e.selectionStart){e.selectionStart=f;e.selectionEnd=d}}}e.focus()},getSelectionStart:function(d){if(d.selectionStart){return d.selectionStart}else{if(d.createTextRange){var c=document.selection.createRange();var e=c.duplicate();return 0-e.moveStart("character",-100000)}}},getFieldValues:function(g){var c={value:g.value,pre:"",post:"",item:""};if(g.autoCFG.multiple){var f=false;var e=jQuery.iAuto.getSelectionStart(g)||0;var h=c.value.split(g.autoCFG.multipleSeparator);for(var d=0;d<h.length;d++){if((c.pre.length+h[d].length>=e||e==0)&&!f){if(c.pre.length<=e){c.item=h[d]}else{c.post+=h[d]+(h[d]!=""?g.autoCFG.multipleSeparator:"")}f=true}else{if(f){c.post+=h[d]+(h[d]!=""?g.autoCFG.multipleSeparator:"")}}if(!f){c.pre+=h[d]+(h.length>1?g.autoCFG.multipleSeparator:"")}}}else{c.item=c.value}return c},autocomplete:function(g){window.clearTimeout(jQuery.iAuto.timer);var d=jQuery.iAuto.getFieldValues(this);var h=g.charCode||g.keyCode||-1;if(/13|27|35|36|38|40|9/.test(h)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{g.preventDefault();g.stopPropagation()}if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}else{jQuery.iAuto.selectedItem=-1}switch(h){case 9:case 13:if(jQuery.iAuto.selectedItem==-1){jQuery.iAuto.selectedItem=0}var f=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0);var j=f.getAttribute("rel");this.value=d.pre+j+this.autoCFG.multipleSeparator+d.post;jQuery.iAuto.lastValue=d.item;jQuery.iAuto.selection(this,d.pre.length+j.length+this.autoCFG.multipleSeparator.length,d.pre.length+j.length+this.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(this.autoCFG.onSelect){iteration=parseInt(f.getAttribute("dir"))||0;jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion[iteration],"onSelect")}if(this.scrollIntoView){this.scrollIntoView(false)}return h!=13;break;case 27:this.value=d.pre+jQuery.iAuto.lastValue+this.autoCFG.multipleSeparator+d.post;this.autoCFG.lastSuggestion=null;jQuery.iAuto.clear();if(this.scrollIntoView){this.scrollIntoView(false)}return false;break;case 35:jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1;break;case 36:jQuery.iAuto.selectedItem=0;break;case 38:jQuery.iAuto.selectedItem--;if(jQuery.iAuto.selectedItem<0){jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1}break;case 40:jQuery.iAuto.selectedItem++;if(jQuery.iAuto.selectedItem==jQuery.iAuto.items.size()){jQuery.iAuto.selectedItem=0}break}jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion[jQuery.iAuto.selectedItem||0],"onHighlight");jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=this.autoCFG.selectClass;if(jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView(false)}if(this.autoCFG.autofill){var c=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).getAttribute("rel");this.value=d.pre+c+this.autoCFG.multipleSeparator+d.post;if(jQuery.iAuto.lastValue.length!=c.length){jQuery.iAuto.selection(this,d.pre.length+jQuery.iAuto.lastValue.length,d.pre.length+c.length)}}return false}jQuery.iAuto.checkCache.apply(this);if(this.autoCFG.inCache==false){if(d.item!=jQuery.iAuto.lastValue&&d.item.length>=this.autoCFG.minchars){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.update,this.autoCFG.delay)}if(jQuery.iAuto.items){jQuery.iAuto.clear()}}return true},applyOn:function(f,d,c){var g=f.autoCFG.source;if(f.autoCFG[c]){var e={};if(f.autoCFG.isXML){childs=d.getElementsByTagName("*");for(i=0;i<childs.length;i++){e[childs[i].tagName]=childs[i].firstChild.nodeValue}}else{e=d}f.autoCFG[c].apply(f,[e])}},hoverItem:function(c){if(jQuery.iAuto.items){if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className="";jQuery.iAuto.selectedItem=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=jQuery.iAuto.subject.autoCFG.selectClass}},clickItem:function(d){window.clearTimeout(jQuery.iAuto.timer);d=d||jQuery.event.fix(window.event);d.preventDefault();d.stopPropagation();var c=jQuery.iAuto.getFieldValues(jQuery.iAuto.subject);var e=this.getAttribute("rel");jQuery.iAuto.subject.value=c.pre+e+jQuery.iAuto.subject.autoCFG.multipleSeparator+c.post;jQuery.iAuto.lastValue=this.getAttribute("rel");jQuery.iAuto.selection(jQuery.iAuto.subject,c.pre.length+e.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length,c.pre.length+e.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(jQuery.iAuto.subject.autoCFG.onSelect){iteration=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.applyOn(jQuery.iAuto.subject,jQuery.iAuto.subject.autoCFG.lastSuggestion[iteration],"onSelect")}return false},protect:function(c){pressedKey=c.charCode||c.keyCode||-1;if(/13|27|35|36|38|40/.test(pressedKey)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{c.preventDefault();c.stopPropagation()}return false}},build:function(c){if(!c.source||!jQuery.iUtil){return}if(!jQuery.iAuto.helper){if(jQuery.browser.msie){jQuery("body",document).append('<iframe style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" id="autocompleteIframe" src="javascript:false;" frameborder="0" scrolling="no"></iframe>');jQuery.iAuto.iframe=jQuery("#autocompleteIframe")}jQuery("body",document).append('<div id="autocompleteHelper" style="position: absolute; top: 0; left: 0; z-index: 30001; display: none;"><ul style="margin: 0;padding: 0; list-style: none; z-index: 30002;">&nbsp;</ul></div>');jQuery.iAuto.helper=jQuery("#autocompleteHelper");jQuery.iAuto.content=jQuery("ul",jQuery.iAuto.helper)}return this.each(function(){if(this.tagName!="INPUT"&&this.getAttribute("type")!="text"){return}this.autoCFG={};this.autoCFG.source=c.source;this.autoCFG.minchars=Math.abs(parseInt(c.minchars)||1);this.autoCFG.helperClass=c.helperClass?c.helperClass:"";this.autoCFG.selectClass=c.selectClass?c.selectClass:"";this.autoCFG.onSelect=c.onSelect&&c.onSelect.constructor==Function?c.onSelect:null;this.autoCFG.onShow=c.onShow&&c.onShow.constructor==Function?c.onShow:null;this.autoCFG.onHide=c.onHide&&c.onHide.constructor==Function?c.onHide:null;this.autoCFG.onHighlight=c.onHighlight&&c.onHighlight.constructor==Function?c.onHighlight:null;this.autoCFG.inputWidth=c.inputWidth||false;this.autoCFG.dataSourceType=c.dataSourceType||"xml";this.autoCFG.dataSourceType=this.autoCFG.dataSourceType.toLowerCase();this.autoCFG.isXML=(this.autoCFG.dataSourceType=="xml");this.autoCFG.multiple=c.multiple||false;this.autoCFG.multipleSeparator=this.autoCFG.multiple?(c.multipleSeparator||", "):"";this.autoCFG.autofill=c.autofill?true:false;this.autoCFG.delay=Math.abs(parseInt(c.delay)||1000);if(c.fx&&c.fx.constructor==Object){if(!c.fx.type||!/fade|slide|blind/.test(c.fx.type)){c.fx.type="slide"}if(c.fx.type=="slide"&&!jQuery.fx.slide){return}if(c.fx.type=="blind"&&!jQuery.fx.BlindDirection){return}c.fx.duration=Math.abs(parseInt(c.fx.duration)||400);if(c.fx.duration>this.autoCFG.delay){c.fx.duration=this.autoCFG.delay-100}this.autoCFG.fx=c.fx}this.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false;jQuery(this).attr("autocomplete","off").focus(function(){jQuery.iAuto.subject=this;jQuery.iAuto.lastValue=this.value}).keypress(jQuery.iAuto.protect).keyup(jQuery.iAuto.autocomplete).blur(function(){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.clear,200)})})}};jQuery.iAuto.handleData=function(d,e,c,j){if(d.length==0){return}if(j){e.autoCFG.lastSuggestion=jQuery("item",d)}else{e.autoCFG.lastSuggestion=d}size=e.autoCFG.lastSuggestion.length;if(size>0){var h="";var f=function(k){var n,m;if(j){n=jQuery("text",this).text();m=jQuery("value",this).text()}else{n=this.text;m=this.value}h+='<li rel="'+m+'" dir="'+k+'" style="cursor: default;">'+n+"</li>"};if(j){e.autoCFG.lastSuggestion.each(f)}else{jQuery.each(d,f)}if(e.autoCFG.autofill){var g;if(j){g=jQuery("value",e.autoCFG.lastSuggestion[0]).text()}else{g=e.autoCFG.lastSuggestion[0].value}e.value=c.pre+g+e.autoCFG.multipleSeparator+c.post;jQuery.iAuto.selection(e,c.item.length!=g.length?(c.pre.length+c.item.length):g.length,c.item.length!=g.length?(c.pre.length+g.length):g.length)}if(size>0){jQuery.iAuto.writeItems(e,h)}else{jQuery.iAuto.clear()}}else{jQuery.iAuto.clear()}};jQuery.fn.Autocomplete=jQuery.iAuto.build;jQuery.iDrag.build=function(e){if(!jQuery.iDrag.helper){jQuery("body",document).append('<div id="dragHelper"></div>');jQuery.iDrag.helper=jQuery("#dragHelper");var d=jQuery.iDrag.helper.get(0);var c=d.style;c.position="absolute";c.display="none";c.cursor="move";c.listStyle="none";c.overflow="hidden";if(window.ActiveXObject){d.unselectable="on"}else{c.mozUserSelect="none";c.userSelect="none";c.KhtmlUserSelect="none"}}if(!e){e={}}return this.each(function(){if(this.isDraggable||!jQuery.iUtil){return}if(window.ActiveXObject){this.onselectstart=function(){return false};this.ondragstart=function(){return false}}var g=this;var f=e.handle?jQuery(e.handle,this):jQuery(this);if(jQuery.browser.msie){f.each(function(){this.unselectable="on"})}else{f.css("-moz-user-select","none");f.css("user-select","none");f.css("-khtml-user-select","none")}this.dragCfg={dhe:f,revert:e.revert?true:false,ghosting:e.ghosting?true:false,so:e.so?e.so:false,si:e.si?e.si:false,insideParent:e.insideParent?e.insideParent:false,zIndex:e.zIndex?parseInt(e.zIndex)||0:false,opacity:e.opacity?parseFloat(e.opacity):false,fx:parseInt(e.fx)||null,hpc:e.hpc?e.hpc:false,onDragModifier:{},pointer:{},onStart:e.onStart&&e.onStart.constructor==Function?e.onStart:false,onStop:e.onStop&&e.onStop.constructor==Function?e.onStop:false,onChange:e.onChange&&e.onChange.constructor==Function?e.onChange:false,axis:/vertically|horizontally/.test(e.axis)?e.axis:false,snapDistance:e.snapDistance?parseInt(e.snapDistance)||0:0,cursorAt:e.cursorAt?e.cursorAt:false,autoSize:e.autoSize?true:false,frameClass:e.frameClass||false};if(e.onDragModifier&&e.onDragModifier.constructor==Function){this.dragCfg.onDragModifier.user=e.onDragModifier}if(e.onDrag&&e.onDrag.constructor==Function){this.dragCfg.onDrag=e.onDrag}if(e.containment&&((e.containment.constructor==String&&(e.containment=="parent"||e.containment=="document"))||(e.containment.constructor==Array&&e.containment.length==4))){this.dragCfg.containment=e.containment}if(e.fractions){this.dragCfg.fractions=e.fractions}if(e.grid){if(typeof e.grid=="number"){this.dragCfg.gx=parseInt(e.grid)||1;this.dragCfg.gy=parseInt(e.grid)||1}else{if(e.grid.length==2){this.dragCfg.gx=parseInt(e.grid[0])||1;this.dragCfg.gy=parseInt(e.grid[1])||1}}}if(e.onSlide&&e.onSlide.constructor==Function){this.dragCfg.onSlide=e.onSlide}this.isDraggable=true;f.each(function(){this.dragElem=g});f.bind("mousedown",jQuery.iDrag.draginit)})};jQuery.fn.Draggable=jQuery.iDrag.build;var jQBrowser2=function(){var c=true;var u={browser:"Unknown",version:{number:undefined,string:"Unknown"},OS:"Unknown",aol:false,camino:false,firefox:false,flock:false,icab:false,konqueror:false,mozilla:false,msie:false,netscape:false,opera:false,safari:false,iphone:false,linux:false,mac:false,win:false};for(var j=0,d=navigator.userAgent,m=navigator.vendor,h=[{name:"Safari",browser:/Apple/.test(m)},{name:"Opera",browser:window.opera!=undefined},{name:"iCab",browser:/iCab/.test(m)},{name:"Konqueror",browser:/KDE/.test(m)},{identifier:"aol",name:"AOL Explorer",browser:/America Online Browser/.test(d),version:d.match(/rev(\d+(?:\.\d+)+)/)},{name:"Flock",browser:/Flock/.test(d)},{name:"Camino",browser:/Camino/.test(m)},{name:"Firefox",browser:/Firefox/.test(d)},{name:"Netscape",browser:/Netscape/.test(d)},{identifier:"msie",name:"Internet Explorer",browser:/MSIE/.test(d),version:d.match(/MSIE (\d+(?:\.\d+)+(?:b\d*)?)/)},{name:"Mozilla",browser:/Gecko|Mozilla/.test(d),version:d.match(/rv:(\d+(?:\.\d+)+)/)}];j<h.length;j++){if(h[j].browser){var n=h[j].identifier?h[j].identifier:h[j].name.toLowerCase();u[n]=true;u.browser=h[j].name;var w;if(h[j].version!=undefined&&(w=h[j].version)){u.version.string=w[1];u.version.number=parseFloat(w[1])}else{var v=new RegExp(h[j].name+"(?:\\s|\\/)(\\d+(?:\\.\\d+)+(?:(?:a|b)\\d*)?)");w=d.match(v);if(w!=undefined){u.version.string=w[1];u.version.number=parseFloat(w[1])}}if(/firefox|camino|flock|netscape/i.test(u.browser)){u.mozilla=true}break}}for(var j=0,f=navigator.platform,h=[{identifier:"win",name:"Windows",OS:/Win/.test(f)},{name:"Mac",OS:/Mac/.test(f)},{name:"Linux",OS:/Linux/.test(f)},{name:"iPhone",OS:/iPhone/.test(f)}];j<h.length;j++){if(h[j].OS){var n=h[j].identifier?h[j].identifier:h[j].name.toLowerCase();u[n]=true;u.OS=h[j].name;break}}var k={browser:u.browser,version:{number:function(){return !arguments.length?u.version.number:Math.floor(u.version.number)},string:function(){return !arguments.length?u.version.string:this.number("round").toString()}},OS:u.OS,aol:u.aol,camino:u.camino,firefox:u.firefox,flock:u.flock,icab:u.icab,konqueror:u.konqueror,mozilla:u.mozilla,msie:u.msie,netscape:u.netscape,opera:u.opera,safari:u.safari,iphone:u.iphone,linux:u.linux,mac:u.mac,win:u.win};jQuery.browser=k;if(!c){return}var e=jQuery.browser.browser.toLowerCase();var r=jQuery.browser.version.string("round");var q=jQuery.browser.msie?"ie ie"+jQuery.browser.version.string("round"):(jQuery.browser.mozilla)?"gecko "+e+r+" "+e:(jQuery.browser.opera)?"opera "+e+r:(jQuery.browser.safari)?"safari "+e+r:jQuery.browser.konqueror?"konqueror "+e+r:jQuery.browser.icab?"icab "+e+r:jQuery.browser.aol?"aol "+e+r:"",g=jQuery.browser.linux?"linux":jQuery.browser.iphone?"iphone":jQuery.browser.mac?"mac":jQuery.browser.win?"win":"";jQuery("html").addClass(q).addClass(g).addClass("js")}();jQuery.fn.editable=function(target,options,callback){if(this.length==0){return(this)}var settings={target:target,name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click",onblur:"cancel",loadtype:"GET"};if(options){jQuery.extend(settings,options)}var callback=callback||function(){};jQuery(this).attr("title",settings.tooltip);jQuery(this)[settings.event](function(e){var self=this;if(self.editing){return}var width=("auto"==settings.width)?jQuery(self).width():settings.width;var height=("auto"==settings.height)?jQuery(self).height():settings.height;self.editing=true;self.revert=jQuery(self).html();self.innerHTML="";var f=document.createElement("form");if(settings.cssclass){if("inherit"==settings.cssclass){jQuery(f).attr("class",jQuery(self).attr("class"))}else{jQuery(f).attr("class",settings.cssclass)}}if(settings.style){if("inherit"==settings.style){jQuery(f).attr("style",jQuery(self).attr("style"));jQuery(f).css("display",jQuery(self).css("display"))}else{jQuery(f).attr("style",settings.style)}}var i;switch(settings.type){case"textarea":i=document.createElement("textarea");if(settings.rows){i.rows=settings.rows}else{jQuery(i).height(height)}if(settings.cols){i.cols=settings.cols}else{jQuery(i).width(width)}break;case"select":i=document.createElement("select");break;default:i=document.createElement("input");i.type=settings.type;jQuery(i).width(width);jQuery(i).height(height);i.setAttribute("autocomplete","off")}if(settings.getload){settings.loadurl=settings.getload;settings.loadtype="GET"}else{if(settings.postload){settings.loadurl=settings.postload;settings.loadtype="POST"}}if(settings.loadurl){var data={};data[settings.id]=self.id;jQuery.ajax({type:settings.loadtype,url:settings.loadurl,data:data,success:function(str){setInputContent(str)}})}else{if(settings.data){setInputContent(settings.data)}else{setInputContent(self.revert)}}i.name=settings.name;f.appendChild(i);if(settings.submit){var b=document.createElement("input");b.type="submit";b.value=settings.submit;f.appendChild(b)}if(settings.cancel){var b=document.createElement("input");b.type="button";b.value=settings.cancel;jQuery(b).click(function(){reset()});f.appendChild(b)}self.appendChild(f);i.focus();if(settings.select){i.select()}jQuery(i).keydown(function(e){if(e.keyCode==27){e.preventDefault();reset()}});var t;if("cancel"==settings.onblur){jQuery(i).blur(function(e){t=setTimeout(reset,500)})}else{if("submit"==settings.onblur){jQuery(i).blur(function(e){jQuery(f).submit()})}else{jQuery(i).blur(function(e){})}}jQuery(f).submit(function(e){if(t){clearTimeout(t)}e.preventDefault();if(jQuery.isFunction(settings.target)){var str=settings.target.apply(self,[jQuery(i).val(),settings]);self.innerHTML=str;self.editing=false;callback.apply(self,[self.innerHTML,settings])}else{var p={};p[i.name]=jQuery(i).val();p[settings.id]=self.id;jQuery(self).html(settings.indicator);jQuery.post(settings.target,p,function(str){self.innerHTML=str;self.editing=false;callback.apply(self,[self.innerHTML,settings])})}return false});function reset(){self.innerHTML=self.revert;self.editing=false}function setInputContent(str){if(jQuery.isFunction(str)){var str=str.apply(self,[self.revert,settings])}switch(settings.type){case"select":if(String==str.constructor){eval("var json = "+str);for(var key in json){if("selected"==key){continue}o=document.createElement("option");o.value=key;var text=document.createTextNode(json[key]);o.appendChild(text);if(key==json.selected){o.selected=true}i.appendChild(o)}}break;default:i.value=str;break}}});return(this)};(function($){var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s={array:function(x){var a=["["],b,f,i,l=x.length,v;for(i=0;i<l;i+=1){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}}a[a.length]="]";return a.join("")},"boolean":function(x){return String(x)},"null":function(x){return"null"},number:function(x){return isFinite(x)?String(x):"null"},object:function(x){if(x){if(x instanceof Array){return s.array(x)}var a=["{"],b,f,i,v;for(i in x){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}}a[a.length]="}";return a.join("")}return"null"},string:function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+x+'"'}};$.toJSON=function(v){var f=isNaN(v)?s[typeof v]:s.number;if(f){return f(v)}};$.parseJSON=function(v,safe){if(safe===undefined){safe=$.parseJSON.safe}if(safe&&!/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)){return undefined}return eval("("+v+")")};$.parseJSON.safe=false})(jQuery);(function(e){e.fn.media=function(q,n,r){return this.each(function(){if(typeof q=="function"){r=n;n=q;q={}}var C=j(this,q);if(typeof n=="function"){n(this,C)}var B=m();var u=B.exec(C.src)||[""];C.type?u[0]=C.type:u.shift();for(var A=0;A<u.length;A++){fn=u[A].toLowerCase();if(g(fn[0])){fn="fn"+fn}if(!e.fn.media[fn]){continue}var z=e.fn.media[fn+"_player"];if(!C.params){C.params={}}if(z){var w=z.autoplayAttr=="autostart";C.params[z.autoplayAttr||"autoplay"]=w?(C.autoplay?1:0):C.autoplay?true:false}var v=e.fn.media[fn](this,C);v.css("backgroundColor",C.bgColor).width(C.width);if(typeof r=="function"){r(this,v[0],C)}break}})};e.fn.mediabox=function(n,q){return this.click(function(){if(typeof e.blockUI=="undefined"||typeof e.fn.displayBox=="undefined"){if(typeof e.fn.mediabox.warning!="undefined"){return this}e.fn.mediabox.warning=1;alert("The mediabox method requires blockUI v1.20 or later.");return false}var v,w=0,u=e(this).clone();u.appendTo("body").hide().css({margin:0});n=e.extend({},n,{autoplay:1});u.media(n,function(){},function(B,A,z){w=A;v=z});if(!w){return false}var r=e.browser.safari?e(w).hide():e(w).remove();if(v.loadingImage){r.css({backgroundImage:"url("+v.loadingImage+")",backgroundPosition:"center center",backgroundRepeat:"no-repeat"})}if(v.boxTitle){r.prepend('<div style="margin:0;padding:0">'+v.boxTitle+"</div>")}if(q){r.css(q)}r.displayBox({width:v.width,height:v.height},function(z){e(z).find("object,embed").each(function(){try{this.Stop()}catch(A){}try{this.DoStop()}catch(A){}try{this.controls.stop()}catch(A){}})});return false})};e.fn.media.mapFormat=function(q,n){if(!q||!n||!e.fn.media.defaults.players[n]){return}q=q.toLowerCase();if(g(q[0])){q="fn"+q}e.fn.media[q]=e.fn.media[n]};e.fn.media.defaults={width:400,height:400,preferMeta:1,autoplay:0,bgColor:"#ffffff",params:{},attrs:{},flashvars:{},flashVersion:"7",boxTitle:null,loadingImage:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}};e.fn.media.defaults.players={flash:{types:"flv,mp3,swf",oAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+e.fn.media.defaults.flashVersion},eAttrs:{type:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer"}},quicktime:{types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",oAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"},eAttrs:{pluginspage:"http://www.apple.com/quicktime/download/"}},realplayer:{types:"ra,ram,rm,rpm,rv,smi,smil",autoplayAttr:"autostart",oAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"},eAttrs:{type:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/"}},winmedia:{types:"asf,avi,wma,wmv",autoplayAttr:"autostart",oUrl:"url",oAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"},eAttrs:{type:"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/"}},iframe:{types:"html,pdf"},silverlight:{types:"xaml"}};var c=1;for(var k in e.fn.media.defaults.players){var f=e.fn.media.defaults.players[k].types;e.each(f.split(","),function(n,q){if(g(q[0])){q="fn"+q}e.fn.media[q]=e.fn.media[k]=d(k);e.fn.media[q+"_player"]=e.fn.media.defaults.players[k]})}function m(){var q="";for(var n in e.fn.media.defaults.players){if(q.length){q+=","}q+=e.fn.media.defaults.players[n].types}return new RegExp("\\.("+q.replace(/,/g,"|")+")\\b")}function d(n){return function(r,q){return h(r,q,n)}}function g(n){return"0123456789".indexOf(n)>-1}function j(r,F){F=F||{};var E=e(r);var D=r.className||"";var C=e.meta?E.data():{};var B=C.width||parseInt(((D.match(/w:(\d+)/)||[])[1]||0));var u=C.height||parseInt(((D.match(/h:(\d+)/)||[])[1]||0));if(B){C.width=B}if(u){C.height=u}if(D){C.cls=D}var A=e.fn.media.defaults;var z=e.meta&&e.fn.media.defaults.preferMeta?F:C;var v=z==F?C:F;var q={params:{bgColor:F.bgColor||e.fn.media.defaults.bgColor}};var n=e.extend({},A,z,v);e.each(["attrs","params","flashvars","silverlight"],function(w,G){n[G]=e.extend({},q[G]||{},A[G]||{},z[G]||{},v[G]||{})});if(typeof n.caption=="undefined"){n.caption=E.text()}n.src=n.src||E.attr("href")||E.attr("src")||"unknown";return n}e.fn.media.swf=function(v,n){if(typeof SWFObject=="undefined"){if(n.flashvars){var A=[];for(var w in n.flashvars){A.push(w+"="+n.flashvars[w])}if(!n.params){n.params={}}n.params.flashvars=A.join("&")}return h(v,n,"flash")}var r=v.id?(' id="'+v.id+'"'):"";var B=n.cls?(' class="'+n.cls+'"'):"";var z=e("<div"+r+B+">");e(v).after(z).remove();var u=new SWFObject(n.src,"movie_player_"+c++,n.width,n.height,n.flashVersion,n.bgColor);for(var q in n.params){if(q!="bgColor"){u.addParam(q,n.params[q])}}for(var w in n.flashvars){u.addVariable(w,n.flashvars[w])}u.write(z[0]);if(n.caption){e("<div>").appendTo(z).html(n.caption)}return z};e.fn.media.flv=e.fn.media.mp3=function(q,r){var u=r.src;var n=/\.mp3\b/i.test(u)?e.fn.media.defaults.mp3Player:e.fn.media.defaults.flvPlayer;r.src=n;r.src=r.src+"?file="+u;r.flashvars=e.extend({},{file:u},r.flashvars);return e.fn.media.swf(q,r)};e.fn.media.xaml=function(z,A){if(!window.Sys||!window.Sys.Silverlight){if(e.fn.media.xaml.warning){return}e.fn.media.xaml.warning=1;alert("You must include the Silverlight.js script.");return}var w={width:A.width,height:A.height,background:A.bgColor,inplaceInstallPrompt:A.silverlight.inplaceInstallPrompt,isWindowless:A.silverlight.isWindowless,framerate:A.silverlight.framerate,version:A.silverlight.version};var u={onError:A.silverlight.onError,onLoad:A.silverlight.onLoad};var v=z.id?(' id="'+z.id+'"'):"";var r=A.id||"AG"+c++;var q=A.cls?(' class="'+A.cls+'"'):"";var n=e("<div"+v+q+">");e(z).after(n).remove();Sys.Silverlight.createObjectEx({source:A.src,initParams:A.silverlight.initParams,userContext:A.silverlight.userContext,id:r,parentElement:n[0],properties:w,events:u});if(A.caption){e("<div>").appendTo(n).html(A.caption)}return n};function h(v,n,B){var E=e(v);var u=e.fn.media.defaults.players[B];if(B=="iframe"){var u=e('<iframe width="'+n.width+'" height="'+n.height+'" >');u.attr("src",n.src);u.css("backgroundColor",u.bgColor)}else{if(e.browser.msie){var A=['<object width="'+n.width+'" height="'+n.height+'" '];for(var C in n.attrs){A.push(C+'="'+n.attrs[C]+'" ')}for(var C in u.oAttrs||{}){A.push(C+'="'+u.oAttrs[C]+'" ')}A.push("></object>");var r=['<param name="'+(u.oUrl||"src")+'" value="'+n.src+'">'];for(var C in n.params){r.push('<param name="'+C+'" value="'+n.params[C]+'">')}var u=document.createElement(A.join(""));for(var w=0;w<r.length;w++){u.appendChild(document.createElement(r[w]))}}else{var A=['<embed width="'+n.width+'" height="'+n.height+'" style="display:block"'];if(n.src){A.push(' src="'+n.src+'" ')}for(var C in n.attrs){A.push(C+'="'+n.attrs[C]+'" ')}for(var C in u.eAttrs||{}){A.push(C+'="'+u.eAttrs[C]+'" ')}for(var C in n.params){A.push(C+'="'+n.params[C]+'" ')}A.push("></embed>")}}var q=v.id?(' id="'+v.id+'"'):"";var D=n.cls?(' class="'+n.cls+'"'):"";var z=e("<div"+q+D+">");E.after(z).remove();(e.browser.msie||B=="iframe")?z.append(u):z.html(A.join(""));if(n.caption){e("<div>").appendTo(z).html(n.caption)}return z}})(jQuery);(function(d){d.extend({tabs:{remoteCount:0}});d.fn.tabs=function(f,g){if(typeof f=="object"){g=f}g=d.extend({initial:(f&&typeof f=="number"&&f>0)?--f:0,disabled:null,bookmarkable:d.ajaxHistory?true:false,remote:false,spinner:"Loading&#8230;",hashPrefix:"remote-tab-",fxFade:null,fxSlide:null,fxShow:null,fxHide:null,fxSpeed:"normal",fxShowSpeed:null,fxHideSpeed:null,fxAutoHeight:false,onClick:null,onHide:null,onShow:null,navClass:"tabs-nav",selectedClass:"tabs-selected",disabledClass:"tabs-disabled",containerClass:"tabs-container",hideClass:"tabs-hide",loadingClass:"tabs-loading",tabStruct:"div"},g||{});d.browser.msie6=d.browser.msie6||d.browser.msie&&typeof XMLHttpRequest=="function";function h(){scrollTo(0,0)}return this.each(function(){var A=this;var w=d("ul."+g.navClass,A);w=w.size()&&w||d(">ul:eq(0)",A);var J=d("a",w);if(g.remote){J.each(function(){var L=g.hashPrefix+(++d.tabs.remoteCount),K="#"+L,k=this.href;this.href=K;d('<div id="'+L+'" class="'+g.containerClass+'"></div>').appendTo(A);d(this).bind("loadRemoteTab",function(P,Q){var M=d(this).addClass(g.loadingClass),N=d("span",this)[0],O=N.innerHTML;if(g.spinner){N.innerHTML="<em>"+g.spinner+"</em>"}setTimeout(function(){d(K).load(k,function(){if(g.spinner){N.innerHTML=O}M.removeClass(g.loadingClass);Q&&Q()})},0)})})}var C=d("div."+g.containerClass,A);C=C.size()&&C||d(">"+g.tabStruct,A);w.is("."+g.navClass)||w.addClass(g.navClass);C.each(function(){var k=d(this);k.is("."+g.containerClass)||k.addClass(g.containerClass)});var u=d("li",w).index(d("li."+g.selectedClass,w)[0]);if(u>=0){g.initial=u}if(location.hash){J.each(function(K){if(this.hash==location.hash){g.initial=K;if((d.browser.msie||d.browser.opera)&&!g.remote){var k=d(location.hash);var L=k.attr("id");k.attr("id","");setTimeout(function(){k.attr("id",L)},500)}h();return false}})}if(d.browser.msie){h()}C.filter(":eq("+g.initial+")").show().end().not(":eq("+g.initial+")").addClass(g.hideClass);d("li",w).removeClass(g.selectedClass).eq(g.initial).addClass(g.selectedClass);J.eq(g.initial).trigger("loadRemoteTab").end();if(g.fxAutoHeight){var I=function(k){var K=d.map(C.get(),function(M){var L,N=d(M);if(k){if(d.browser.msie6){M.style.removeExpression("behaviour");M.style.height="";M.minHeight=null}L=N.css({"min-height":""}).height()}else{L=N.height()}return L}).sort(function(M,L){return L-M});if(d.browser.msie6){C.each(function(){this.minHeight=K[0]+"px";this.style.setExpression("behaviour",'this.style.height = this.minHeight ? this.minHeight : "1px"')})}else{C.css({"min-height":K[0]+"px"})}};I();var z=A.offsetWidth;var H=A.offsetHeight;var n=d("#tabs-watch-font-size").get(0)||d('<span id="tabs-watch-font-size">M</span>').css({display:"block",position:"absolute",visibility:"hidden"}).appendTo(document.body).get(0);var B=n.offsetHeight;setInterval(function(){var K=A.offsetWidth;var L=A.offsetHeight;var k=n.offsetHeight;if(L>H||K!=z||k!=B){I((K>z||k<B));z=K;H=L;B=k}},50)}var q={},D={},m=g.fxShowSpeed||g.fxSpeed,v=g.fxHideSpeed||g.fxSpeed;if(g.fxSlide||g.fxFade){if(g.fxSlide){q.height="show";D.height="hide"}if(g.fxFade){q.opacity="show";D.opacity="hide"}}else{if(g.fxShow){q=g.fxShow}else{q["min-width"]=0;m=g.bookmarkable?50:1}if(g.fxHide){D=g.fxHide}else{D["min-width"]=0;v=g.bookmarkable?50:1}}var r=g.onClick,j=g.onHide,E=g.onShow;J.bind("triggerTab",function(){var k=d(this).parents("li:eq(0)");if(A.locked||k.is("."+g.selectedClass)||k.is("."+g.disabledClass)){return false}var L=this.hash;if(d.browser.msie){d(this).trigger("click");if(g.bookmarkable){d.ajaxHistory.update(L);location.hash=L.replace("#","")}}else{if(d.browser.safari){var K=d('<form action="'+L+'"><div><input type="submit" value="h" /></div></form>').get(0);K.submit();d(this).trigger("click");if(g.bookmarkable){d.ajaxHistory.update(L)}}else{if(g.bookmarkable){location.hash=L.replace("#","")}else{d(this).trigger("click")}}}});J.bind("disableTab",function(){var k=d(this).parents("li:eq(0)");if(d.browser.safari){k.animate({opacity:0},1,function(){k.css({opacity:""})})}k.addClass(g.disabledClass)});if(g.disabled&&g.disabled.length){for(var G=0,F=g.disabled.length;G<F;G++){J.eq(--g.disabled[G]).trigger("disableTab").end()}}J.bind("enableTab",function(){var k=d(this).parents("li:eq(0)");k.removeClass(g.disabledClass);if(d.browser.safari){k.animate({opacity:1},1,function(){k.css({opacity:""})})}});J.bind("click",function(M){var R=M.clientX;var N=this,S=d(this).parents("li:eq(0)"),K=d(this.hash),O=C.filter(":visible");if(A.locked||S.is("."+g.selectedClass)||S.is("."+g.disabledClass)||typeof r=="function"&&r(this,K[0],O[0])===false){this.blur();return false}A.locked=true;if(K.size()){if(d.browser.msie&&g.bookmarkable){var k=this.hash.replace("#","");K.attr("id","");setTimeout(function(){K.attr("id",k)},0)}function L(){if(g.bookmarkable&&R){d.ajaxHistory.update(N.hash)}O.animate(D,v,function(){d(N).parents("li:eq(0)").addClass(g.selectedClass).siblings().removeClass(g.selectedClass);if(typeof j=="function"){j(N,K[0],O[0])}var T={display:"",overflow:"",height:""};if(!d.browser.msie){T.opacity=""}O.addClass(g.hideClass).css(T);K.removeClass(g.hideClass).animate(q,m,function(){K.css(T);if(d.browser.msie){O[0].style.filter="";K[0].style.filter=""}if(typeof E=="function"){E(N,K[0],O[0])}A.locked=null})})}if(!g.remote){L()}else{d(N).trigger("loadRemoteTab",[L])}}else{alert("There is no such container.")}var Q=window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft||0;var P=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;setTimeout(function(){window.scrollTo(Q,P)},0);this.blur();return g.bookmarkable&&!!R});if(g.bookmarkable){d.ajaxHistory.initialize(function(){J.eq(g.initial).trigger("click").end()})}})};var e=["triggerTab","disableTab","enableTab"];for(var c=0;c<e.length;c++){d.fn[e[c]]=(function(f){return function(g){return this.each(function(){var j=d("ul.tabs-nav",this);j=j.size()&&j||d(">ul:eq(0)",this);var h;if(!g||typeof g=="number"){h=d("li a",j).eq((g&&g>0&&g-1||0))}else{if(typeof g=="string"){h=d('li a[@href$="#'+g+'"]',j)}}h.trigger(f)})}})(e[c])}d.fn.activeTab=function(){var f=[];this.each(function(){var h=d("ul.tabs-nav",this);h=h.size()&&h||d(">ul:eq(0)",this);var g=d("li",h);f.push(g.index(g.filter(".tabs-selected")[0])+1)});return f[0]}})(jQuery);var Class=function(d){var c=function(){for(var e in this){if(this[e]){this[e]._proto_=this}}if(arguments[0]!="noinit"&&this.initialize){return this.initialize.apply(this,arguments)}};c.extend=this.extend;c.implement=this.implement;c.prototype=d;return c};Class.empty=function(){};Class.create=function(c){return new Class(c)};Class.prototype={extend:function(d){var c=new this("noinit");for(var f in d){var e=c[f];var g=d[f];if(e&&e!=g){g=e.parentize(g)||g}c[f]=g}return new Class(c)},implement:function(c){for(var d in c){this.prototype[d]=c[d]}}};Object.Native=function(){for(var c=0;c<arguments.length;c++){arguments[c].extend=Class.prototype.implement}};new Object.Native(Function,Array,String,Number);Function.extend({parentize:function(d){var c=this;return function(){this.parent=c;return d.apply(this,arguments)}}});if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(v,e,z,g,n,r,k,j,f,u){if(!document.getElementById){return}this.DETECT_KEY=u?u:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(v){this.setAttribute("swf",v)}if(e){this.setAttribute("id",e)}if(z){this.setAttribute("width",z)}if(g){this.setAttribute("height",g)}if(n){this.setAttribute("version",new deconcept.PlayerVersion(n.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(r){this.addParam("bgcolor",r)}var d=k?k:"high";this.addParam("quality",d);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var m=(j)?j:window.location;this.setAttribute("xiRedirectUrl",m);this.setAttribute("redirectUrl","");if(f){this.setAttribute("redirectUrl",f)}};deconcept.SWFObject.prototype={useExpressInstall:function(c){this.xiSWFPath=!c?"expressinstall.swf":c;this.setAttribute("useExpressInstall",true)},setAttribute:function(c,d){this.attributes[c]=d},getAttribute:function(c){return this.attributes[c]},addParam:function(d,c){this.params[d]=c},getParams:function(){return this.params},addVariable:function(d,c){this.variables[d]=c},getVariable:function(c){return this.variables[c]},getVariables:function(){return this.variables},getVariablePairs:function(){var e=new Array();var d;var c=this.getVariables();for(d in c){e[e.length]=d+"="+c[d]}return e},getSWFHTML:function(){var d="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}d='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';d+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var h=this.getParams();for(var g in h){d+=[g]+'="'+h[g]+'" '}var f=this.getVariablePairs().join("&");if(f.length>0){d+='flashvars="'+f+'"'}d+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}d='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';d+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var e=this.getParams();for(var g in e){d+='<param name="'+g+'" value="'+e[g]+'" />'}var c=this.getVariablePairs().join("&");if(c.length>0){d+='<param name="flashvars" value="'+c+'" />'}d+="</object>"}return d},write:function(d){if(this.getAttribute("useExpressInstall")){var c=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(c)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var e=(typeof d=="string")?document.getElementById(d):d;e.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var h=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var c=navigator.plugins["Shockwave Flash"];if(c&&c.description){h=new deconcept.PlayerVersion(c.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var d=1;var f=3;while(d){try{f++;d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+f);h=new deconcept.PlayerVersion([f,0,0])}catch(g){d=null}}}else{try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(g){try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");h=new deconcept.PlayerVersion([6,0,21]);d.AllowScriptAccess="always"}catch(g){if(h.major==6){return h}}try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(g){}}if(d!=null){h=new deconcept.PlayerVersion(d.GetVariable("$version").split(" ")[1].split(","))}}}return h};deconcept.PlayerVersion=function(c){this.major=c[0]!=null?parseInt(c[0]):0;this.minor=c[1]!=null?parseInt(c[1]):0;this.rev=c[2]!=null?parseInt(c[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(c){if(this.major<c.major){return false}if(this.major>c.major){return true}if(this.minor<c.minor){return false}if(this.minor>c.minor){return true}if(this.rev<c.rev){return false}return true};deconcept.util={getRequestParameter:function(e){var f=document.location.search||document.location.hash;if(e==null){return f}if(f){var d=f.substring(1).split("&");for(var c=0;c<d.length;c++){if(d[c].substring(0,d[c].indexOf("="))==e){return d[c].substring((d[c].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var d=document.getElementsByTagName("OBJECT");for(var e=d.length-1;e>=0;e--){d[e].style.display="none";for(var c in d[e]){if(typeof d[e][c]=="function"){d[e][c]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(c){return document.all[c]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;$=null;Function.prototype.extendNativeFunctionObject=jQuery.extend;jQuery.getOne=function(e,d){var c;if(typeof e=="object"){c=e}else{if(typeof e=="string"){if(e.search(/^[#.]/)==-1){e="#"+e}if(d==null){c=jQuery(e)}else{c=jQuery(e,d)}if(c.length>0){c=c.get(0)}else{c=null}}}return c};jQuery.fn.getOne=function(c){return jQuery.getOne(c,this)};jQuery.ajaxOld=jQuery.ajax;jQuery.ajax=function(c){c.url=Liferay.Util.getURLWithSessionId(c.url);return jQuery.ajaxOld(c)};Liferay=function(){var c=jQuery;return{}}();Liferay.Service={actionUrl:themeDisplay.getPathMain()+"/portal/json_service",tunnelUrl:themeDisplay.getPathContext()+"/tunnel-web/secure/json",classNameSuffix:"ServiceJSON",ajax:function(params,callback){var instance=this;var serviceUrl=instance.actionUrl;if(Liferay.ServiceAuth.header){serviceUrl=instance.tunnelUrl}params.serviceParameters=Liferay.Service.getParameters(params);if(callback){jQuery.ajax({type:"GET",url:serviceUrl,data:params,dataType:"json",beforeSend:function(xHR){if(Liferay.ServiceAuth.header){xHR.setRequestHeader("Authorization",Liferay.ServiceAuth.header)}},success:callback})}else{var xHR=jQuery.ajax({url:serviceUrl,data:params,dataType:"json",async:false});return eval("("+xHR.responseText+")")}},getParameters:function(e){var d="";for(var c in e){if((c!="serviceClassName")&&(c!="serviceMethodName")){d+=c+","}}if(Liferay.Util.endsWith(d,",")){d=d.substring(0,d.length-1)}return d}};Liferay.ServiceAuth={header:null,setHeader:function(e,d){var c=this;c.header="Basic "+Liferay.Base64.encode(e+":"+d)}};Liferay.Base64={encode:function(e){var g=this;var c="";var q,m,j,n,k,h,f;var d=0;e=g._utf8Encode(e);while(d<e.length){q=e.charCodeAt(d++);m=e.charCodeAt(d++);j=e.charCodeAt(d++);n=q>>2;k=((q&3)<<4)|(m>>4);h=((m&15)<<2)|(j>>6);f=j&63;if(isNaN(m)){h=f=64}else{if(isNaN(j)){f=64}}c=c+this._keyStr.charAt(n)+this._keyStr.charAt(k)+this._keyStr.charAt(h)+this._keyStr.charAt(f)}return c},decode:function(e){var g=this;var c="";var q,m,j;var n,k,h,f;var d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<e.length){n=this._keyStr.indexOf(e.charAt(d++));k=this._keyStr.indexOf(e.charAt(d++));h=this._keyStr.indexOf(e.charAt(d++));f=this._keyStr.indexOf(e.charAt(d++));q=(n<<2)|(k>>4);m=((k&15)<<4)|(h>>2);j=((h&3)<<6)|f;c=c+String.fromCharCode(q);if(h!=64){c=c+String.fromCharCode(m)}if(f!=64){c=c+String.fromCharCode(j)}}c=g._utf8Decode(c);return c},_utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");var d="";for(var g=0;g<e.length;g++){var f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f)}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128)}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128)}}}return d},_utf8Decode:function(d){var e="";var f=0;var g=c1=c2=0;while(f<d.length){g=d.charCodeAt(f);if(g<128){e+=String.fromCharCode(g);f++}else{if((g>191)&&(g<224)){c2=d.charCodeAt(f+1);e+=String.fromCharCode(((g&31)<<6)|(c2&63));f+=2}else{c2=d.charCodeAt(f+1);c3=d.charCodeAt(f+2);e+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));f+=3}}}return e},_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};jQuery.fn.exactHeight=jQuery.fn.height;jQuery.fn.exactWidth=jQuery.fn.width;jQuery.each(["height","width"],function(c,d){jQuery.fn[d]=function(e){return e==undefined?(this.length?(d=="height"?this[0].offsetHeight:this[0].offsetWidth):null):this.css(d,e.constructor==String?e:e+"px")}});Liferay.Browser={init:function(){var d=this;var e=d.version();var c=d.version(true);d._browserVars={agent:"",is_ie:false,is_ie_4:false,is_ie_5:false,is_ie_5_5:false,is_ie_5_up:false,is_ie_6:false,is_ie_7:false,is_mozilla:false,is_mozilla_1_3_up:false,is_ns_4:false,is_rtf:false,is_safari:false,is_opera:false};d._browserVars.agent=d.browser().toLowerCase();d._browserVars.is_ie=jQuery.browser.msie;d._browserVars.is_ie_4=(d.is_ie&&e==4);d._browserVars.is_ie_5=(d.is_ie&&e==5);d._browserVars.is_ie_5_5=(d.is_ie&&c==5.5);d._browserVars.is_ie_5_up=(d.is_ie&&e>=5);d._browserVars.is_ie_6=(d.is_ie&&e==6);d._browserVars.is_ie_7=(d.is_ie&&e==7);d._browserVars.is_mozilla=(jQuery.browser.mozilla);d._browserVars.is_mozilla_1_3_up=(d.is_mozilla&&c>1.3);d._browserVars.is_ns_4=(jQuery.browser.netscape&&e==4);d._browserVars.is_rtf=(d.is_ie_5_5_up||d.is_mozilla_1_3_up);d._browserVars.is_safari=jQuery.browser.safari;d._browserVars.is_opera=jQuery.browser.opera;jQuery.extend(d,d._browserVars)},browser:function(){var c=this;return jQuery.browser.browser},compat:function(){var c=this;for(var d in c._browserVars){if(!window[d]){window[d]=c._browserVars[d]}}},version:function(d){var c=this;if(!d){return jQuery.browser.version.string(true)}else{return jQuery.browser.version.string()}},_browserVars:{}};jQuery(function(){Liferay.Browser.init()});Liferay.Util={submitCountdown:0,actsAsAspect:function(object){object.yield=null;object.rv={};object.before=function(method,f){var original=eval("this."+method);this[method]=function(){f.apply(this,arguments);return original.apply(this,arguments)}};object.after=function(method,f){var original=eval("this."+method);this[method]=function(){this.rv[method]=original.apply(this,arguments);return f.apply(this,arguments)}};object.around=function(method,f){var original=eval("this."+method);this[method]=function(){this.yield=original;return f.apply(this,arguments)}}},addInputFocus:function(d){var e=null;if(d){if(typeof d=="object"){e=jQuery(d)}else{e=jQuery("#"+d)}}else{e=document.body}var c=jQuery("input[@type=text], input[@type=password], textarea",e);c.focus(function(){jQuery(this).addClass("focus");if(this.createTextRange){var g=this.value;var f=this.createTextRange();f.moveStart("character",g.length);f.select()}});c.blur(function(){jQuery(this).removeClass("focus")})},addInputType:function(c){var d;if(jQuery.browser.msie&&jQuery.browser.version.number()<7){if(c){if(typeof c=="object"){d=jQuery(c)}else{d=jQuery("#"+c)}}else{d=document.body}jQuery("input",d).each(function(){var f=jQuery(this);var e=this.type||"text";f.addClass(e)})}},addParams:function(j,e){var d=this;if(typeof j=="object"){j=jQuery.param(j)}else{j=jQuery.trim(j)}if(j!=""){var h=e||location.href;var f,c;if(h.indexOf("#")>-1){var g=h.split("#");h=g[0];f=g[1]}if(h.indexOf("?")==-1){j="?"+j}else{j="&"+j}if(h.indexOf(j)==-1){c=h+j;if(f){c+="#"+f}if(!e){location.href=c}return c}}},check:function(e,c,d){jQuery("input[@name="+c+"]:checkbox",e).attr("checked",d)},checkAll:function(f,e,c){var d;if(Liferay.Util.isArray(e)){var g="input[@name="+e.join("]:checkbox,input[@name=")+"]:checkbox";d=jQuery(g,f)}else{d=jQuery("input[@name="+e+"]:checkbox",f)}d.attr("checked",c.checked)},checkAllBox:function(f,e,c){var j=0;var h=0;var d;if(Liferay.Util.isArray(e)){var g="input[@name="+e.join("]:checkbox,input[@name=")+"]:checkbox";d=jQuery(g,f)}else{d=jQuery("input[@name="+e+"]:checkbox",f)}d=d.not(c);j=d.length;h=d.filter(":checked").length;c.checked=(j==h)},checkMaxLength:function(d,c){if((d.value.length)>=c){d.value=d.value.substring(0,c-1)}},checkTab:function(c){if((document.all)&&(event.keyCode==9)){c.selection=document.selection.createRange();setTimeout('Liferay.Util.processTab("'+c.id+'")',0)}},disableEsc:function(){if((document.all)&&(event.keyCode==27)){event.returnValue=false}},endsWith:function(d,c){return(d.lastIndexOf(c)===(d.length-c.length))},evalScripts:function(d){var c=this;jQuery(d).find("script").each(function(){if(this.src){jQuery.getScript(this.src)}else{jQuery.globalEval(this.text||this.textContent||this.innerHTML||"")}})},focusFormField:function(c){var d=false;jQuery(document).one("click",function(){d=true});jQuery(function(){if(c&&(c.offsetHeight!=0)&&!d){var e=jQuery(c);jQuery("input").trigger("blur");e.trigger("focus")}})},getSelectedIndex:function(c){for(var d=0;d<c.length;d++){if(c[d].checked==true){return d}}return -1},getSelectedRadioValue:function(d){var e=Liferay.Util.getSelectedIndex(d);if(e==-1){var c=d.value;if(c==null){c=""}return c}else{return d[e].value}},getURLWithSessionId:function(d){if(propsUtil.SESSION_ENABLE_PERSISTENT_COOKIES){return d}var c=d.indexOf(";");if(c!=-1){return d}c=d.indexOf("?");if(c!=-1){return d.substring(0,c)+";jsessionid="+themeDisplay.getSessionId()+d.substring(c)}c=d.indexOf("//");if(c!=-1){var e=d.lastIndexOf("/");if(c+1==e){return d+"/;jsessionid="+themeDisplay.getSessionId()}}return d+";jsessionid="+themeDisplay.getSessionId()},inlineEditor:function(m){var j=this;if(m.url&&m.button){var c=m.url;var f=m.button;var e=m.width||680;var k=m.height||640;var h=m.textarea;var g=false;var d=jQuery(f);d.click(function(u){if(!g){var q=Liferay.Popup({height:640,width:680,noCenter:true,title:"",onClose:function(){jQuery(document).unbind("popupResize");g=false}});var r=jQuery(q);var n='<div class="portlet-resize-handle"></div>';jQuery.ajax({url:c+"&rt="+Liferay.Util.randomInt(),success:function(z){r.find(".loading-animation").remove();r.append(z);r.after(n);var w=r.find("form");w.css({height:340,width:680});if(h){var v=r.find(".lfr-textarea").length;Liferay.Util.resizeTextarea(h,!v,true)}var B=jQuery(".portlet-resize-handle")[0];var A=r.parents(".popup:first");A.lResize({direction:"horizontal",handle:B,mode:"add",onMove:function(C){w.css({height:C.browserEvent.clientY-130,width:C.browserEvent.clientX-30});jQuery(document).trigger("popupResize")}});A.lResize({handle:B,direction:"vertical",mode:"add"})}});g=true}})}},isArray:function(c){if(!window.Array){return false}else{return c.constructor==window.Array}},listChecked:function(e){var d=[];var c=jQuery("input[@value!=]:checked:checkbox",e);c.each(function(){d.push(this.value)});return d.join(",")},listCheckedExcept:function(f,e){var d=[];var c=jQuery('input[@value!=][@name!="'+e+'"]:checked:checkbox',f);c.each(function(){d.push(this.value)});return d.join(",")},listSelect:function(f,c){var d=[];c=c||",";if(f==null){return""}var e=jQuery(f).find("option[@value!=]");e.each(function(){d.push(this.value)});if(d[0]==".none"){return""}else{return d.join(",")}},listUncheckedExcept:function(f,e){var d=[];var c=jQuery('input[@value!=][@name!="'+e+'"]:checkbox:not(:checked)',f);c.each(function(){d.push(this.value)});return d.join(",")},moveItem:function(c,d,e){if(c.selectedIndex>=0){var g=jQuery(d);var f=jQuery(c).find("option:selected");g.append(f)}if(f.text()!=""&&e==true){Liferay.Util.sortBox(d)}},portletTitleEdit:function(g){var d=this;var j=g.obj;var e=g.plid;var c=g.doAsUserId;var h=g.portletId;var f=g.url;var k=j.find(".portlet-title");if(!k.is(".not-editable")){k.editable(function(q,n){var m=n._LFR_.cruft||[];m=m.join("");if(q!=n._LFR_.oldText){Liferay.Util.savePortletTitle({plid:e,doAsUserId:c,portletId:h,title:q})}j[0]._LFR_noDrag=null;return m+q},{cssclass:"text",data:function(u,r){var m=jQuery(this);var q=new RegExp("</?[^>]+>|\n|\r|\t","gim");var n=u.match(q);r._LFR_={};r._LFR_.oldText=u;r._LFR_.cruft=n;u=u.replace(q,"");r._LFR_.oldText=u;j[0]._LFR_noDrag=true;return u},height:"",width:"",onblur:"submit",type:"text",select:false,style:"",submit:""})}},processTab:function(c){document.all[c].selection.text=String.fromCharCode(9);document.all[c].focus()},randomInt:function(){return(Math.ceil(Math.random()*(new Date).getTime()))},randomMinMax:function(d,c){return(Math.round(Math.random()*(c-d)))+d},removeItem:function(c,d){var e=jQuery(c);if(!d){e.find("option:selected").remove()}else{e.find("option[@value="+d+"]:selected").remove()}},reorder:function(f,g){var d=f.selectedIndex;if(d==-1){f.selectedIndex=0}else{sText=f.options[d].text;sValue=f.options[d].value;if((f.options[d].value>"")&&(d>0)&&(g==0)){f.options[d].text=f.options[d-1].text;f.options[d].value=f.options[d-1].value;f.options[d-1].text=sText;f.options[d-1].value=sValue;f.selectedIndex--}else{if((d<f.length-1)&&(f.options[d+1].value>"")&&(g==1)){f.options[d].text=f.options[d+1].text;f.options[d].value=f.options[d+1].value;f.options[d+1].text=sText;f.options[d+1].value=sValue;f.selectedIndex++}else{if(d==0){for(var e=0;e<(f.length-1);e++){f.options[e].text=f.options[e+1].text;f.options[e].value=f.options[e+1].value}f.options[f.length-1].text=sText;f.options[f.length-1].value=sValue;f.selectedIndex=f.length-1}else{if(d==(f.length-1)){for(var c=(f.length-1);c>0;c--){f.options[c].text=f.options[c-1].text;f.options[c].value=f.options[c-1].value}f.options[0].text=sText;f.options[0].value=sValue;f.selectedIndex=0}}}}}},resizeTextarea:function(elString,usingRichEditor,resizeToInlinePopup){var init=function(){var el=jQuery("#"+elString);if(!el.length){el=jQuery("textarea[@name="+elString+"]")}if(el.length){var pageBody;if(resizeToInlinePopup){pageBody=el.parents(".popup:first")}else{pageBody=jQuery("body")}var resize=function(){var pageBodyHeight=pageBody.height();if(usingRichEditor){try{if(!el.is("iframe")){el=eval(elString);if(!el.jquery){el=jQuery(el)}}}catch(e){}}var diff=150;if(!resizeToInlinePopup){diff=100}el.css({height:(pageBodyHeight-diff)+"px",width:"98%"})};resize();if(resizeToInlinePopup){jQuery(document).bind("popupResize",resize)}else{jQuery(window).resize(resize)}}};jQuery(init)},resubmitCountdown:function(d){if(Liferay.Util.submitCountdown>0){Liferay.Util.submitCountdown--;setTimeout("Liferay.Util.resubmitCountdown('"+d+"')",1000)}else{Liferay.Util.submitCountdown=0;if(!Liferay.Browser.is_ns_4){document.body.style.cursor="auto"}var f=document.forms[d];for(var c=0;c<f.length;c++){var g=f.elements[c];if(g.type&&(g.type.toLowerCase()=="button"||g.type.toLowerCase()=="reset"||g.type.toLowerCase()=="submit")){g.disabled=false}}}},savePortletTitle:function(e){var d={plid:0,doAsUserId:0,portletId:0,title:"",url:themeDisplay.getPathMain()+"/portlet_configuration/update_title"};var c=jQuery.extend(d,e);jQuery.ajax({url:c.url,data:{p_l_id:c.plid,doAsUserId:c.doAsUserId,portletId:c.portletId,title:c.title}})},selectAndCopy:function(c){c.focus();c.select();if(document.all){var d=c.createTextRange();d.execCommand("copy")}},setBox:function(e,c){for(var d=e.length-1;d>-1;d--){e.options[d]=null}for(var d=0;d<c.length;d++){e.options[d]=new Option(c[d].value,d)}e.options[0].selected=true},setSelectedValue:function(c,d){jQuery("option[@value="+d+"]",c).attr("selected",true)},showCapsLock:function(e,d){var f=e.keyCode?e.keyCode:e.which;var c=e.shiftKey?e.shiftKey:((f==16)?true:false);if(((f>=65&&f<=90)&&!c)||((f>=97&&f<=122)&&c)){document.getElementById(d).style.display=""}else{document.getElementById(d).style.display="none"}},sortBox:function(f){var c=[];for(var d=0;d<f.length;d++){c[d]=[f[d].value,f[d].text]}c.sort(Liferay.Util.sortByAscending);var e=jQuery(f);e.find("option").remove();jQuery.each(c,function(g,h){e.append('<option value="'+h[0]+'">'+h[1]+"</option>")})},sortByAscending:function(d,c){if(d[1].toLowerCase()>c[1].toLowerCase()){return 1}else{if(d[1].toLowerCase()<c[1].toLowerCase()){return -1}else{return 0}}},startsWith:function(d,c){return(d.indexOf(c)===0)},switchEditor:function(h){var c=this;if(h.url&&h.popup){var g=h.url;var f=h.popup;var e=h.textarea;if(!f.jquery){f=jQuery(f)}var d=f.find(".popup-message");jQuery.ajax({url:g,beforeSend:function(){d.empty();d.append('<div class="loading-animation"><div>')},success:function(k){d.empty();d.append(k);if(e){var j=f.find(".lfr-textarea").length;Liferay.Util.resizeTextarea(e,!j,true)}}})}},toggleByIdSpan:function(d,e){jQuery("#"+e).toggle();var c=jQuery(d).find("span");c.toggle()},toggle:function(g,e,c){if(typeof g=="string"){g="#"+g}var d=jQuery(g);var f=d.toggle().is(":visible");if(c){d.css("display",c);f=d.is(":visible")}if(e){return f}},toggleBoxes:function(e,d){var c=jQuery("#"+e);var f=jQuery("#"+d);if(!c.is(":checked")){f.hide()}c.click(function(){f.toggle()})},toJSONObject:function(c){return jQuery.parseJSON(c)},toJSONString:function(e){var d=e;var c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};if(/["\\\x00-\x1f]/.test(e)){d=e.replace(/([\x00-\x1f\\"])/g,function(g,f){var h=c[f];if(h){return h}h=f.charCodeAt();return"\\u00"+Math.floor(h/16).toString(16)+(h%16).toString(16)})}return d}};LRElement={};LRElement.disable=function(e){e=jQuery.getOne(e);var c=e.getElementsByTagName("*");for(var d=0;d<c.length;d++){var f=c[d];var g=f.nodeName.toLowerCase();f.onclick=function(){};f.onmouseover=function(){};f.onmouseout=function(){};if(Liferay.Browser.is_ie){f.onmouseenter=function(){};f.onmouseleave=function(){}}if(g=="a"){f.href="javascript: void(0)"}else{if(g=="input"||g=="select"||g=="script"){f.disabled="true"}else{if(g=="form"){f.action="";f.onsubmit=function(){return false}}}}f.style.cursor="default"}};LRElement.remove=function(d){var c=jQuery.getOne(d);c.parentNode.removeChild(c)};function LinkedList(){this.head=null;this.tail=null}LinkedList.prototype.add=function(e){e.listInfo={};var c=this.tail;var d=this.head;if(this.head==null){this.head=e;this.tail=e}else{this.tail.listInfo.next=e;e.listInfo.prev=this.tail;this.tail=e}e.listInfo.listObj=this};LinkedList.prototype.remove=function(e){if(e.listInfo.listObj==this&&this.head){var c=e.listInfo.next;var d=e.listInfo.prev;if(c){c.listInfo.prev=d}if(d){d.listInfo.next=c}if(this.head==e){this.head=c}if(this.tail==e){this.tail=d}}};LinkedList.prototype.each=function(e){var f=this.head;var d=0;while(f){d++;var c=f.listInfo.next;if(e){e(f)}f=c}return d};LinkedList.prototype.size=function(){return this.each()};function submitForm(e,f,d){if(Liferay.Util.submitCountdown==0){Liferay.Util.submitCountdown=10;setTimeout("Liferay.Util.resubmitCountdown('"+e.name+"')",1000);if(d==null||d){Liferay.Util.submitCountdown++;var c=jQuery("input[@type=button], input[@type=reset], input[@type=submit]",e);c.each(function(h,j){var g=jQuery(this);g.attr("disabled",true);g.fadeTo(50,0.5)})}if(f!=null){e.action=f}if(!Liferay.Browser.is_ns_4){document.body.style.cursor="wait"}e.submit()}}var Viewport={frame:function(){var c,d;if(self.innerHeight){c=self.innerWidth;d=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){c=document.documentElement.clientWidth;d=document.documentElement.clientHeight}else{if(document.body){c=document.body.clientWidth;d=document.body.clientHeight}}}return(new Coordinate(c,d))},scroll:function(){var c,d;if(self.pageYOffset){c=self.pageXOffset;d=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){c=document.documentElement.scrollLeft;d=document.documentElement.scrollTop}else{if(document.body){c=document.body.scrollLeft;d=document.body.scrollTop}}}return(new Coordinate(c,d))},page:function(){var c,f;var e=document.body.scrollHeight;var d=document.body.offsetHeight;if(e>d){c=document.body.scrollWidth;f=document.body.scrollHeight}else{c=document.body.offsetWidth;f=document.body.offsetHeight}return(new Coordinate(c,f))}};String.prototype.trim=jQuery.trim;Liferay.zIndex={DOCK:10,DOCK_PARENT:20,ALERT:430,DROP_AREA:440,DROP_POSITION:450,DRAG_ITEM:460,TOOLTIP:470};Liferay.Language={get:function(e,h){var c=this;var d=themeDisplay.getPathContext()+"/language/"+themeDisplay.getLanguageId()+"/"+e+"/";if(h){if(typeof h=="string"){d+=h}else{if(Liferay.Util.isArray(h)){d+=h.join("/")}}}var f=c._cache[d];if(f!=null){return f}var g=jQuery.ajax({url:d,async:false});f=g.responseText;c._cache[d]=f;return f},_cache:{}};Liferay.Layout={getGroupId:function(d){var c=this;if((d!=null)&&(d.indexOf(c._private)==0||d.indexOf(c._public)==0)){return d.split(c._separator)[1]}return 0},getLayoutId:function(d){var c=this;if((d!=null)&&(d.indexOf(c._private)==0||d.indexOf(c._public)==0)){return d.split(c._separator)[2]}return 0},getOwnerId:function(d){var c=this;if((d!=null)&&(d.indexOf(c._private)==0||d.indexOf(c._public)==0)){var e=d.lastIndexOf(c._separator);if(e!=-1){return d.substring(0,e)}return null}},_private:"PRI.",_public:"PUB.",_separator:"."};function AjaxRequest(d,c){var h;var g=c;if(window.XMLHttpRequest){h=new XMLHttpRequest();if(h.overrideMimeType){h.overrideMimeType("text/html")}}else{if(window.ActiveXObject){try{h=new ActiveXObject("Msxml2.XMLHTTP")}catch(k){try{h=new ActiveXObject("Microsoft.XMLHTTP")}catch(k){try{h=new XMLHttpRequest()}catch(k){}}}}}var f=function(){if(h.readyState==4){try{if(h.status==200){if(g.update){var m=jQuery.getOne(g.update);m.innerHTML=h.responseText;executeLoadedScript(m)}if(g.onComplete){g.onComplete(h,g.returnArgs)}AjaxUtil.remove(g.ajaxId)}}catch(n){}}};var j=function(n){n=Liferay.Util.getURLWithSessionId(n);var m=n.split("?");var u=m[0];var q=m[1];try{if(g.method=="get"){h.open("GET",n,true);h.onreadystatechange=f;h.send("")}else{h.open("POST",u,true);h.setRequestHeader("Method","POST "+u+" HTTP/1.1");h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.onreadystatechange=f;h.send(q)}}catch(r){}};j(d);this.resend=function(m,e){g=e;j(m)};this.getId=function(){return ajaxId};this.cleanUp=function(){h.onreadystatechange=function(){};f=null;returnArgs=null;h=null}}var AjaxUtil={counter:1,requests:[],request:function(e,d){var g=d||{};var c=(g.reverseAjax)?0:AjaxUtil.getNextId();g.ajaxId=c;var f;if(c==0&&AjaxUtil.requests[0]){f=AjaxUtil.requests[0];f.resend(e,g)}else{f=new AjaxRequest(e,g);AjaxUtil.requests[c]=f}if(!g.onComplete&&!g.update){AjaxUtil.remove(c)}},submit:function(g,e){var d=g.action;var c=jQuery("input, textarea, select",g);var f=e||{};var h=c.serialize();if(d.indexOf("?")==-1){d=d+"?"+h}if(d.lastIndexOf("?")==d.length-1){d=d+h}else{d=d+"&"+h}if(f.disable){c.attr("disabled",true)}AjaxUtil.request(d,f)},update:function(d,f,c){var e=c||{};e.update=f;AjaxUtil.request(d,e)},getNextId:function(){var c=AjaxUtil.counter++;if(AjaxUtil.counter>20){AjaxUtil.counter=1}return c},remove:function(d){if(d){var c=AjaxUtil.requests[d];if(c){c.cleanUp();c=null}}}};var ReverseAjax={initialize:function(){jQuery(window).bind("unload",ReverseAjax.release);ReverseAjax.request()},request:function(){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/reverse_ajax",{onComplete:ReverseAjax.response,reverseAjax:true})},response:function(e){var d=Liferay.Util.toJSONObject(e.responseText);var c=d.status;if(c&&c!="failure"){if(c=="success"){if(d.chatMessages){Messaging.getChatsReturn(d.chatMessages)}if(d.chatRoster){MessagingRoster.getEntriesReturn(d.chatRoster)}}ReverseAjax.request()}},release:function(){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/reverse_ajax?release=1",{reverseAjax:true})}};function executeLoadedScript(el){var scripts=el.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src){var head=document.getElementsByTagName("head")[0];var scriptObj=document.createElement("script");scriptObj.setAttribute("type","text/javascript");scriptObj.setAttribute("src",scripts[i].src);head.appendChild(scriptObj)}else{try{if(Liferay.Browser.is_safari){eval(scripts[i].innerHTML)}else{if(Liferay.Browser.is_mozilla){eval(scripts[i].textContent)}else{eval(scripts[i].text)}}}catch(e){}}}}function loadPage(e,f,d,c){AjaxUtil.request(e+"?"+f,{onComplete:d,returnArgs:c})}function printJSON(c){if(c&&c.id){var d=document.getElementById(c.id);if(d){d.innerHTML=c.toString()}}}Liferay.Animate=function(f,c,d){var e=Liferay.Animate;if(!e.q[f]){e.q[f]={id:f,fn:c,data:d}}if(!e.timer){e.start()}};Liferay.Animate.extendNativeFunctionObject({q:{},timer:0,process:function(){var f=false;for(var d in this.q){var e=this.q[d];if(e){var c=e.fn(e.data);if(c==false){this.q[d]=null}f=true}}if(!f){this.stop()}},start:function(){var c=Liferay.Animate;if(!c.timer){Liferay.Animate.process();Liferay.Animate.timer=setInterval("Liferay.Animate.process()",30)}},stop:function(){clearInterval(Liferay.Animate.timer);Liferay.Animate.timer=0}});var Coordinates={ORIGIN:new Coordinate(0,0),coordinatesData:function(c,d){var e={};e.recurse=d;e.size=new Coordinate(c.offsetWidth,c.offsetHeight);e.nwOffset=Coordinates.northwestOffset(c,d);e.seOffset=e.nwOffset.plus(e.size);e.midPoint=e.nwOffset.plus(new Coordinate(Math.round(e.size.x/2),Math.round(e.size.y/2)));return e},northwestPosition:function(d){var c=parseInt(d.style.left);var e=parseInt(d.style.top);return new Coordinate(isNaN(c)?0:c,isNaN(e)?0:e)},southeastPosition:function(c){return Coordinates.northwestPosition(c).plus(new Coordinate(c.offsetWidth,c.offsetHeight))},northwestOffset:function(c,e){var f=new Coordinate(c.offsetLeft,c.offsetTop);if(!e){return f}var d=c.offsetParent;while(d){f=f.plus(new Coordinate(d.offsetLeft,d.offsetTop));d=d.offsetParent}return f},southeastOffset:function(c,d){return Coordinates.northwestOffset(c,d).plus(new Coordinate(c.offsetWidth,c.offsetHeight))}};function Coordinate(c,d){this.x=c||0;this.y=d||0}Coordinate.prototype.toString=function(){return"("+this.x+","+this.y+")"};Coordinate.prototype.plus=function(c){return new Coordinate(this.x+c.x,this.y+c.y)};Coordinate.prototype.minus=function(c){return new Coordinate(this.x-c.x,this.y-c.y)};Coordinate.prototype.distance=function(e){var d=this.x-e.x;var c=this.y-e.y;return Math.sqrt(Math.pow(d,2)+Math.pow(c,2))};Coordinate.prototype.max=function(d){var c=Math.max(this.x,d.x);var e=Math.max(this.y,d.y);return new Coordinate(c,e)};Coordinate.prototype.constrain=function(e,d){if(e.x>d.x||e.y>d.y){return this}var c=this.x;var f=this.y;if(e.x!=null){c=Math.max(c,e.x)}if(d.x!=null){c=Math.min(c,d.x)}if(e.y!=null){f=Math.max(f,e.y)}if(d.y!=null){f=Math.min(f,d.y)}return new Coordinate(c,f)};Coordinate.prototype.reposition=function(c){c.style.top=this.y+"px";c.style.left=this.x+"px"};Coordinate.prototype.equals=function(c){if(this==c){return true}if(!c||c==null){return false}return this.x==c.x&&this.y==c.y};Coordinate.prototype.inside=function(d,c){if((this.x>=d.x)&&(this.x<=c.x)&&(this.y>=d.y)&&(this.y<=c.y)){return true}else{return false}};Coordinate.prototype.insideObject=function(e,c){var d=Coordinates.coordinatesData(e);d.recurse=c;d.quadrant=this.insideObjectData(d);return d.quadrant?d:null};Coordinate.prototype.insideObjectData=function(f){var e=f.nwOffset;var g=f.seOffset;var c=0;if(this.inside(e,g)){var d=f.midPoint;if(this.x<=d.x&&this.y<=d.y){c=1}else{if(this.x>=d.x&&this.y<=d.y){c=2}else{if(this.x>=d.x&&this.y>=d.y){c=3}else{if(this.x<=d.x&&this.y>=d.y){c=4}}}}}return c};function MousePos(){}MousePos.prototype=new Coordinate();MousePos.prototype.update=function(e){if(typeof e=="undefined"){e=window.event}var c=new Coordinate(e.clientX,e.clientY);var d=Viewport.scroll();this.x=c.x+d.x;this.y=c.y+d.y;if(this.x<0){this.x=0}if(this.y<0){this.y=0}return e};var mousePos=new MousePos(0,0);jQuery.each(["coordinatesData","northwestPosition","southeastPosition","northwestOffset","southeastOffset"],function(c,d){jQuery.fn[d]=function(e){return this.length>0?Coordinates[d](this[0],e):null}});jQuery.fn.xySize=function(){return new Coordinate(this.width(),this.height())};(function(c){c.fn.lDrag=function(d){this.each(function(){c.lDrag.create(this,d)})};c.fn.lDragBind=function(e,d){this.each(function(){c.lDrag.bind(this,e,d)})};c.fn.lDragUnbind=function(e,d){this.each(function(){c.lDrag.unbind(this,e,d)})};c.lDrag=function(d,e){c.lDrag.create(d,e)};c.lDrag.extendNativeFunctionObject({container:null,isDragging:false,scrollDirection:"",scrollTimer:0,bind:function(d,f,e){if(d.dragSettings&&f&&e){if(f=="start"){d.dragSettings.onDragStart.push(e)}else{if(f=="move"){d.dragSettings.onDrag.push(e)}else{if(f=="complete"){d.dragSettings.onDragEnd.push(e)}}}}},unbind:function(d,h,g){if(d.dragSettings&&h&&g){var f=d.dragSettings;var j="";if(h=="start"){j="onDragStart"}else{if(h=="move"){j="onDrag"}else{if(h=="complete"){j="onDragEnd"}}}for(var e=0;e<f[j].length;e++){if(f[j][e]==g){f[j].splice(e,1)}}}},create:function(d,e){e=e||{};e.container=d;if(e.handle==null){e.handle=d}else{if(typeof e.handle=="string"){e.handle=c(e.handle)[0]}e.handle.dragSettings=e}d.dragSettings=e;e.onDragStart=[];e.onDrag=[];e.onDragEnd=[];if(e.onStart){c.lDrag.bind(d,"start",e.onStart)}if(e.onMove){c.lDrag.bind(d,"move",e.onMove)}if(e.onComplete){c.lDrag.bind(d,"complete",e.onComplete)}jQuery(e.handle).mousedown(c.lDrag.onMouseDown)},scroll:function(){Liferay.Animate("layoutDragScroll",c.lDrag.scrollStart)},scrollStart:function(){var j;var f=c.lDrag.container;var e=c(c.lDrag.container);var d=false;var g=20;var h=Viewport.scroll().y;if(c.lDrag.scrollDirection=="down"){j=e.northwestPosition();j.y+=g;j.reposition(f);window.scrollTo(0,h+g);d=true}else{if(c.lDrag.scrollDirection=="up"&&h>0){j=e.northwestPosition();j.y-=g;j.reposition(f);window.scrollTo(0,h-g);d=true}else{d=false}}if(!d){c.lDrag.scrollDirection="";c.lDrag.scrollTimer=0;return false}},onMouseDown:function(h){mousePos.update(h);var g=this.dragSettings;var e=g.container;var d=c(g.container);if(!e._LFR_noDrag){c.lDrag.container=e;var f=d.northwestOffset(true);var j=f.plus(d.xySize());g.originalZIndex=e.style.zIndex;g.mouseNwOffset=mousePos.minus(f);g.mouseSeOffset=mousePos.minus(j);g.mouseStart=new Coordinate(mousePos.x,mousePos.y);g.browserEvent=h;c.lDrag._processListeners(g,"start");c.lDrag._setConstraint(g);jQuery(document).mousemove(c.lDrag.onMouseMove);jQuery(document).mouseup(c.lDrag.onMouseUp);return false}else{return}},onMouseMove:function(f){mousePos.update(f);var g=c.lDrag.container;var j=g.dragSettings;if(!c.lDrag._isAboveThreshold(j)){return false}else{c.lDrag.isDragging=true}g=j.clone?c.lDrag._createClone(j):j.container;var u=c(g);var k=u.northwestOffset(true);var q=u.northwestPosition();var r=u.xySize();var n=k.plus(r);var e=q.plus(r);c.lDrag._setScrolling(j);q=q.plus(mousePos.minus(k).minus(j.mouseNwOffset));var d=j.autoCorrect?u.northwestOffset(true):null;if(!j.noDrag){q.reposition(g)}j.browserEvent=f;c.lDrag._processListeners(j,"move");if(j.autoCorrect){var m=u.northwestOffset(true);if(!d.equals(m)){var h=d.minus(m);q=u.northwestPosition().plus(h);q.reposition(g)}}return false},onMouseUp:function(f){f=mousePos.update(f);var d=c.lDrag.container;var e=d.dragSettings;if(e.clone){c.lDrag._destroyClone(e)}jQuery(document).unbind("mousemove",c.lDrag.onMouseMove);jQuery(document).unbind("mouseup",c.lDrag.onMouseUp);e.browserEvent=f;c.lDrag._processListeners(e,"complete");c.lDrag.container=null;c.lDrag.isDragging=false},_createClone:function(f){if(!f.clonedNode){var d=c("<div></div>");var e=c(f.container);var g=e.northwestOffset(true);d.css({height:e.height()+"px",left:g.x+"px",position:"absolute",top:g.y+"px",width:e.width()+"px",zIndex:Liferay.zIndex.DRAG_ITEM});if(f.opacity){d.css("opacity",f.opacity)}if(f.dragClass){d.addClass(f.dragClass)}d[0].dragSettings=f;f.clonedNode=d[0];c("body").append(d)}return f.clonedNode},_destroyClone:function(g){if(g.clonedNode){var d=c(g.clonedNode);var e=c(g.container);var h=e.northwestPosition();var f=h.plus(mousePos.minus(g.mouseStart));f.reposition(g.container);d.remove();g.clonedNode=null}},_isAboveThreshold:function(e){var d=true;if(!c.lDrag.isDragging&&e.threshold){var f=e.mouseStart.distance(mousePos);if(f<e.threshold){d=false}}return d},_processListeners:function(f,e){var g="";if(e=="start"){g="onDragStart"}else{if(e=="move"){g="onDrag"}else{if(e=="complete"){g="onDragEnd"}}}for(var d=0;d<f[g].length;d++){f[g][d](f)}},_setConstraint:function(f){var e;var d;var h;var g;if(f.minX!=null){e=f.minX+f.mouseNwOffset.x}if(f.minY!=null){d=f.minY+f.mouseNwOffset.y}if(f.maxX!=null){h=f.maxX+f.mouseSeOffset.x}if(f.maxY!=null){g=f.maxY+f.mouseSeOffset.y}if(e&&h&&e>h){h=e}if(d&&g&&d>g){g=d}f.mouseMin=new Coordinate(e,d);f.mouseMax=new Coordinate(h,g)},_setScrolling:function(g){if(g.scroll){var e=30;var f=5;var j=Viewport.scroll().y;var h=Viewport.page().y;var d=Viewport.frame().y;if((j+d+2*e)<h&&mousePos.y>(j+d-e)){if(c.lDrag.scrollDirection!="down"){c.lDrag.scrollDirection="down";c.lDrag.scroll()}}else{if(j>0&&mousePos.y<(j+e)){if(c.lDrag.scrollDirection!="up"){c.lDrag.scrollDirection="up";c.lDrag.scroll()}}else{c.lDrag.scrollDirection=""}}}}})})(jQuery);(function(c){c.fn.lResize=function(d){this.each(function(){c.lResize(this,d)})};c.fn.lResizeBind=c.fn.lDragBind;c.fn.lResizeHandleRule=function(d){this.each(function(){d.handle=this;c.lResize.handleRule(d)})};c.lResize=function(d,e){c.lResize.create(d,e)};c.lResize.extendNativeFunctionObject({HORIZONTAL:"horizontal",VERTICAL:"vertical",ADD:"add",SUBTRACT:"subtract",resizeRule:function(d,e,f){this.container=d;this.direction=e;this.next=null;this.origWidth=null;this.origHeight=null;this.mode=f},handleRule:function(d){var f=d.handle;if(typeof f=="string"){f=c(f)}var e=f.resizeSettings;if(!e){c.lResize.create(e.container,e)}else{e.resizeRules.push(new c.lResize.resizeRule(e.container,e.direction,e.mode))}},bind:function(d,f,e){c.lDrag.bind(d,f,e)},create:function(d,e){if(e.handle&&e.direction&&e.mode){if(typeof e.handle=="string"){e.handle=c(e.handle)[0]}var h=e.handle;if(!h.resizeSettings){h.resizeSettings=e}var f=h.resizeSettings;if(!h.dragSettings||!h.dragSettings.isResizeHandle){c.lDrag.create(h,{onStart:c.lResize.onMouseDown,onMove:c.lResize.onResize,onComplete:c.lResize.onMouseUp,noDrag:!e.drag,isResizeHandle:true})}var g=c(h);g.lDragBind("start",e.onStart);g.lDragBind("move",e.onMove);g.lDragBind("complete",e.onComplete);if(!f.resizeRules){f.resizeRules=[]}f.resizeRules.push(new c.lResize.resizeRule(d,e.direction,e.mode))}},onMouseDown:function(){var h=c.lDrag.container;var g=h.resizeSettings;var e=mousePos;g.mouseStart=new Coordinate(mousePos.x,mousePos.y);for(var f=0;f<g.resizeRules.length;f++){var j=g.resizeRules[f];var d=c(j.container);j.origWidth=d.width();j.origHeight=d.height()}},onResize:function(){var k=c.lDrag.container;var f=k.resizeSettings;var m=mousePos;var n=mousePos.minus(f.mouseStart);var e;var d=0;var g=false;for(var h=0;h<f.resizeRules.length;h++){var j=f.resizeRules[h];var q=c(j.container);if(j.direction==c.lResize.HORIZONTAL){j.prevLength=q.width();if(j.mode==c.lResize.ADD){e=j.origWidth+n.x}else{e=j.origWidth-n.x}}else{if(j.direction==c.lResize.VERTICAL){j.prevLength=q.height();if(j.mode==c.lResize.ADD){e=j.origHeight+n.y}else{e=j.origHeight-n.y}}}j.newLength=e;if(e<1){d=Math.max(-e+1,d);e=1}if(e==j.prevLength){g=true}}for(var h=0;h<f.resizeRules.length;h++){var j=f.resizeRules[h];var q=c(j.container);if(!f.disableStop&&g){e=j.prevLength}else{if(j.newLength<1){e=j.newLength+d}else{e=j.newLength-d}}if(j.direction==c.lResize.HORIZONTAL){q.width(e)}else{if(j.direction==c.lResize.VERTICAL){q.height(e)}}}},onMouseUp:function(){var e=c.lDrag.container;var d=e.resizeSettings;d.mouseEnd=new Coordinate(mousePos.x,mousePos.y)}})})(jQuery);(function(c){c.Popup=function(d){return c.Popup.open(d)};c.Popup.extendNativeFunctionObject({close:function(f){var e=this;jQuery(f).parents(".popup:first").remove();var g=jQuery("#alert-messages .modal:last");if(g.length){g.before(jQuery("#alert-messages .alert-background"))}else{var d=jQuery("#alert-messages .alert-background");d.fadeTo("normal",0,function(){d.remove()});jQuery(window).unbind("resize",c.Popup.center);jQuery(window).unbind("resize",c.Popup.resize);jQuery(window).unbind("scroll",c.Popup.center)}if(jQuery.browser.msie&&jQuery.browser.version.number()<7&&c.Popup.count()==0){jQuery("select").css("visibility","visible")}if(e.options.onClose){e.options.onClose()}},count:function(){return jQuery("#alert-messages .popup").length},open:function(w){var u=this;w=w||{};u.options=w;var r=w.modal;var v=w.message;var q=w.messageId;var g=w.height;var e=w.width;var m=w.noCenter;var n=w.title;var k=w.onClose;var d=jQuery("#alert-messages");if(!d.length){jQuery("body").append("<div id='alert-messages' style='position:absolute; top:0; left:0; z-index:"+Liferay.zIndex.ALERT+"'></div>");d=jQuery("#alert-messages")}d.append("<div class='popup "+(r?"modal":"")+"' style='position:absolute; top:0; left:0;'><div class='popup-inner'><div class='popup-header'><span class='popup-title'>"+(n||"&nbsp;")+"</span><img class='popup-close' src='"+themeDisplay.getPathThemeImages()+"/portlet/close.png'/></div><div class='popup-message'></div></div></div>");var f=d.find(".popup:last");var j=f.find(".popup-message");if(q){j.attr("id",q)}f.find(".popup-close").click(function(){c.Popup.close(this)});if(k!=null){f.find(".popup-close").click(k)}f[0].alertOptions=w;j.append(v||'<div class="loading-animation"></div>');if(g){j.css(jQuery.browser.msie?"height":"min-height",g+"px")}if(e){f.css("width",e+"px")}f.mousedown(function(){if(this!=jQuery("#alert-messages .popup:last")[0]){jQuery("#alert-messages").append(this)}});var h=d.find(".alert-background");if(r){if(h.length){f.before(h[0])}else{f.before("<div class='alert-background' style='position:absolute; top:0; left:0'></div>");h=d.find(".alert-background");h.css({display:"none",opacity:0})}}if(jQuery.browser.msie&&jQuery.browser.version.number("round")<7&&c.Popup.count()==1){jQuery("select").css("visibility","hidden");f.find("select").css("visibility","visible")}if(d.find(".popup").length==1){jQuery(window).resize(c.Popup.center);jQuery(window).resize(c.Popup.resize);jQuery(window).scroll(c.Popup.center)}c.Popup.resize();h.fadeTo("normal",0.5);if(false){f.Draggable({handle:f.find(".popup-header")[0],zIndex:Liferay.zIndex.ALERT+1})}else{f.lDrag({handle:f.find(".popup-header")[0],threshold:2,dragClass:"drag-indicator"})}if(m){c.Popup.center()}else{c.Popup.center(g,e)}Liferay.Util.addInputType(f[0]);Liferay.Util.addInputFocus(f[0]);window.focus();return j[0]},iframe:function(e,d){var j=d.height;var h=d.width;var g=c.Popup.open(d);var f=document.createElement("iframe");g.height="";f.src=e;f.frameBorder=0;if(h){f.style.width="100%"}g.appendChild(f);if(!d.noCenter){c.Popup.center(j,h)}return g},center:function(e,g){var f=jQuery("#alert-messages .popup:last");var d=jQuery(".alert-background");d.css({top:(Viewport.scroll().y)});if(!f[0].alertOptions.noCenter){f.css({top:(Viewport.scroll().y+(Viewport.frame().y/2-f.height()/2))+"px",left:(Viewport.scroll().x+(Viewport.frame().x/2-f.width()/2))+"px"})}},resize:function(){jQuery("#alert-messages .alert-background").css({height:Viewport.page().y+"px",width:Viewport.page().x+"px"})},resizeIframe:function(d){if(c.Popup.message&&d){var e=c.Popup.message.getElementsByTagName("iframe")[0];var f=jQuery.getOne(".loading-animation",c.Popup.message);if(f){f.parentNode.removeChild(f)}if(e){if(d.height){e.height=d.height}if(d.width){e.width=d.width}}}c.Popup.resize()},update:function(f,e){var d=jQuery(f);d.empty();d.append('<div class="loading-animation"></div>');AjaxUtil.update(e,d[0])}})})(Liferay);var DragLink={create:function(d,c){d.dragId=jQuery.getOne(c);d.clickLink=d.href;d.href="javascript:void(0)";d.onclick=DragLink.onLinkClick},onLinkClick:function(){if(this.dragId.wasClicked){if(Liferay.Browser.is_ie){setTimeout('window.location = "'+this.clickLink+'";',0)}else{window.location=this.clickLink}}}};var NavFlyout={zIndex:1,initialize:function(d){var d=jQuery.getOne(d);var c=jQuery("portlet-nav-map-list",d);c.not(".portlet-nav-map-level_1, .portlet-nav-map-level_2").css({position:"absolute",display:"none"});jQuery(".portlet-nav-map-list a",d).each(function(){var e=jQuery(this.parentNode.parentNode);if(e.is(".portlet-nav-map-level_1")){e.mouseover(function(){NavFlyout.hide(this.parentNode)})}else{e.mouseover(NavFlyout.onHoverOver)}})},initToggle:function(e,c){var e=jQuery.getOne(e);var d=jQuery(".portlet-nav-map-level_1 > li",e);d.click(NavFlyout.onToggle);d.css({backgroundImage:"url("+c+")"})},hide:function(c){NavFlyout.initialize(c.parentNode)},onHoverOver:function(){var c=this.parentNode;if(jQuery(c.parentNode).is(".portlet-nav-map-level_2")){NavFlyout.hide(c.parentNode.parentNode.parentNode)}else{NavFlyout.hide(c)}jQuery(c.childNodes).filter("ul").css({display:"block",top:"5px",left:"100px"});zItem=c;while(zItem.nodeName.toLowerCase()!="div"){if(zItem.nodeName.toLowerCase()=="li"){zItem.style.zIndex=NavFlyout.zIndex}zItem=zItem.parentNode}NavFlyout.zIndex++},onToggle:function(){var c=jQuery("ul:first",this).get(0);if(this.isShowing){c.style.display="none";this.style.backgroundImage=this.style.backgroundImage.replace(/02_minus/,"02_plus");this.isShowing=false}else{c.style.display="block";c.style.backgroundImage="none";this.style.backgroundImage=this.style.backgroundImage.replace(/02_plus/,"02_minus");this.isShowing=true}}};var PortletHeaderBar={mode:{},fade:function(e){var d=e.count;var g=e.id;var f=false;var c=jQuery("#portlet-header-bar_"+g+" .portlet-small-icon-bar");if(PortletHeaderBar.mode[g]=="in"){if(d<=10){if(d>=0){c.css({opacity:(d/10),display:""})}f=true;e.count++}}else{if(PortletHeaderBar.mode[g]=="out"){if(d>=0){if(d<=10){c.css("opacity",(d/10))}e.count--;f=true}else{c.css("display","none")}}}return f},hide:function(c){this.mode[c]="out";Liferay.Animate("header-icon-fade_"+c,PortletHeaderBar.fade,{count:15,id:c})},show:function(c){this.mode[c]="in";Liferay.Animate("header-icon-fade_"+c,PortletHeaderBar.fade,{count:-5,id:c})}};var PhotoSlider=Class.create();PhotoSlider.prototype={initialize:function(e,c,g,d,f){this.TOTAL_FRAMES=20;this.count=0;this.page=0;this.timer=0;this.start=0;this.photos=jQuery.getOne(g);this.photos.style.position="relative";this.photos.style.left="0px";this.slidingWindow=_J$.getOne(e);this.windowWidth=c;this.totalPages=d;this.varName=f},animate:function(){if(this.count<=this.TOTAL_FRAMES){var d=this.count/this.TOTAL_FRAMES;var c=Math.sin(d*(Math.PI/2));var e=-(this.page*this.windowWidth)-this.start;this.photos.style.left=this.start+(e*c);this.count++;this.timer=setTimeout(this.varName+".animate()",30)}else{this.timer=0}},left:function(){this.start=parseInt(this.photos.style.left);if(this.page>0){this.page--;this.count=0;if(!this.timer){this.timer=setTimeout(this.varName+".animate()",30)}}},right:function(){this.start=parseInt(this.photos.style.left);if(this.page<(this.totalPages-1)){this.page++;this.count=0;if(!this.timer){this.timer=setTimeout(this.varName+".animate()",30)}}}};var Tabs={show:function(e,f,g){var d=document.getElementById(e+g+"TabsId");if(d){d.className="current"}d=document.getElementById(e+g+"TabsSection");if(d){d.style.display="block"}for(var c=0;(f.length>1)&&(c<f.length);c++){if(g!=f[c]){d=document.getElementById(e+f[c]+"TabsId");if(d){d.className="none"}d=document.getElementById(e+f[c]+"TabsSection");if(d){d.style.display="none"}}}}};var StarRating=new Class({initialize:function(f,d){this.options=d||{};this.rating=this.options.rating||0;var e=jQuery("#"+f);this.stars=e.find("img");var c=this;if(!this.options.displayOnly){e.bind("mouseout",{self:this},this.onHoverOut);this.stars.each(function(g){this.index=g+1;jQuery(this).bind("click",{self:c},c.onClick).bind("mouseover",{self:c},c.onHoverOver)})}this.display(this.rating,"rating")}});StarRating.implement({display:function(e,g){var c=this;e=e==null?this.rating:e;var f=Math.floor(e);var d=e-f;this.stars.each(function(h){image=this;if(h<f){if(g=="hover"){image.src=image.src.replace(/\bstar_.*\./,"star_hover.")}else{image.src=image.src.replace(/\bstar_.*\./,"star_on.")}}else{if(d<0.25){image.src=image.src.replace(/\bstar_.*\./,"star_off.")}else{if(d<0.5){image.src=image.src.replace(/\bstar_.*\./,"star_on_quarter.")}else{if(d<0.75){image.src=image.src.replace(/\bstar_.*\./,"star_on_half.")}else{if(d<1){image.src=image.src.replace(/\bstar_.*\./,"star_on_threequarters.")}}}}d=0}})},onHoverOver:function(c){c.data.self.display(this.index,"hover")},onHoverOut:function(c){c.data.self.display()},onClick:function(e){var f=this;var d=f.index;var c=e.data.self;c.rating=d;if(c.options.onComplete){c.options.onComplete(d)}c.display(d)}});var ToolTip={container:null,show:function(d,h,v){var r=this;var e=r.container;var q=jQuery(h);var k=q.offset();var c=r._windowCalculation();if(!e){e=jQuery('<div class="portal-tool-tip"></div>').appendTo("body");r.container=e}e.html(v);e.show();var j=e.width();var f=q.width();var u=q.height();var m=e.height();var g=k.left-(j/2);var n=k.top+u+5;if(g<0){g=5}else{g+=5}if(g+j>c.right){g=(g-(j/2))+f}if(n+m>c.bottom){n=n-(u+m+5)}e.css({cursor:"default",left:g+"px",position:"absolute",top:n+"px",zIndex:Liferay.zIndex.TOOLTIP});q.one("mouseout",function(){r.hide()})},showAtSide:function(e,q,j,g,m){var n=this;var c=n.container;var k=jQuery(e);var f=k.offset();if(!c){c=jQuery('<div class="portal-tool-tip"></div>').appendTo("body");n.container=c}c.html(q);c.show();var d=g?(f.left+g):(f.left+k.width());var h=j?(f.top+j):f.top;c.css({cursor:"default",left:d+"px",position:"absolute",top:h+"px",maxWidth:(m+"px")||"",zIndex:Liferay.zIndex.TOOLTIP});k.one("mouseout",function(){n.hide()})},hide:function(d){var c=this;c.container.hide()},_windowCalculation:function(){var d=this;if(d._window.right==null){var e={};var c=d._body;if(!c){c=jQuery("body");d._body=c}d._window={bottom:c.height(),left:0,right:c.width(),top:0};jQuery(window).resize(function(){d._window.bottom=c.height();d._window.right=c.width()})}return d._window},_body:null,_window:{}};Liferay.Portlet={fn:{},fnAll:[],fnLast:[],ajaxList:{},list:{},isAjax:function(c){return(this.ajaxList[c]==1)},flagAjax:function(c){this.ajaxList[c]=1},process:function(f){var c=this.list[f];var e=0;this.list[f]=0;if(c==1){this.processPortlet(f);this.processAll(f)}else{if(c==0){}else{this.processPortlet(f)}}for(var d in this.list){e+=this.list[d]}if(e==0){this.processLast(f)}},processAll:function(d){for(var c=0;c<this.fnAll.length;c++){this.fnAll[c](d,jQuery("#p_p_id_"+d+"_"))}},processPortlet:function(d){if(this.fn[d]){for(var c=0;c<this.fn[d].length;c++){this.fn[d][c](d,jQuery("#p_p_id_"+d+"_"))}this.fn[d]=[]}},processLast:function(d){for(var c=0;c<this.fnLast.length;c++){this.fnLast[c](d)}this.fnLast=[]},ready:function(d,c){if(typeof d=="function"){this.fnAll.push(d)}else{if(typeof d=="string"&&typeof c=="function"){if(!this.fn[d]){this.fn[d]=[]}this.fn[d].push(c)}}},remove:function(c){this.ajaxList[c]=0;this.list[c]=1;this.fn[c]=[]},last:function(c){this.fnLast.push(c)},findIndex:function(d){var c=-1;jQuery("> .portlet-boundary",d.parentNode).each(function(e){if(this==d){c=e}});return c},move:function(f){var j=f.portlet;var h=f.neighbor;var d=f.quadrant;var c=f.container;if(h&&d){if(d==1||d==2){jQuery(h).before(j)}else{jQuery(h).after(j)}if(j&&j.originalColumn){var g=jQuery(j.originalColumn);var e=g.find(".portlet-boundary:first");if(e.length==0){g.addClass("empty")}g=j.originalColumn=null}}else{if(c){jQuery(c).append(j).removeClass("empty")}}this.savePosition(j)},savePosition:function(f){var d=f.parentNode.id.replace(/^layout-column_/,"");var c=this.findIndex(f);var e=f.id.replace(/^(p_p_id_)/,"");e=e.substring(0,e.length-1);AjaxUtil.request(themeDisplay.getPathMain()+"/portal/update_layout?p_l_id="+themeDisplay.getPlid()+"&p_p_id="+e+"&p_p_col_id="+d+"&p_p_col_pos="+c+"&doAsUserId="+themeDisplay.getDoAsUserIdEncoded()+"&cmd=move")}};jQuery.fn.last=function(c){Liferay.Portlet.last(c)};Liferay.Publisher={publishers:{},deliver:function(e){var c=this;var d=window;var f;if(arguments.length==2){f=[arguments[1]]}else{f=jQuery.map(arguments,function(h,g){return(g>0)?h:null})}jQuery.each(c.publishers[e],function(g,h){var j=h.obj||d;h.func.apply(j,f)})},register:function(d){var c=this;if(!c.publishers[d]){c.publishers[d]=[]}},subscribe:function(e,d,g){var c=this;if(c.publishers[e]==null){c.register(e)}var h=false;jQuery.each(c.publishers[e],function(j,k){if(k===d){h=true;return false}});if(!h){var f={func:d,obj:g||null};c.publishers[e].push(f)}},unsubscribe:function(e,d){var c=this;if(!c.publishers[e]){return}jQuery.each(c.publishers[e],function(f,g){if(g.func===d){c.publishers[e].pop(g);return false}})}};Liferay.autoFields=new Class({initialize:function(d){var c=this;d=jQuery.extend(d,{});c._html=jQuery(d.html||"");c._container=jQuery(d.container||"");c._addText=d.addText||"";c._removeText=d.removeText||"";c._clearText=d.clearText||"";c._confirmText=d.confirmText||"";c._rowType=d.rowType||"";c._onAdd=d.onAdd;c._onRemove=d.onRemove;c._onClear=d.onClear;c._init=d.init||false;c._numField=1;c._run();if(c._init){c._init()}},_run:function(){var c=this;var d=c._container;if(d.length){var f=c._html;var h,g,j;var e=jQuery('<span class="lfr-control-links"></span>');if(c._addText){h=jQuery('<a href="javascript:;">'+c._addText+"</a>");h.click(function(){var k=c._addFields();if(c._onAdd){c._onAdd(k)}});e.append(h)}if(c._removeText){g=jQuery('<a href="javascript:;">'+c._removeText+"</a>");g.hide();g.click(function(){c._removeFields();if(c._onRemove){c._onRemove()}});e.append(g)}if(c._clearText){j=jQuery('<a href="javascript:;">'+c._clearText+"</a>");j.click(function(){c._clearFields();if(c._onClear){c._onClear()}});e.append(j)}d.after(e);c._controlLinks=e}},_addFields:function(){var c=this;var d=c._container;var e=c._html.clone();d.append(e);c._numField++;var f=c._controlLinks.find("a:eq(1)");if(f.is(":hidden")){f.show()}return e},_clearFields:function(){var c=this;var d=c._container;var f=d.find(c._rowType).not(":first");var e=true;if(c._confirmText){e=confirm(c._confirmText)}if(e){f.remove();c._numField=1}},_removeFields:function(){var c=this;var d=c._container;var e=d.find(c._rowType+":last");if(c._numField>1){e.remove();--c._numField}if(c._numField<=1){var f=c._controlLinks.find("a:eq(1)");if(f.is(":visible")){f.hide()}}}});Liferay.ColorPicker=new Class({initialize:function(d){var c=this;d=d||{};c._onClose=d.onClose||null;c._onChange=d.onChange||null;c._context=d.context||document.body;c._hasImage=d.hasImage||false;c._item=jQuery(d.item||".use-color-picker",c._context);c._baseColor={r:255,g:0,b:0};c._currentColor={r:255,g:255,b:255};c._lastValues=[0,0];c._insertImages();c._buildHTML();c._activatePicker()},_activatePicker:function(){var d=this;var c=d._currentColor;var e=function(){var k=d._currentColor.r;var j=d._currentColor.g;var f=d._currentColor.b;var h="rgb("+k+", "+j+", "+f+")";d._baseDiv.find(".lfr-old-color").css("background-color",h);if(d._onChange){d._onChange(d._currentColor)}};d._baseDiv.find(".lfr-color").Slider({accept:".lfr-color-indic",onSlide:function(h,g,f,j){d._lastValues=[parseInt(h*255/100),parseInt(g*255/100)];d._setGradientColor()},onChange:e});d._baseDiv.find(".lfr-hue").Slider({accept:".lfr-hue-indic",onSlide:function(h,g,f,j){d._setVertColor(parseInt(g*255/100));d._setGradientColor()},onChange:e})},_buildHTML:function(){var d=this;var h=jQuery('<div class="lfr-color-picker"></div>');var g=jQuery('<div class="lfr-color"><div class="lfr-color-indic"></div></div>');var f=jQuery('<div class="lfr-hue"><div class="lfr-hue-indic"></div></div>');var c=jQuery('<div class="lfr-current-color"><div class="lfr-old-color"></div></div>');var e=jQuery('<div class="lfr-color-picker-close">X</div>');e.click(function(j){d._toggle(j,this)});h.append(g).append(f).append(c).append(e);h.appendTo("body");h.hide();h.css({position:"absolute",zIndex:Liferay.zIndex.ALERT+1});d._baseDiv=h},_insertImages:function(){var c=this;var f=c._context;var e=c._item;var g='<img class="lfr-color-picker-img" src="'+themeDisplay.getPathThemeImages()+'/color_picker/color_picker.png" />';if(e.length==1){var d;if(c._hasImage){d=e}else{d=jQuery(g);e.after(d)}d.click(function(h){c._toggle(h,this)})}else{e.each(function(){var j=jQuery(this);var h;if(!c._hasImage){h=jQuery(g)}else{h=j}h.click(function(k){c._toggle(k,this)});j.after(h)})}},_setVertColor:function(c){var k=this;var g=256/6;var h=256/g;var f=c;var m=f%g;var d=255;var e=255-m*h;var j=0;if(f<(g*5)){d=m*h;e=255;if(f<(g*4)){d=0;j=255-m*h;if(f<(g*3)){e=m*h;j=255;if(f<(g*2)){d=255-m*h;e=0;if(f<g){d=255;j=m*h}}}}}k._baseColor={r:parseInt(d),g:parseInt(e),b:parseInt(j)};k._baseDiv.find(".lfr-color").css("background-color","rgb("+k._baseColor.r+", "+k._baseColor.g+", "+k._baseColor.b+")")},_setGradientColor:function(){var n=this;var j=n._baseColor;var k=n._lastValues;var c=n._toBase(j.r);var h=n._toBase(j.g);var m=n._toBase(j.b);var f=n._toHex(c);var e=n._toHex(h);var d=n._toHex(m);n._baseDiv.find(".lfr-current-color").css("background-color","rgb("+c+", "+h+", "+m+")");n._hexColor="#"+(f+e+d).toUpperCase();n._currentInput.val(n._hexColor);n._currentColor={r:c,g:h,b:m}},_toggle:function(g,h){var c=this;var f=jQuery(h);var e=f.offset();c._currentInput=f.prev();var d=c._baseDiv;if(d.is(":visible")){d.hide();if(c._item.is("input")){c._item.trigger("blur")}if(c._onClose){c._onClose()}}else{d.show();if(c._item.is("input")){c._item.trigger("focus")}d.css({top:e.top+"px",left:e.left+25+"px"})}},_toBase:function(d){var c=this;var e=c._lastValues;return Math.round((1-(1-(d/255))*(e[0]/255))*(255-e[1]))},_toHex:function(d){var c=this;d=parseInt(d).toString(16);if(d.length<2){return"0"+d}else{return d}},_toRGB:function(e){var d=this;e=e.replace("#","");if(e.length==6||e.length==3){var h,f,c;if(e.length==6){h=e.substring(0,2);f=e.substring(2,4);c=e.substring(4,6)}else{if(e.length==3){h=e.substring(0,1);f=e.substring(1,2);c=e.substring(2,3);h=h+h;f=f+f;c=c+c}}h=parseInt(h,16);f=parseInt(f,16);c=parseInt(c,16);return{r:h,g:f,b:c}}return null}});(function(c){c.Columns=function(d){c.Columns.init(d)};c.Columns.extendNativeFunctionObject({init:function(e){var d=this;d._columns=e.columnSelector;d._dropPosition=e.positionClass;d._dropArea=e.areaClass;d._grid=jQuery(e.grid);d._handle=e.handleSelector;d._onDrop=e.onComplete;d._portlets=e.boxSelector;d._cache={};jQuery(d._columns).find(d._portlets).each(function(){var f=this;if(!f.isStatic){d.add(f)}})},add:function(j,g){if(g||!themeDisplay.isFreeformLayout()){var e=this;var d=jQuery(j);var h=d.find(e._handle);h.css({cursor:"move"});d.css({position:"relative"});var k=d.find(".portlet-content");if(k){k.css({overflowX:"auto"})}var f={clone:true,dragClass:"drag-indicator",handle:d.find(e._handle)[0],onMove:function(m){e._onMove(m)},onComplete:function(m){e._onComplete(m)},onStart:function(m){e._onStart(m)},threshold:2,scroll:true};if(g){f=jQuery.extend(f,g)}d.lDrag(f)}},_clearCache:function(){if(this._cache.dropArea){jQuery(this._cache.dropArea).remove()}if(this._cache.dropPosition){jQuery(this._cache.dropPosition).remove()}this._cache={}},_findContainer:function(j){var d=this;var g=d._cache.columns;if(!g){d._grid.addClass("dragging");g=d._cache.columns=jQuery(d._columns);d._cache.columnData=[];g.each(function(m){var k=this.parentNode;d._cache.columnData[m]=jQuery(k).coordinatesData(true)})}var h,f,e=null;g.each(function(k){f=j.insideObjectData(d._cache.columnData[k]);if(f){if(h){if(d._cache.columnData[k].nwOffset.insideObjectData(h)&&d._cache.columnData[k].seOffset.insideObjectData(h)){h=d._cache.columnData[k];h.quadrant=f;e=this}}else{h=d._cache.columnData[k];h.quadrant=f;e=this}}});return e?{area:e,data:h}:null},_findPortlet:function(m,g,k){var d=this;if(!d._cache.portlets){d._cache.portlets=[];d._cache.portletData=[];d._cache.portletList=[]}var j=d._cache.portlets[g.id];if(!j){j=jQuery("> "+d._portlets,g);d._cache.portlets[g.id]=j;d._cache.portletData[g.id]=[];d._cache.portletList[g.id]=new LinkedList();j.each(function(n){d._cache.portletData[g.id][n]=jQuery(this).coordinatesData(true);d._cache.portletList[g.id].add(this)})}var h,f,e=null;j.each(function(n){h=d._cache.portletData[g.id][n];f=m.insideObjectData(h);if(f){h.quadrant=f;e=this;return false}else{if(m.y<h.midPoint.y){h.quadrant=1;e=this;return false}else{if(n==j.length-1){h.quadrant=4;e=this;return false}}}});return e?{position:e,data:h}:null},_showArea:function(d,g){instance=this;var e=instance._cache.dropArea;if(!e){jQuery("body:first").append("<div class='"+instance._dropArea+"'></div>");instance._cache.dropArea=e=jQuery("."+instance._dropArea+":first");e.css({position:"absolute",zIndex:Liferay.zIndex.DROP_AREA})}var f=jQuery(d.parentNode.nodeName.toLowerCase()=="td"?d.parentNode:d.parentNode);e.css({display:"",height:f.height(),left:g.x,top:g.y,width:f.width()})},_showPosition:function(m,h,f){instance=this;var e=instance._cache.dropPosition;if(!e){jQuery("body:first").append("<div class='"+instance._dropPosition+"'></div>");e=jQuery("."+instance._dropPosition+":first");e[0].style.position="absolute";e[0].style.zIndex=Liferay.zIndex.DROP_POSITION;instance._cache.dropPosition=e}var g=jQuery(instance._cache.dropPosition);var d=jQuery(m);var k=d.width();var j=d.height();e.css({display:"",height:j/2,left:h.x+"px",width:k+"px"});if(f==1||f==2){e.css({top:h.y+"px"});if(e[0].className!="drop-position-top"){e[0].className="drop-position-top"}}else{e.css({top:(h.y+j/2)+"px"});if(e[0].className!="drop-position-bottom"){e[0].className="drop-position-bottom"}}},_hideArea:function(){if(this._cache.dropArea){this._cache.dropArea.css({display:"none"})}},_hidePosition:function(){if(this._cache.dropPosition){this._cache.dropPosition.css({display:"none"})}},_hasMoved:function(j,e,g){var d=this;var f=true;if(j==e){f=false}else{var h=d._cache.portletList[j.parentNode.id];if(h){h.each(function(k){if(k==e){if((g==1||g==2)&&k.listInfo.prev==j){f=false}else{if((g==3||g==4)&&k.listInfo.next==j){f=false}}}})}}return f},_onMove:function(g){g.container.style.top=0;g.container.style.left=0;var d=this;var f=d._findContainer(mousePos);var j=null;if(f){j=d._findPortlet(mousePos,f.area,g.container);d._showArea(f.area,f.data.nwOffset);if(j&&j.position.isStatic){j=null}}else{d._hideArea()}if(j&&g.container!=j.position){var e=j.position;var h=j.data;d._showPosition(e,h.nwOffset,h.quadrant)}else{d._hidePosition()}},_onComplete:function(g){jQuery(g.container).css({top:0,left:0});var d=this;var e=d._findContainer(mousePos);var f=true;d._hidePosition();d._hideArea();if(d._onDrop&&e){var h=d._findPortlet(mousePos,e.area,g.container);if(h){if(d._hasMoved(g.container,h.position,h.data.quadrant)&&!h.position.isStatic){d._onDrop({portlet:g.container,neighbor:h.position,quadrant:h.data.quadrant})}}else{d._onDrop({portlet:g.container,container:e.area})}}else{f=false}d._grid.removeClass("dragging");d._clearCache();return f},_onStart:function(e){var d=this;e.container.originalColumn=e.container.parentNode}})})(Liferay);Liferay.Dock={init:function(){var n=this;var q=jQuery(".lfr-dock");if(!q.is(".interactive-mode")){return}q.addClass("lfr-component");var h=q.find(".lfr-dock-list");if(h.length>0){var f=jQuery(".my-places",q);n._dock=q;n._dockList=h;n._myPlaces=f;var k=(navigator.appName=="Microsoft Internet Explorer");var m=0;if(k){m=navigator.appVersion.match(/MSIE ([\d.]+)/)[1]}if((!k)||((k)&&(m>=8))){n._hideCommunities(f)}else{n._hideCommunities_MSIE67(f)}h.hide();h.wrap('<div class="lfr-dock-list-container"></div>');var d={dock:q,dockList:h};q.css({cursor:"pointer",position:"absolute",zIndex:Liferay.zIndex.DOCK});var g=function(r){r.data=d;jQuery(document).one("click",function(v){var w=jQuery(v.target);var u=w.parents(".lfr-dock");if((u.length==0)&&!w.is(".lfr-dock")){n._toggle(r,"hide")}});n._toggle(r,"show")};var c=function(r){r.data=d;n._toggle(r,"hide")};var e=function(r){r.data=f;n._togglePlaces(r)};q.click(function(v){v.data=d;var u=jQuery(v.target);var r=u.parents(".lfr-dock");var w=u.parents(".lfr-dock-list");if((w.length==0)){if(r.is(".show")||r.is(".expanded")){n._toggle(v,"hide")}else{n._toggle(v,"show")}}});f.click(function(r){r.data=f;n._togglePlaces(r)});q.hoverIntent({interval:0,out:c,over:g,timeout:500});f.hoverIntent({interval:0,out:e,over:e,timeout:250});f.find(".my-places-toggle, a[@href=javascript: ;]").click(function(){return false});if(Liferay.Browser.is_ie&&Liferay.Browser.version()<=6){f.find(">ul").css("zoom",1)}var j=q.parent();j.css({position:"relative",zIndex:Liferay.zIndex.DOCK_PARENT});n._handleDebug()}},_handleDebug:function(){var d=this;var e=d._dock;var c=d._dockList;var f=d._myPlaces.find("> ul");if(e.is(".debug")){e.show();c.show();c.addClass("expanded");f.addClass("show-my-places")}},_hideCommunities_MSIE67:function(e){var f=e;var d=f.find("> ul > li");var c=d.find("ul");var j=c.find("li.current");var h=d.find("h3");h.wrap('<div class="my-places-toggle"></div>');h=h.parent();c.hide();j.parent().show();var g=j.parent().prev();g.addClass("hide");h.click(function(){var k=jQuery(this);k.next("ul").BlindToggleVertically("fast");k.toggleClass("hide")})},_hideCommunities:function(k){var e=k;var j=e.find("> ul > li");var d=j.find("ul");var f=d.find("li.current");var m=j.find("h3");m.css("background-image","url()");m.wrap('<div class="my-places-toggle"></div>');m=m.parent();j.find("ul").each(function(r){var n=j.find(this).find("li.public").text();var q=j.find(this).find("li.private").text();if(n!=""&&q!=""){j.find(this).parent().find("h3").css("background-image","")}else{if(j.find(this).find("li.public").find("a.add-page").text()!=""){j.find(this).parent().find("div").prepend('<a class="add-page" href="'+j.find(this).find("li.public").find("a.add-page").attr("href")+'">Unique Public Page</a>')}else{if(j.find(this).find("li.private").find("a.add-page").text()!=""){j.find(this).parent().find("div").prepend('<a class="add-page" href="'+j.find(this).find("li.private").find("a.add-page").attr("href")+'">Unique Private Page</a>')}}}});var h=f.parent().parent().find("ul").find("li.public");var g=f.parent().parent().find("ul").find("li.private");var c=f.parent().prev();d.hide();if(h.text()!=""&&g.text()!=""){f.parent().show();c.addClass("hide")}else{c.addClass("current")}m.click(function(){var u=jQuery(this);var q=u.parent().find("ul").find("li.public");var r=u.parent().find("ul").find("li.private");if(q.text()!=""&&r.text()!=""){u.next("ul").BlindToggleVertically("fast");u.toggleClass("hide")}else{var n;if(q.text()!=""){n=q.find("a")}else{if(r.text()!=""){n=r.find("a")}}if(n.text()!=""){document.location.href=n.attr("href")}}});m.find("a.add-page").click(function(){var n=jQuery(this);document.location.href=n.attr("href")})},_toggle:function(e,f){var g=e.data;var d=g.dock;var c=g.dockList;if(f=="hide"){c.hide();d.removeClass("expanded")}else{if(f=="show"){c.show();d.addClass("expanded")}else{c.toggle();d.toggleClass("expanded")}}},_togglePlaces:function(d){var c=d.data;var e=c.find("> ul");e.toggleClass("show-my-places");if(Liferay.Browser.is_ie&&Liferay.Browser.version()<=6){e.find("li ul li").css("position","relative")}}};Liferay.DynamicSelect=new Class({initialize:function(d){var c=this;c.array=d;jQuery.each(d,function(g,j){var e=jQuery("#"+j.select);var f=j.selectData;var h=null;if(g>0){h=d[g-1].selectVal}f(function(k){c._updateSelect(c,g,k)},h);e.attr("name",e.attr("id"));e.bind("change",function(){c._callSelectData(c,g)})})},_callSelectData:function(d,e){var g=d.array;if((e+1)<g.length){var f=jQuery("#"+g[e].select);var c=g[e+1].selectData;c(function(h){d._updateSelect(d,e+1,h)},f.val())}},_updateSelect:function(instance,i,list){var params=instance.array[i];var select=jQuery("#"+params.select);var selectId=params.selectId;var selectDesc=params.selectDesc;var selectVal=params.selectVal;var selectNullable=params.selectNullable||true;var options="";if(selectNullable){options+='<option value="0"></option>'}jQuery.each(list,function(i,obj){eval("var key = obj."+selectId+";");eval("var value = obj."+selectDesc+";");options+='<option value="'+key+'">'+value+"</option>"});select.html(options);select.find("option[@value="+selectVal+"]").attr("selected","selected");if(jQuery.browser.msie&&jQuery.browser.version.number()<=7){select.css("width","auto")}}});(function(c){c.Freeform=function(d){c.Freeform.init(d)};c.Freeform.extendNativeFunctionObject({_current:null,init:function(e){var d=this;d._columns=e.columnSelector;d._portlets=e.boxSelector;jQuery(d._columns).find(d._portlets).each(function(){d.add(this)})},add:function(h){var d=this;h=jQuery.getOne(h);var f=jQuery(".portlet-header-bar, .portlet-title-default, .portlet-topper",h).get(0);if(f!=undefined){f.style.cursor="move";h.style.position="absolute";jQuery(h).lDrag({handle:f,portlet:h,onStart:function(j){j.wasClicked=true;j.container.style.zIndex=99},onMove:function(j){j.wasClicked=false},onComplete:function(j){var n=j.portlet;if(!j.wasClicked){var m=parseInt(n.style.left);var k=parseInt(n.style.top);m=Math.round(m/10)*10;k=Math.round(k/10)*10;n.style.left=m+"px";n.style.top=k+"px";d.moveToTop(n);d.savePosition(n)}n.style.zIndex=""}});jQuery(h).click(function(){if(d._current!=this){d.moveToTop(this);d.savePosition(this,true);d._current=this}});var g=jQuery(".portlet-content-container, .portlet-borderless-container",h);var e=jQuery(".portlet-resize-handle",h);if(!e.length){g.append("<div style='position:relative'><div class='portlet-resize-handle'></div></div>");e=jQuery(".portlet-resize-handle",h)}if(g.length&&e.length){jQuery(h).lResize({handle:e[0],direction:"horizontal",mode:"add",portlet:h,onStart:function(j){d.moveToTop(j.container.resizeSettings.portlet)},onComplete:function(m){var q=m.container.resizeSettings.portlet;var n=jQuery(q).getOne(".portlet-content-container, .portlet-borderless-container");var j=parseInt(n.style.height);var k=parseInt(q.style.width);j=Math.round(j/10)*10;k=Math.round(k/10)*10;n.style.height=j+"px";q.style.width=k+"px";d.savePosition(q)}});g.lResize({handle:e[0],direction:"vertical",mode:"add"})}if((parseInt(h.style.top)+parseInt(h.style.left))==0){h.style.top=(20*h.columnPos)+"px";h.style.left=(20*h.columnPos)+"px"}}},findPosition:function(e){var d=-1;jQuery(".portlet-boundary",e.parentNode).each(function(f){if(this==e){d=f}});return d},moveToTop:function(e){var d=e.parentNode;e.oldPosition=this.findPosition(e);d.removeChild(e);d.appendChild(e)},savePosition:function(h,j){var d=this;var g=jQuery(h).find(".portlet-content-container, .portlet-borderless-container")[0];var e=Liferay.Portlet.findIndex(h);var f;if(e!=h.oldPosition){Liferay.Portlet.savePosition(h)}if(g&&!j){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/update_layout?p_l_id="+themeDisplay.getPlid()+"&height="+g.style.height+"&width="+h.style.width+"&top="+h.style.top+"&left="+h.style.left+"&p_p_id="+h.portletId+"&doAsUserId="+themeDisplay.getDoAsUserIdEncoded()+"&cmd=drag")}}})})(Liferay);var LayoutConfiguration={categories:[],initialized:false,loadingImage:null,menu:null,menuDiv:null,menuIframe:null,portlets:[],showTimer:0,offsetMenu:true,init:function(){var c=this;var e=jQuery("#portal_add_content");c.menu=e;c._isFreeform=themeDisplay.isFreeformLayout();if(e.length){var d=e.childNodes;c.menuDiv=e.find(".portal-add-content");c.menuIframe=e.find("iframe");c.portlets=e.find(".lfr-portlet-item");c.categories=e.find(".lfr-content-category");c.categoryContainers=e.find(".lfr-add-content");c.initialized=true;jQuery("#layout_configuration_content").trigger("focus").addClass("focus");jQuery("#layout_configuration_content").keyup(function(f){c.startShowTimer(f,this)})}if(c._isFreeform){c._grid=jQuery("body .freeform #column-1:first");c._offsetL=c._grid[0].offsetLeft;c._offsetT=c._grid[0].offsetTop}},toggle:function(g,e,h){var m=this;if(!m.menu){var d=themeDisplay.getPathMain()+"/portal/render_portlet?p_l_id="+g+"&p_p_id="+e+"&doAsUserId="+h+"&p_p_state=exclusive";var k=250;if(m.offsetMenu){var j=jQuery("body");var f=j.css("padding-left");j.css("padding-left",k+10)}var c=Liferay.Popup({width:k,noCenter:true,title:Liferay.Language.get("add-application"),onClose:function(){m.menu=null;if(m.offsetMenu){j.css("padding-left",f)}}});AjaxUtil.update(d,c,{onComplete:function(){m._loadContent()}})}},searchField:function(f,j){var c=this;var h=jQuery.trim(j.value).toLowerCase();var e=c.portlets;var d=c.categories;var g=c.categoryContainers;if(h!="*"&&h.length){h=h.match(/[a-zA-Z0-9]*/g).join("");e.hide();d.hide();g.hide();e.each(function(m){var k=this.id.toLowerCase();if(k.indexOf(h)>-1){var n=jQuery(this);n.show();n.parents(".lfr-content-category").addClass("visible").removeClass("hidden").show();n.parents(".lfr-add-content").addClass("expanded").removeClass("collapsed").show()}})}else{if(!h.length){d.addClass("hidden").removeClass("visible").css("display","");g.addClass("collapsed").removeClass("expanded").css("display","");e.css("display","")}else{if(h=="*"){d.addClass("visible").removeClass("hidden");g.addClass("expanded").removeClass("collapsed");e.show()}}}},startShowTimer:function(d,e){var c=this;if(c.showTimer){clearTimeout(c.showTimer);c.showTimer=0}c.showTimer=setTimeout(function(){c.searchField(d,e)},250)},_loadContent:function(){var c=this;c.init();Liferay.Util.addInputType();Liferay.Util.addInputFocus();Liferay.Publisher.subscribe("closePortlet",c._onPortletClose,c);var f=false;var d=jQuery(".lfr-portlet-item");var e={threshold:10,onStart:function(m){var n=m.browserEvent;var j=jQuery(n.originalTarget||n.srcElement);if(!j.is("a")){Liferay.Columns._onStart(m)}else{f=true;var q=j.parents(".lfr-portlet-item:first");if(!q.is(".lfr-portlet-used")){var g=q.attr("plid");var k=q.attr("portletId");var h=(q.attr("instanceable")=="true");addPortlet(g,k,themeDisplay.getDoAsUserIdEncoded());if(!h){q.addClass("lfr-portlet-used");q.unbind("mousedown")}}}},onMove:function(g){if(!c._isFreeform){Liferay.Columns._onMove(g)}},onComplete:function(v){if(!f){var g=v.container;var j=g.getAttribute("plid");var q=g.getAttribute("portletId");if(j&&q){var u=jQuery(v.container);var r=(g.getAttribute("instanceable")=="true");var m=themeDisplay.getDoAsUserIdEncoded();var h=addPortlet(j,q,m,true);if(!r){if(h){u.addClass("lfr-portlet-used");u.unbind("mousedown")}}else{Liferay.Columns.add(u,e)}u.css({top:0,left:0});v.container=h;var k=Liferay.Columns._onComplete(v);if(!c._isFreeform){if(!k){if(r){q=h.id;q=q.replace(/^p_p_id_(.*)_$/,"$1")}closePortlet(j,q,m,true)}}if(k||c._isFreeform){u.Highlight(750,"#ffe98f")}if(c._isFreeform){var n=jQuery(h);n.css({left:(mousePos.x-c._offsetL)+"px",top:(mousePos.y-c._offsetT)+"px"})}}}f=false}};c._layoutOptions=e;d.each(function(){if(this.className.indexOf("lfr-portlet-used")==-1){Liferay.Columns.add(this,e)}});if(Liferay.Browser.is_ie){d.hover(function(){this.className+=" over"},function(){this.className=this.className.replace("over","")})}jQuery(".lfr-add-content > h2").click(function(){var h=jQuery(this).parent();var g=h.find("> .lfr-content-category");g.toggleClass("hidden").toggleClass("visible");h.toggleClass("collapsed").toggleClass("expanded")})},_onPortletClose:function(e){var c=this;var d=jQuery("#portal_add_content");var f=d.find(".lfr-portlet-item[@plid="+e.plid+"][@portletId="+e.portletId+"][@instanceable=false]");if(f.is(".lfr-portlet-used")){f.removeClass("lfr-portlet-used");Liferay.Columns.add(f[0],c._layoutOptions)}}};Liferay.LayoutExporter={all:function(c){c=c||{};var f=c.pane;var e=c.obj;var d=c.publish;if(e.checked){jQuery(f).hide();if(!d){jQuery("#publishBtn").show();jQuery("#selectBtn").hide()}else{jQuery("#changeBtn").hide()}}},details:function(e){e=e||{};var c=e.toggle;var f=e.detail;var d=jQuery(c)[0];if(jQuery(f).css("display")=="none"){jQuery(f).slideDown("normal");d.src=Liferay.LayoutExporter.icons.minus}else{jQuery(f).slideUp("normal");d.src=Liferay.LayoutExporter.icons.plus}},icons:{minus:themeDisplay.getPathThemeImages()+"/arrows/01_minus.png",plus:themeDisplay.getPathThemeImages()+"/arrows/01_plus.png"},publishToLive:function(e){e=e||{};var d=e.messageId;var c=e.url;var g=e.title;if(!g){g=Liferay.Language.get(d)}var f=Liferay.Popup({title:g,modal:true,width:600,height:550,overflow:"auto",messageId:d});AjaxUtil.update(c,f)},selected:function(c){c=c||{};var f=c.pane;var e=c.obj;var d=c.publish;if(e.checked){jQuery(f).show();if(!d){jQuery("#publishBtn").hide();jQuery("#selectBtn").show()}else{jQuery("#changeBtn").show()}}}};Liferay.Menu=new Class({initialize:function(d){var c=this;c._button=jQuery(d.button,d.context||document);c._menu=c._button.find("ul:first");c._trigger=c._button.find(d.trigger);if(c._menu.length){c._run()}},_run:function(){var c=this;var f=c._trigger.find("ul:first li:last-child");f.addClass("last");var e=function(g){c._button.removeClass("visible")};var d=function(k){var g=jQuery(this);var j=g.parent();if(j.is(".visible")){j.removeClass("visible")}else{c._button.removeClass("visible");j.addClass("visible")}jQuery(document).unbind().one("click",e);var h=jQuery(k.originalTarget||k.srcElement);if(!h.is("a")&&!h.is("img")){return false}};c._trigger.unbind().click(d)}});var Messaging={checkRoster:false,currentChatBox:null,initialized:false,inputCount:1,mainDiv:null,msgQueue:[],userId:null,windowCount:0,zIndex:1,chat:function(c){if(!c&&Messaging.msgQueue.length==0){return}var h=c||Messaging.msgQueue.shift();var f=h.toId.replace(/\./g,"_");var g=jQuery("#msg-chat-box_"+f)[0];if(!g){var e="<div class='chat-box' id='msg-chat-box_"+f+"'><input class='to-input-id' type=hidden value='"+h.toId+"' /><div class='chat-area textarea' style='overflow: auto; height: 100px'>"+(h.messages||"")+"</div><input class='type-area' style='width: 90%; margin-top: 5px' tabIndex=1 type='text' onKeyPress='Messaging.sendChat(this, event)' /></div>";g=Liferay.Popup({title:h.toName,message:e,noCenter:true,width:300,onClose:function(){Messaging.saveCookie()}});if(h.status&&h.status=="unavailable"){jQuery(g).append("<img src='"+themeDisplay.getPathThemeImages()+"/chat/add_user.png' style='cursor: pointer; margin-top: 2px' onclick=\"MessagingRoster.addEntry('"+h.toId+"'); jQuery(this).remove()\"/>")}Messaging.populateChatBox(g,h);if(h.top!=null&&h.left!=null){jQuery(g).parents(".popup:first").css({top:h.top+"px",left:h.left+"px"})}else{var d=Liferay.Popup.count();jQuery(g).parents(".popup:first").css({top:(d*10)+"px",left:(d*10)+"px"})}}else{this.populateChatBox(g,h)}},populateChatBox:function(g,j){var f=jQuery.getOne(".type-area",g);var c=jQuery.getOne(".chat-area",g);if(j.body!=null){var d=j.toName.split(/[ ,.-]/);var h="";for(var e=0;e<d.length;e++){h+=d[e].charAt(0)}c.innerHTML+="<span style='color: #FF0000'>"+h+": </span>"+j.body+"<br/>";this.saveCookie()}c.scrollTop=c.scrollHeight;f.focus();if(Liferay.Browser.is_ie){f.focus()}Messaging.chat()},getChats:function(){var url=themeDisplay.getPathMain()+"/messaging/action?cmd=getChats";AjaxUtil.request(url,{onComplete:function(xmlHttpReq){var msg=eval("("+xmlHttpReq.responseText+")");Messaging.getChatsReturn(msg)}})},getChatsReturn:function(f){var c=f.status;if(c=="success"){var h=f.chat;if(h&&h.length>0){for(var e=0;e<h.length;e++){var d=h[e].fromName;var g=h[e].fromId;h[e].fromName=h[e].toName;h[e].fromId=h[e].toId;h[e].toName=d;h[e].toId=g;Messaging.msgQueue.push(h[e])}Messaging.chat();window.focus()}}},error:function(){alert("User does not exist")},init:function(userId){var body=document.getElementsByTagName("body")[0];this.userId=userId;var msgJSON=jQuery.cookie(this.userId+"_chats");if(msgJSON){var chatArray=eval("("+msgJSON+")");for(var i=0;i<chatArray.length;i++){Messaging.msgQueue.push(chatArray[i])}Messaging.chat()}this.initialized=true;Messaging.getChats()},maximizeChat:function(f){var e=jQuery.getOne(f);var d=jQuery.getOne(".chat-box-width");var c=jQuery.getOne(".chat-area");e.style.left=Viewport.scroll().x+"px";e.style.top=Viewport.scroll().y+"px";d.style.width=(Viewport.frame().x-30)+"px";c.style.height=(Viewport.frame().y-100)+"px"},minimizeChat:function(f){var e=jQuery.getOne(f);var d=jQuery.getOne(".chat-box-width");var c=jQuery.getOne(".chat-area");d.style.width=250+"px";c.style.height=100+"px"},removeChat:function(d){var c=jQuery.getOne(d);LRElement.remove(c);this.saveCookie()},saveCookie:function(){var c=jQuery(".chat-box");var d="[";c.each(function(f){var g=this;var e=jQuery(g).parents(".popup:first");d+='{toName:"'+e.find(".popup-title")[0].innerHTML+'",toId:"'+jQuery(".to-input-id",g)[0].value+'",top:'+parseInt(e.css("top"))+",left:"+parseInt(e.css("left"))+',messages:"'+Liferay.Util.toJSONString(jQuery(".chat-area",g)[0].innerHTML)+'"}';if(f<c.length-1){d+=","}});d+="]";jQuery.cookie(this.userId+"_chats",d)},sendChat:function(g,k){var m;var h=g.parentNode;var j;var u;var r;var q;var n="cmd=sendChat";if(window.event){m=window.event.keyCode}else{if(k){m=k.which}else{return}}if(m==13){var d=h.getElementsByTagName("input");for(var f=0;f<d.length;f++){if(d[f].className){if(d[f].className.match("to-input-id")){j=d[f]}if(d[f].className.match("type-area")){r=d[f]}}}if(r.value==""){return}var c=h.getElementsByTagName("div");for(var f=0;f<c.length;f++){if(c[f].className&&c[f].className.match("chat-area")){q=c[f]}}n+="&text="+encodeURIComponent(r.value);if(u!=null){n+="&tempId="+j.value+"&toAddr="+u.value}else{n+="&toId="+j.value}loadPage(themeDisplay.getPathMain()+"/messaging/action",n,Messaging.sendChatReturn);q.innerHTML+="<span style='color: #0000FF'>"+Liferay.Language.get("chat-me")+": </span>"+r.value+"<br/>";q.scrollTop=q.scrollHeight;q.scrollTop=q.scrollHeight;r.value="";Messaging.saveCookie()}},sendChatReturn:function(xmlHttpReq){var msg=eval("("+xmlHttpReq.responseText+")");if(msg.status=="success"){Messaging.populateChatBox(msg)}else{Messaging.error()}}};var MessagingRoster={highlightColor:"",lastSelected:null,addEntry:function(e){var d;if(e){d=themeDisplay.getPathMain()+"/chat/roster?cmd=addEntry&userId="+e}else{var c=jQuery.getOne("#portlet-chat-roster-email").value;d=themeDisplay.getPathMain()+"/chat/roster?cmd=addEntry&email="+c}AjaxUtil.request(d,{onComplete:MessagingRoster.addEntryReturn})},addEntryReturn:function(xmlHttpReq){try{var msg=eval("("+xmlHttpReq.responseText+")");if(msg.status=="failure"){alert("No such user exists")}else{var rosterDiv=jQuery.getOne("#portlet-chat-roster-list");if(rosterDiv){var entries=jQuery(".portlet-chat-roster-entry",rosterDiv);var userId=msg.user;var userExists=entries.filter(function(i){return(this.userId==userId)});if(userExists.length!=0){var entryRow=MessagingRoster.createEntryRow(msg.user,msg.name);rosterDiv.appendChild(entryRow)}MessagingRoster.toggleEmail()}}}catch(err){}},createEntryRow:function(e,h,c){var d=document.createElement("div");var f=document.createElement("img");var g=document.createElement("a");f.align="absmiddle";f.style.marginRight="5px";if(c){f.src=themeDisplay.getPathThemeImages()+"/chat/user_online.png"}else{f.src=themeDisplay.getPathThemeImages()+"/chat/user_offline.png"}g.innerHTML=h;g.href="javascript: void(0)";g.onclick=MessagingRoster.onEntryLinkClick;d.appendChild(f);d.appendChild(g);d.onclick=MessagingRoster.onEntryClick;d.userId=e;d.userName=h;d.style.cursor="pointer";d.className="portlet-chat-roster-entry";return d},deleteEntries:function(){if(MessagingRoster.lastSelected){var c=MessagingRoster.lastSelected.userId;var d=MessagingRoster.lastSelected;d.parentNode.removeChild(d);MessagingRoster.lastSelected=null;loadPage(themeDisplay.getPathMain()+"/chat/roster","cmd=deleteEntries&entries="+c,MessagingRoster.deleteEntriesReturn)}},deleteEntriesReturn:function(xmlHttpReq){try{var msg=eval("("+xmlHttpReq.responseText+")")}catch(err){}},getEntries:function(){var url=themeDisplay.getPathMain()+"/chat/roster?cmd=getEntries";AjaxUtil.request(url,{onComplete:function(xmlHttpReq){var msg=eval("("+xmlHttpReq.responseText+")");MessagingRoster.getEntriesReturn(msg)}})},getEntriesReturn:function(c){MessagingRoster.updateEntries(c.roster)},updateEntries:function(f){var g=jQuery.getOne("#portlet-chat-roster-list");if(g!=null){g.innerHTML=""}else{Messaging.checkRoster=false;return}for(var d=0;d<f.length;d++){var e=f[d];var c=MessagingRoster.createEntryRow(e.user,e.name,e.status=="available");g.appendChild(c)}},onEmailKeypress:function(e,c){var d;if(window.event){d=window.event.keyCode}else{if(c){d=c.which}else{return}}if(d==13){MessagingRoster.addEntry()}},onEntryClick:function(){if(MessagingRoster.lastSelected!=null){MessagingRoster.lastSelected.style.backgroundColor="transparent"}this.style.backgroundColor=MessagingRoster.highlightColor;MessagingRoster.lastSelected=this},onEntryLinkClick:function(){var c=this.parentNode;Messaging.chat({toId:c.userId,toName:c.userName})},toggleEmail:function(){var c=jQuery.getOne("#portlet-chat-roster-email-div");if(c.style.display=="none"){c.style.display="block";emailInput=jQuery.getOne("#portlet-chat-roster-email");emailInput.value="";emailInput.focus()}else{c.style.display="none"}}};Liferay.Notice=new Class({initialize:function(d){var c=this;d=d||{};c._noticeType=d.type||"notice";c._noticeClass="popup-alert-notice";c._useCloseButton=true;c._onClose=d.onClose;if(d.closeText!==false){c._closeText=d.closeText||Liferay.Language.get("close")}else{c._useCloseButton=false;c._closeText=""}c._useToggleButton=false;c._hideText="";c._showText="";if(d.toggleText!==false){d.toggleText=jQuery.extend({hide:null,show:null},d.toggleText);c._hideText=d.toggleText.hide||Liferay.Language.get("hide");c._showText=d.toggleText.show||Liferay.Language.get("show");c._useToggleButton=true}if(c._noticeType=="warning"){c._noticeClass="popup-alert-warning"}if(d.noticeClass){c._noticeClass+=" "+d.noticeClass}c._content=d.content||"";c._createHTML();return c._notice},_createHTML:function(){var d=this;var h=jQuery('<div class="'+d._noticeClass+'"><div class="popup-alert-content"></div></div>');h.html(d._content);if(d._useToggleButton){var j=jQuery('<a class="toggle-button" href="javascript:;"><span>'+d._hideText+"</span></a>");var f=j.find("span");var c=0;j.toggle(function(){h.slideUp();f.text(d._showText)},function(){h.slideDown();f.text(d._hideText)});h.append(j)}if(d._useCloseButton){var g='<input class="submit popup-alert-close" type="submit" value="'+d._closeText+'" />';h.append(g);var e=h.find(".popup-alert-close");e.click(function(){h.slideUp("normal",function(){h.remove()});if(d._onClose){d._onClose()}})}h.appendTo("body");d._notice=h}});Liferay.Navigation=new Class({initialize:function(e){var c=this;c.params=e;c._navBlock=jQuery(c.params.navBlock);c._hasPermission=c.params.hasPermission;c._isModifiable=c._navBlock.is(".modify-pages");c._isSortable=c._navBlock.is(".sort-pages")&&c._hasPermission;c._isUseHandle=c._navBlock.is(".use-handle");c._updateURL=themeDisplay.getPathMain()+"/layout_management/update_page";var d=c._navBlock.find("> ul > li");d.each(function(f){this._LFR_layoutId=c.params.layoutIds[f]});c._makeAddable();c._makeDeletable();c._makeSortable();c._makeEditable();Liferay.Publisher.register("navigation");Liferay.Publisher.subscribe("tree",c._treeCallback,c)},_addPage:function(c,g){var n=this;var f=n._navBlock;var k=jQuery("<li>"+n._enterPage+"</li>");var e=k.find("input");f.find("ul:first").append(k);var j=k.find(".save-page");var d=k.find(".cancel-page");var m=k.find(".enter-page input");var h=jQuery(document);var q=function(r){var u=jQuery(r.target);var v=u.parents("ul:eq(0)");if((v.length==0)&&!u.is("li")&&!u.parents("#add-page").length){d.trigger("click")}};h.click(q);d.click(function(r){n._cancelAddingPage(r,k);h.unbind("click",q)});j.click(function(r){n._savePage(r,this,n);h.unbind("click",q)});m.keyup(function(r){if(r.keyCode==13){j.trigger("click")}else{if(r.keyCode==27){d.trigger("click")}else{return}}h.unbind("click",q)});e[0].focus()},_cancelAddingPage:function(d,e){var c=this;e.remove()},_cancelPage:function(f,g,e){var c=null;if(e){c=jQuery(g).parents("li");var d=c.find(".enter-page");d.prev().show();d.remove()}else{c=jQuery(this).parents("li");c.remove()}},_deleteButton:function(d){var c=this;var e=d.find(".delete-tab");e.click(function(f){c._removePage(this,c)});e.hide();d.hover(function(){jQuery(this).find(".delete-tab").fadeIn("fast")},function(){jQuery(this).find(".delete-tab").fadeOut("fast")})},_makeAddable:function(){var c=this;if(c._isModifiable){var d=c._navBlock.find("ul:first");c._enterPage='<div class="enter-page"><input type="text" name="new_page" value="" class="text" /><a class="cancel-page" href="javascript: ;"></a><a class="save-page" href="javascript: ;">'+Liferay.Language.get("save")+"</a></div>";if(c._hasPermission){d.after('<div id="add-page"><a href="javascript:;"><span>'+Liferay.Language.get("add-page")+"</span></a></div>");var e=d.parent().find("#add-page a");e.click(function(f){c._addPage(f,this)})}}},_makeDeletable:function(){var c=this;if(c._isModifiable&&c._hasPermission){var d=c._navBlock.find("li").not(".selected")}},_makeEditable:function(){var c=this;if(c._isModifiable){var f=c._navBlock.find("li.selected");var e=f.find("a");var d=e.find("span");e.click(function(h){if(h.shiftKey){return false}});var g=function(){d.css("cursor","pointer")};e.hover(function(j){var h=jQuery(this);if((h.parent().find("ul").length>0)&&(location.href.lastIndexOf(h.attr("href"))<0)){return}if(!themeDisplay.isStateMaximized()||j.shiftKey){d.css("cursor","text")}},g);d.click(function(j){if(themeDisplay.isStateMaximized()&&!j.shiftKey){return}var q=jQuery(this);var r=q.text();if((q.parent().parent().find("ul").length>0)&&(location.href.lastIndexOf(q.parent().attr("href"))<0)){return}q.parent().hide();q.parent().after(c._enterPage);var u=q.parent().next();var m=u.parents();var k=u.find("input");var v=function(w){w.stopPropagation();if(!jQuery(this).is("li")){h.trigger("click")}return false};k.val(r);k.trigger("select");var n=u.find(".save-page");n.click(function(w){c._savePage(w,this,c,r);m.unbind("blur",v);m.unbind("click",v)});var h=u.find(".cancel-page");h.hide();h.click(function(w){c._cancelPage(w,this,r);m.unbind("blur",v);m.unbind("click",v)});k.keyup(function(w){if(w.keyCode==13){n.trigger("click");m.unbind("blur",v);m.unbind("click",v)}else{if(w.keyCode==27){h.trigger("click");m.unbind("blur",v);m.unbind("click",v)}}});m.click(v);g();return false})}},_makeSortable:function(){var c=this;var h=c._navBlock;var e=h.find("ul:first");if(c._isSortable){var g=e.find("> li").css("float");var d=e.find("li");var f=d.find("a");if(c._isUseHandle){d.append('<span class="sort-handle">+</span>')}else{f.css("cursor","move");f.find("span").css("cursor","pointer")}d.addClass("sortable-item");c.sortable=e.Sortable({accept:"sortable-item",helperclass:"sort-helper",activeclass:"sortableactive",hoverclass:"sortablehover",handle:(c._isUseHandle?".sort-handle":"a"),opacity:0.8,revert:true,floats:(g=="left"||g=="right"),tolerance:"pointer",snapDistance:10,onStop:function(){c._saveSortables(this);Liferay.Publisher.deliver("navigation",this)}})}},_removePage:function(g,c){var e=jQuery(g).parents("li");var d=e.find("a span").html();if(confirm(Liferay.Language.get("are-you-sure-you-want-to-delete-this-page"))){var f={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"delete",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),layoutId:e[0]._LFR_layoutId};jQuery.ajax({data:f,success:function(){Liferay.Publisher.deliver("navigation",e,"delete");e.remove()},url:c._updateURL})}},_savePage:function(d,g,m,f){if((d.type=="keyup")&&(d.keyCode!==13)){return}var h=null;var j=null;var k=jQuery(g).parents("li");var e=k.find("input").val();var n=k.find(".enter-page");if(f){if(e!=f){h={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"name",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),layoutId:themeDisplay.getLayoutId(),name:e,languageId:themeDisplay.getLanguageId()};j=function(v){v=Liferay.Util.toJSONObject(v);var w=n.prev();var q=w.find("span");q.text(e);w.show();n.remove();var r=jQuery(document).attr("title");var u=new RegExp(f,"g");newTitle=r.replace(u,e);jQuery(document).attr("title",newTitle)}}else{var c=n.prev();c.show();n.remove();return false}}else{h={mainPath:themeDisplay.getPathMain(),doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"add",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),parentLayoutId:themeDisplay.getParentLayoutId(),name:e};j=function(q){q=Liferay.Util.toJSONObject(q);var r=jQuery('<a href="'+q.url+'"><span>'+e+"</span></a>");if(m._isUseHandle){n.before('<span class="sort-handle">+</span>')}else{r.css("cursor","move")}k[0]._LFR_layoutId=q.layoutId;n.before(r);n.remove();m.sortable.SortableAddItem(k[0]);Liferay.Publisher.deliver("navigation",k)}}jQuery.ajax({data:h,success:j,url:m._updateURL})},_saveSortables:function(e){var c=this;tabs=jQuery(jQuery(e).parent(),c._navBlock).children();var d={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"priority",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),layoutId:e._LFR_layoutId,priority:tabs.index(e)};jQuery.ajax({data:d,url:c._updateURL})},_treeCallback:function(w,n){var u=this;var g=u._navBlock.find("> ul");if(u._isSortable){var k=g.find("> li");var d=jQuery(w);var z=d.parent();var f=d.find("span:first").text();var v=jQuery(n).parents("li:first");var r=k.find("span").not(".delete-tab");r=r.filter(function(){var A=jQuery(this);if(A.text()==f){return true}else{return false}});var c=z.find("> li");var q=c.index(w);if(r.length>0){var j=k.eq(q);var h=r.parents("li:first");if(!v.is(".tree-item")){j.after(h);if(h.is(":hidden")){h.show()}}else{h.hide()}}else{if(!v.is(".tree-item")){var e=k.lt(1).clone();e.removeClass("selected");e.find(".child-menu").remove();var m=e.find("a span");m.text(f);m.css("cursor","pointer");k.parent().append(e)}}}},_isSortable:false,_isModifiable:false,_isUseHandle:false,_hasPermission:false,_enterPage:"",_updateURL:""});Liferay.Session={autoExtend:false,sessionTimeout:0,sessionTimeoutWarning:0,redirectOnExpire:false,init:function(f){var c=this;f=f||{};c.autoExtend=f.autoExtend||c.autoExtend;c._timeout=f.timeout||c.sessionTimeout;c._warning=f.timeoutWarning||c.sessionTimeoutWarning;c.sessionTimeout=c._timeout*60000;c.sessionTimeoutWarning=c._warning*60000;c._timeoutDiff=c.sessionTimeout-c.sessionTimeoutWarning;c._currentTime=c.sessionTimeoutWarning;c.redirectOnExpire=f.redirectOnExpire||c.redirectOnExpire;c._cookieKey="LFR_SESSION_STATE_"+themeDisplay.getUserId();c.banner=new jQuery;var d=themeDisplay.getPathMain()+"/portal/";c._sessionUrls={expire:d+"expire_session",extend:d+"extend_session"};c._stateCheck=setTimeout(function(){c.checkState()},c._timeoutDiff);var e=c._timeout;var g=c._warning;c._warningText=Liferay.Language.get("warning-your-session-will-expire",["[$SPAN$]",e]);c._warningText=c._warningText.replace(/\[\$SPAN\$\]/,'<span class="countdown-timer"></span>');c._toggleText={hide:Liferay.Language.get("hide"),show:Liferay.Language.get("show")};c._expiredText=Liferay.Language.get("warning-your-session-has-expired");c._extendText=Liferay.Language.get("extend");c.setCookie()},checkState:function(){var c=this;var e=new Date().getTime();var d=c.getCookie();var f=c.sessionTimeoutWarning;var g=0;clearTimeout(c._stateCheck);if(d=="expired"){c.expire()}else{g=e-d;if(!c.autoExtend){if((g+100)>=c.sessionTimeoutWarning){c.warn()}else{f=(c.sessionTimeoutWarning-g)+10000;c._stateCheck=setTimeout(function(){c.checkState()},f)}}else{c.extend()}}},getCookie:function(){var c=this;return jQuery.cookie(c._cookieKey)||0},expire:function(){var c=this;var d=c.banner;var e=d.find("#sessionWarningText");document.title=c._originalTitle;if(e.length){var g=c._expiredText;e.html(g);clearTimeout(c._sessionExpired);var f=d.find("#okBtn");f.click(function(){c.notice.close();window.location=themeDisplay.getURLHome()});var h=d.find("#cancelBtn");h.hide();jQuery.ajax({url:c._sessionUrls.expire})}c.setCookie("expired");if(c.redirectOnExpire){location.href=themeDisplay.getURLHome()}},extend:function(){var c=this;if(c._countdownTimer){clearInterval(c._countdownTimer)}jQuery.ajax({url:c._sessionUrls.extend});document.title=c._originalTitle;c._sessionWarning=setTimeout(function(){c.warn()},c.sessionTimeout);c.setCookie()},setCookie:function(d){var c=this;var e=new Date().getTime();jQuery.cookie(c._cookieKey,d||e)},warn:function(){var c=this;c.banner=new Liferay.Notice({content:c._warningText,closeText:c._extendText,onClose:function(){c.extend()},toggleText:false});c._counter();c._sessionExpired=setTimeout(function(){c.expire()},c.sessionTimeoutWarning)},_counter:function(){var c=this;var d=c.banner;if(d.length){c._counterText=d.find(".countdown-timer");c._originalTitle=document.title;var e=1000;c._counterText.text(c._setTime());document.title=c.banner.text();c._countdownTimer=setInterval(function(){var f=c._setTime();c._currentTime=c._currentTime-e;if(c._currentTime>0){c._counterText.text(f);document.title=c.banner.text()}else{c.banner.html(c._expiredText);c.banner.toggleClass("popup-alert-notice").toggleClass("popup-alert-warning");if(c._countdownTimer){clearInterval(c._countdownTimer)}}},e)}},_formatNumber:function(d){var c=this;if(!Liferay.Util.isArray(d)){if(d<=9){d="0"+d}}else{d=jQuery.map(d,c._formatNumber)}return d},_setTime:function(){var c=this;var g=c._currentTime;if(g<=0){}else{var j=0,d=0,f=0,h=0,e="";g=Math.floor(g/1000);d=Math.floor(g/3600);g=g%3600;f=Math.floor(g/60);g=g%60;h=Math.floor(g);return c._formatNumber([d,f,h]).join(":")}},_banner:[],_countdownTimer:null,_currentTime:0,_originalTitle:"",_sessionUrls:{},_sessionWarning:null,_sessionExpired:null,_timeout:0,_timeoutDiff:0,_warning:0};Liferay.TagsSelector=new Class({initialize:function(k){var c=this;c._curTags=[];c._saveCategTagsChecked=[];c._saveCategTagsUnchecked=[];c.params=k;c.params.etiquetaBase=c.capitalizeMe(c.params.etiquetaBase);if(jQuery.trim(c.params.etiquetaBase).indexOf(",")>=0){var f=c.params.etiquetaBase.split(",");c.params.etiquetaBase="";for(var e=0;e<f.length;e++){var j=jQuery.trim(f[e]);if(e==0){c.params.etiquetaBase=jQuery.trim(c.capitalizeMe(j))}else{c.params.etiquetaBase=jQuery.trim(c.capitalizeMe(j))+","+c.params.etiquetaBase}}c.params.etiquetaBase=","+c.params.etiquetaBase+","}if(jQuery.trim(c.params.etiquetaBase)==""){c.params.etiquetaBase="Root"}if((jQuery.trim(c.params.etiquetaBase)!="Root")&&(jQuery.trim(c.params.etiquetaBase).indexOf(",")<0)){c.params.etiquetaBase=","+jQuery.trim(c.params.etiquetaBase)+","}var g=jQuery("#"+k.hiddenInput);g.attr("name",g.attr("id"));var h=jQuery("#"+k.textInput);h.Autocomplete({source:c._getTags,delay:0,fx:{type:"slide",duration:400},autofill:false,dataSourceType:"json",helperClass:"autocomplete-box",selectClass:"autocomplete-selected",multiple:true,mutipleSeparator:",",minchars:1,onSelect:function(m){if(this.createTextRange){var q=this.value;var n=this.createTextRange();n.moveStart("character",q.length);n.select()}},onShow:function(){jQuery(this).addClass("showing-list")},onHide:function(){jQuery(this).removeClass("showing-list")}});c._popupVisible=false;c._setupSelectTags();var d=jQuery("#"+k.addTagButton);d.click(function(){var n=c._curTags;var m=h.val().split(",");jQuery.each(m,function(q,r){r=jQuery.trim(r);if(n.indexOf(r)==-1){if(r!=""){n.push(r);if(c._popupVisible){jQuery("input[@type=checkbox][@value$="+r+"]",c.selectTagPopup).attr("checked",true)}}}});n=n.sort();h.val("");c._update()});h.keypress(function(m){if((m.keyCode==13)&&!jQuery(this).is(".showing-list")){d.trigger("click");return false}});if(k.focus){h.focus()}if(k.curTags!=""){c._curTags=k.curTags.split(",");c._update()}Liferay.Util.actsAsAspect(window);window.before("submitForm",function(){var m=jQuery.trim(h.val());if(m.length){d.trigger("click")}})},deleteTag:function(g){var c=this;var f=c.params;var d=c._curTags;jQuery("#"+f.instanceVar+"CurTags"+g).remove();var e=d.splice(g,1);if(c._popupVisible){jQuery("input[@type=checkbox][@value$="+e+"]",c.selectTagPopup).attr("checked",false)}c._update()},_getTags:function(d){var e=d.start||0;var c=d.end||20;d.value=d.value||"";return Liferay.Service.Tags.TagsEntry.searchAutocomplete({companyId:themeDisplay.getCompanyId(),name:"%"+d.value+"%",properties:"",begin:e,end:c})},_setupSelectTags:function(){var c=this;var f=c.params;var e=f.instanceVar;var d=jQuery("#"+e+"selectTag");d.click(function(){c._saveCategTagsChecked=c._curTags;c._saveCategTagsUnchecked=[];c._showSelectPopup(c.params.etiquetaBase)})},capitalizeMe:function(d){newVal="";d=d.split(" ");for(var e=0;e<d.length;e++){newVal+=d[e].substring(0,1).toUpperCase()+d[e].substring(1,d[e].length)+" "}d=newVal.split("_");newVal="";for(var e=0;e<d.length;e++){newVal+=d[e].substring(0,1).toUpperCase()+d[e].substring(1,d[e].length);if(e!=d.length-1){newVal+="_"}}return newVal},convertToruta:function(d){newVal="";d=d.split("_");for(var e=d.length-2;e>=0;e--){newVal+=d[e];if(e!=0){newVal+=" / "}}return newVal},convertToShortRuta:function(c){c=c.split("_");return c[0]},obtenerRutaPadre:function(d){newVal="";d=d.split("_");for(var e=1;e<d.length;e++){newVal+=d[e];if(e!=d.length-1){newVal+="_"}}return newVal},_showSelectPopup:function(B){var O=this;var P=O.params;var S=P.instanceVar;var r=jQuery('<div class="lfr-tag-select-container" style="width: 100%;" ></div>');var E=jQuery('<div class="lfr-tag-container" style="width: 100%;"></div>');if(B.indexOf("Root,")!=-1){B=O.params.etiquetaBase}B=O.capitalizeMe(B);var g=[];var D=[];var Q="";var C="";var z="Categoras";if(themeDisplay.getLanguageId()=="ca_ES"){z="Categories"}var G=[];var q=0;if(jQuery.trim(B).indexOf(",")<0){C=O.convertToruta(B);if(C.length==0){C=z}G=Liferay.Service.TagsEntryTree.obtenerhijosByName({nameParent:B.toLowerCase()});q=1}else{C=z;if(C.length==0){C=O.params.etiquetaBase}g=B.split(",");var e=[];var h=0;for(var M=0;M<g.length;M++){var k=g[M].toLowerCase();if(jQuery.trim(k)!=""){e[h++]=k}}g=e;for(var M=0;M<g.length;M++){G[M]=Liferay.Service.TagsEntryTree.getByName({name:g[M].toLowerCase()})}q=0}for(var M=0;M<G.length;M++){var R=G[M];g[M]=R.nameChild;if(O.params.etiquetaBase.indexOf(","+jQuery.trim(O.capitalizeMe(R.nameChild))+",")>=0){break}}if((C.length>0)&&(C!=z)){var d=jQuery('<input class="submit lfr-save-button" type="button" id="'+S+'returnBtn"  value="'+Liferay.Language.get("back")+'" />');d.click(function(){O.guardaValores(E);Liferay.Popup.close(O.selectTagPopup);O._popupVisible=false;O._showSelectPopup(O.obtenerRutaPadre(B))});E.append(d);E.append("<br>")}if(O.params.etiquetaBase.indexOf(","+jQuery.trim(O.capitalizeMe(B.toLowerCase()))+",")>=0){B=O.capitalizeMe(O.params.etiquetaBase)}var w=document.createElement("table");w.setAttribute("align","center");w.setAttribute("id","clientTable");w.setAttribute("border","0");w.setAttribute("width","100%");var H=document.createElement("tbody");var K=document.createElement("tr");var f=3;O.selectCateg=[];g=g.sort(function(T,j){return T.localeCompare(j)});for(var M=0;M<g.length;M++){var J=null;for(var L=0;L<G.length;L++){if(g[M]==G[L].nameChild){J=G[L];break}}if(!J){continue}subcategoriesPosibles=J.hasSubChilds;var k=g[M];if(jQuery.trim(k)==""){continue}var n=document.createElement("td");var F=document.createElement("input");F.setAttribute("type","checkbox");F.setAttribute("name",S+"input"+M);F.setAttribute("id",S+"input"+M);F.setAttribute("value",k);if(O._saveCategTagsChecked.indexOf(jQuery.trim(k))>-1){F.setAttribute("checked","checked")}D=k.split("_");Q=D[0];O.selectCateg[M]=document.createElement("a");(O.selectCateg[M]).setAttribute("class","lfr-label-text");(O.selectCateg[M]).setAttribute("id",k);(O.selectCateg[M]).innerHTML=Q;var N=document.createTextNode(Q);var v=subcategoriesPosibles;if(O.params.mostrarHojas==false){v=false;jQuery(F).click(function(){var j=false;if(jQuery(this).is(":checked")){j=true,E.find("input:checked").each(function(){jQuery(this).removeAttr("checked")})}if(j==true){jQuery(this).attr("checked",true)}O._saveCategTagsChecked=[]});var I=[];if(G.length>0){I=Liferay.Service.TagsEntryTree.obtenerhijosById({entryIdParent:J.entryIdChild})}else{I=Liferay.Service.TagsEntryTree.obtenerhijosByName({nameParent:k.toLowerCase()})}for(var h=I.length-1;h>=0;h--){var m=I[h];if(m.hasSubChilds==true){v=true;break}}}jQuery(O.selectCateg[M]).click(function(){O.guardaValores(E);Liferay.Popup.close(O.selectTagPopup);O._popupVisible=false;O._showSelectPopup(this.id)});if(O.params.mostrarHojas==false){if(v){n.appendChild(F);n.appendChild(O.selectCateg[M])}else{if(subcategoriesPosibles==true){n.appendChild(F);n.appendChild(N)}else{continue}}}else{if(subcategoriesPosibles==true){n.appendChild(F);n.appendChild(O.selectCateg[M])}else{n.appendChild(F);n.appendChild(N)}}K.appendChild(n);if((M+1)%f==0){H.appendChild(K);K=document.createElement("tr")}}if((g.length)%f!=0){for(var L=0;L<(g.length)%f;L++){H.appendChild(document.createElement("td"))}H.appendChild(K);K=document.createElement("tr")}w.appendChild(H);var u="";u+="<legend>";u+=C;u+="</legend><br>";E.append(u);E.append(w);var A=jQuery('<input class="submit lfr-save-button" id="'+S+'saveButton" type="submit" value="'+Liferay.Language.get("save")+'" />');A.click(function(){O._curTags=[];O.guardaValores(E);O._curTags=O._saveCategTagsChecked;O._update();Liferay.Popup.close(O.selectTagPopup);O._popupVisible=false});r.append(E).append(A);var c=Liferay.Popup({modal:false,height:250,width:600,message:r[0],onClose:function(){O._popupVisible=false}});O.selectTagPopup=c;O._popupVisible=true;if(Liferay.Browser.is_ie){jQuery(".lfr-label-text",c).click(function(){var j=jQuery(this.previousSibling);var T=!j.is(":checked");j.attr("checked",T)})}},guardaValores:function(d){var c=this;d.find("input:checkbox").each(function(){c._saveCategTagsUnchecked.push(this.value)});d.find("input:checked").each(function(){var g=0;for(var h=0;h<c._saveCategTagsChecked.length;h++){if(jQuery.trim(c._saveCategTagsChecked[h])==jQuery.trim(this.value)){g=1;break}}if(g==0){c._saveCategTagsChecked.push(jQuery.trim(this.value))}for(var h=0;h<c._saveCategTagsUnchecked.length;h++){if(jQuery.trim(c._saveCategTagsUnchecked[h])==jQuery.trim(this.value)){c._saveCategTagsUnchecked.splice(h,1);break}}});for(var f=0;f<c._saveCategTagsUnchecked.length;f++){for(var e=0;e<c._saveCategTagsChecked.length;e++){if(jQuery.trim(c._saveCategTagsUnchecked[f])==jQuery.trim(c._saveCategTagsChecked[e])){c._saveCategTagsChecked.splice(e,1);break}}}c._saveCategTagsUnchecked=[]},_update:function(){var c=this;c._updateHiddenInput();c._updateSummarySpan()},_updateHiddenInput:function(){var c=this;var f=c.params;var d=c._curTags;var e=jQuery("#"+f.hiddenInput);e.val(d.join(","))},_updateSummarySpan:function(){var c=this;var f=c.params;var d=c._curTags;var e="";jQuery(d).each(function(h,j){var k=c.convertToruta(j);e+='<span title="'+k+' " id="'+f.instanceVar+"CurTags"+h+'">';e+=c.convertToShortRuta(j)+" ";e+=' [<a href="javascript: '+f.instanceVar+".deleteTag("+h+');">x</a>]';if((h+1)<d.length){e+=", "}e+="</span>"});var g=jQuery("#"+f.summarySpan);g.html(e)}});Liferay.Upload=new Class({buscarPropiedad:function(c,d){if(document.all){miRegla=document.styleSheets[0].rules}else{miRegla=document.styleSheets[2].cssRules}for(i=0;reg=miRegla[i];i++){alert(reg.selectorText.toLowerCase())}},initialize:function(d){var c=this;d=d||{};c._container=jQuery(d.container);c._fallbackContainer=jQuery(d.fallbackContainer||[]);c._namespaceId=d.namespace||"_liferay_pns_"+Liferay.Util.randomInt()+"_";c._maxFileSize=d.maxFileSize||0;c._allowedFileTypes=d.allowedFileTypes;c._fileDescription=d.fileDescription;c._uploadFile=d.uploadFile;c._buttonUrl=d.buttonUrl||"";c._buttonWidth=d.buttonWidth||500;c._buttonHeight=d.buttonHeight||30;c._buttonText="&nbsp; &nbsp; &nbsp;&nbsp;<span>"+Liferay.Language.get("browse-you-can-select-multiple-files")+"</span>";c._buttonPlaceHolderId=c._namespace("buttonHolder");c._overlayButton=d.overlayButton||true;c._onFileComplete=d.onFileComplete;c._onUploadsComplete=d.onUploadsComplete;c._onUploadProgress=d.onUploadProgress;c._onUploadError=d.onUploadError;c._classicUploaderParam="uploader=classic";c._newUploaderParam="uploader=new";c._queueCancelled=false;c._flashVersion=deconcept.SWFObjectUtil.getPlayerVersion().major;c._tiposContenidos=d.tiposContenidos;var e=location.href;if(e.indexOf(c._classicUploaderParam)>-1&&c._fallbackContainer.length){c._fallbackContainer.show();c._setupIframe();return}c._browseText='<font text-decoration="none" size="5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>';c._cancelUploadsText=Liferay.Language.get("cancel-all-uploads");c._cancelFileText=Liferay.Language.get("cancel-upload");c._clearRecentUploadsText=Liferay.Language.get("clear-recent-uploads");c._fileListPendingText=Liferay.Language.get("x-files-ready-to-be-uploaded","0");c._fileListText=Liferay.Language.get("file-list");c._fileTypesDescriptionText=d.fileDescription||c._allowedFileTypes;c._uploadsCompleteText=Liferay.Language.get("all-uploads-complete");c._uploadStatusText=Liferay.Language.get("uploading-file-x-of-x",["[$POS$]","[$TOTAL$]"]);c._uploadFilesText=Liferay.Language.get("upload-files");if(c._fallbackContainer.length){c._useFallbackText=Liferay.Language.get("use-the-classic-uploader");c._useNewUploaderText=Liferay.Language.get("use-the-new-uploader")}if(c._flashVersion<9&&c._fallbackContainer.length){c._fallbackContainer.show();c._setupIframe();return}c._setupCallbacks();c._setupUploader()},cancelUploads:function(){var c=this;var d=c._getStats();while(d.files_queued>0){c._uploader.cancelUpload();d=c._getStats()}if(d.in_progress===0){c._queueCancelled=false}c._uploadButton.hide();c._cancelButton.hide();jQuery("#automaticJournalInfo").hide()},fileError:function(){alert("ERROR")},fileAdded:function(w){var v=this;var c=v._fileList;var m=c.find("ul");if(!m.length){v._listInfo.append("<h4>"+v._fileListText+"</h4>");c.append('<ul class="lfr-component"></ul>');v._uploadTarget.append(v._clearUploadsButton);v._clearUploadsButton.hide();v._cancelButton.click(function(){v.cancelUploads();v._clearUploadsButton.hide()})}v._cancelButton.show();v._uploadButton.show();c=c.find("ul");var B=v._namespace(w.id);var C=encodeURIComponent(w.name);var f=C;if(C.length>45){f=C.substring(0,20)+"..."+C.substring(C.length-20)}var q=C.split(".");var z=v._allowedFileTypes;var g=q[q.length-1];var h=z.indexOf(g.toLowerCase());var u="";if(h==-1){u='&nbsp; <img style="cursor:help" title="'+Liferay.Language.get("archivo-no-permitido")+'" src="'+themeDisplay.getPathThemeImages()+'/common/close.png" />'}var k='<li class="upload-file" style="width: 100%; float:left;" id="'+B+'"><div class="file-title" style="float:left;line-height:25px;">'+f+u+"</div>";k+='<div style="float:right;color: #003366;background-y-position: 50%; line-height:25px"><div style="float:left; margin-right:30px"><input type="checkbox" style="vertical-align:middle;" value="'+C+'" id="'+B+'heredarButton" checked="true"/>&nbsp;'+Liferay.Language.get("escola_upload_inherit_view_dynamic")+"</div>";if(permiso_contenido){k+='<div style="float:left; margin-right:10px">'+Liferay.Language.get("crear-contenido-del-tipo")+'&nbsp;&nbsp;<select name="journalArticleTypes" id="journalArticleTypes">';k+='<option value="no-crear-contenido">'+Liferay.Language.get("no-crear-contenido")+"</option>";var d=v._tiposContenidos.split(",");d.forEach(function(D){if(D!=""){if(D.toLowerCase()=="multimedia"&&(g.toLowerCase()=="mp3"||g.toLowerCase()=="swf"||(g.toLowerCase()=="zip"&&(C.toLowerCase().indexOf(".jclic.zip")!=-1)))){k+='<option value="'+D+'" style="font-weight:bold;">'+Liferay.Language.get(D)+"</option>"}else{if(D.toLowerCase()=="videostreaming"&&(g.toLowerCase()=="flv"||g.toLowerCase()=="mp4")){k+='<option value="'+D+'" style="font-weight:bold;">'+Liferay.Language.get(D)+"</option>"}else{if(D.toLowerCase()=="notebook"&&g.toLowerCase()=="notebook"){k+='<option value="'+D+'" style="font-weight:bold;">'+Liferay.Language.get(D)+"</option>"}else{if((D.toLowerCase()=="scorm"||D.toLowerCase()=="webzip"||D.toLowerCase()=="solo-desplegar-scorm"||D.toLowerCase()=="solo-desplegar-webzip")&&(g.toLowerCase()!="zip"||(C.toLowerCase().indexOf(".jclic.zip")!=-1))){}else{if((D.toLowerCase()=="scorm"||D.toLowerCase()=="webzip"||D.toLowerCase()=="solo-desplegar-scorm"||D.toLowerCase()=="solo-desplegar-webzip")&&(g.toLowerCase()=="zip"&&(C.toLowerCase().indexOf(".jclic.zip")==-1))){k+='<option value="'+D+'" style="font-weight:bold;">'+Liferay.Language.get(D)+"</option>"}else{if(D.toLowerCase()=="contenido_libre"||D.toLowerCase()=="documento_didactico"||D.toLowerCase()=="cuento"){k+='<option value="'+D+'">'+Liferay.Language.get(D)+"</option>"}}}}}}}});k+="</select></div>"}k+='<div style="float:left"><a  class="lfr-button cancel-button" href="javascript: ;" id="'+B+'cancelButton" style="text-decoration:none;position:relative;"></a></div></div>';k+='<div style="float:none; clear:both;"><span class="progress-bar" style="width:98%"><span class="progress" id="'+B+'progress"></span></span></li>';var n=jQuery(k);n.find(".cancel-button").click(function(){v._uploader.cancelUpload(w.id)});var j=c.find(".upload-complete");j=j.filter(":first");if(j.length){j.before(n)}else{c.append(n)}var A=v._getStats();var e=A.files_queued;var r=jQuery("#automaticJournalInfo")[0];if(permiso_contenido){if(w){d.forEach(function(D){if(D!=""){if((D.toLowerCase()=="scorm"||D.toLowerCase()=="webzip"||D.toLowerCase()=="solo-desplegar-scorm"||D.toLowerCase()=="solo-desplegar-webzip")&&(g.toLowerCase()=="zip"&&w.name.toLowerCase().indexOf(".jclic.zip")==-1)){r.innerHTML=Liferay.Language.get("difference-between-solo-desplegar-and-scorm-reduced-version");var E="<br><br>";while(r.innerHTML.indexOf(E)!=-1){r.innerHTML=r.innerHTML.replace(E," ")}}}})}r.style.display="inline-block"}v._updateList(e)},fileCancelled:function(h,f,j){var d=this;var g=d._getStats();var e=d._namespace(h.id);var k=h.name;var c=jQuery("#"+e);d._updateList(g.files_queued);c.fadeOut("slow")},fileUploadComplete:function(g,j){var d=this;var e=d._namespace(g.id);var c=jQuery("#"+e);c.removeClass("file-uploading").addClass("upload-complete");var k=d._uploader;var f=d._getStats();if(f.files_queued>0&&!d._queueCancelled){k.startUpload()}else{if(f.files_queued===0&&!d._queueCancelled){d.uploadsComplete(g)}else{d._queueCancelled=false}}if(d._onFileComplete){d._onFileComplete(g)}if(j&&j.indexOf("contenido_creado_automaticamente_link")!=-1){c.css("opacity","1");var h=c.children();jQuery.each(h,function(r,m){if(m.innerHTML.indexOf("journalArticleTypes")==-1){m.style.opacity="0.6"}else{var q=j.substr(j.indexOf("contenido_creado_automaticamente_link"),1000);q=q.substring(q.indexOf("http"),q.indexOf("'>"));var u=q.indexOf("doAsUserId");if(u!=-1){var n=q.indexOf("&",u);if(n!=-1){q=q.replace(q.substring(u,n+1),"")}else{q=q.substring(0,u-1)}}q=q.replace("exclusive","maximized");m.innerHTML="<i><a href='"+q+"'>"+Liferay.Language.get("ver-contenido")+"</a></i>"}})}},flashLoaded:function(){var c=this;c._setupControls()},uploadError:function(e,d,f){var c=this;if(d==SWFUpload.UPLOAD_ERROR.FILE_CANCELLED){c.fileCancelled(e,d,f)}if(c._onUploadError){c._onUploadError(arguments)}},uploadProgress:function(f,h){var c=this;var d=c._namespace(f.id);var e=document.getElementById(d+"progress");var g=Math.ceil((h/f.size)*100);e.style.width=g+"%";if(c._onUploadProgress){c._onUploadProgress(f,h)}},uploadsComplete:function(d){var c=this;c._cancelButton.hide();c._updateList(0,c._uploadsCompleteText);c._uploadButton.hide();jQuery("#automaticJournalInfo").hide();if(c._clearUploadsButton.is(":hidden")){c._clearUploadsButton.show()}if(c._onUploadsComplete){c._onUploadsComplete()}var e=c._uploader;e.setStats({successful_uploads:0})},uploadStart:function(h){var e=this;var g=e._getStats();var k=(g.successful_uploads+g.upload_errors+g.files_queued);var d=(g.successful_uploads+g.upload_errors+1);var j=e._uploadStatusText.replace("[$POS$]",d).replace("[$TOTAL$]",k);var f=e._namespace(h.id);e._updateList(k,j);var c=jQuery("#"+f);c.addClass("file-uploading");return true},uploadSuccess:function(d,e){var c=this;c.fileUploadComplete(d,e)},_clearUploads:function(){var c=this;var d=c._fileList.find(".upload-complete");d.fadeOut("slow",function(){jQuery(this).remove()});c._clearUploadsButton.hide()},_getStats:function(){var c=this;return c._uploader.getStats()},_namespace:function(d){var c=this;d=d||"";return c._namespaceId+d},_setupCallbacks:function(){var c=this;c._cancelUploads=c._namespace("cancelUploads");c._fileAdded=c._namespace("fileAdded");c._fileCancelled=c._namespace("fileCancelled");c._flashLoaded=c._namespace("flashLoaded");c._uploadStart=c._namespace("uploadStart");c._uploadProgress=c._namespace("uploadProgress");c._uploadError=c._namespace("uploadError");c._uploadSuccess=c._namespace("uploadSuccess");c._fileUploadComplete=c._namespace("fileUploadComplete");c._uploadsComplete=c._namespace("uploadsComplete");c._uploadsCancelled=c._namespace("uploadsCancelled");c._swfUpload=c._namespace("cancelUploads");window[c._cancelUploads]=function(){c.cancelUploads.apply(c,arguments)};window[c._fileAdded]=function(){c.fileAdded.apply(c,arguments)};window[c._fileCancelled]=function(){c.fileCancelled.apply(c,arguments)};window[c._uploadStart]=function(){c.uploadStart.apply(c,arguments)};window[c._uploadProgress]=function(){c.uploadProgress.apply(c,arguments)};window[c._uploadError]=function(){c.uploadError.apply(c,arguments)};window[c._fileUploadComplete]=function(){c.fileUploadComplete.apply(c,arguments)};window[c._uploadSuccess]=function(){c.uploadSuccess.apply(c,arguments)};window[c._uploadsComplete]=function(){c.uploadsComplete.apply(c,arguments)};window[c._flashLoaded]=function(){c.flashLoaded.apply(c,arguments)}},_setupControls:function(){var c=this;if(!c._hasControls){c._uploadTargetId=c._namespace("uploadTarget");c._listInfoId=c._namespace("listInfo");c._fileListId=c._namespace("fileList");c._uploadTarget=jQuery('<div id="'+c._uploadTargetId+'" class="float-container upload-target"></div>');c._uploadTarget.css("position","relative");c._listInfo=jQuery('<div id="'+c._listInfoId+'" class="upload-list-info"></div>');c._fileList=jQuery('<div id="'+c._fileListId+'" class="upload-list"></div>');c._cancelButton=jQuery('<a class="lfr-button cancel-uploads" href="javascript: ;" style="float:left;line-height:27px;">'+c._cancelUploadsText+"</a>");c._clearUploadsButton=jQuery('<a class="lfr-button clear-uploads" href="javascript: ;" style="line-height:27px;">'+c._clearRecentUploadsText+"</a>");c._browseButton=jQuery('<a class="lfr-button browse-button" href="javascript: ; " style="line-height:27px;">'+c._browseText+"</a>");c._uploadButton=jQuery('<a class="lfr-button upload-button" href="javascript: ;" style="float:left;line-height:27px;">'+c._uploadFilesText+"</a>");c._container.prepend([c._uploadTarget[0],c._listInfo[0],c._fileList[0]]);c._uploadTarget.append([c._browseButton[0],c._buttonPlaceHolder[0],c._uploadButton[0],c._cancelButton[0]]);c._clearUploadsButton.click(function(){c._clearUploads()});if(c._overlayButton){var g=c._browseButton.outerWidth();var f=c._browseButton.outerHeight();var e=c._browseButton.offset();var d=jQuery("#"+c._uploader.movieName);d.css({left:e.left,position:"absolute",top:e.top,zIndex:100000});c._uploader.setButtonDimensions(g,f)}else{c._browseButton.click(function(){c._uploader.selectFiles()})}c._uploadButton.click(function(){var h="";var j="";c._fileList.find("input:checked").each(function(){if(this.id.indexOf("heredarButton")>-1){h=h+"|"+this.value}});c._fileList.find("option:selected").each(function(){j=j+"|"+this.parentElement.parentElement.parentElement.firstChild.firstChild.value+":"+this.value});c._fileList.find("select").each(function(){this.disabled=true});c._uploadFile=c._uploadFile+"&camposHeredar="+jQuery.trim(h)+"&camposTipo="+jQuery.trim(j);c._uploader.setUploadURL(c._uploadFile);c._uploader.startUpload()});c._uploadButton.hide();c._cancelButton.hide();jQuery("#automaticJournalInfo").hide();if(c._fallbackContainer.length){c._useFallbackButton=jQuery('<a class="use-fallback using-new-uploader" style="float:none; clear:both; display:block;" href="javascript: ;">'+c._useFallbackText+"</a>");c._fallbackContainer.after(c._useFallbackButton);c._useFallbackButton.click(function(){var m=jQuery(this);var j="using-new-uploader";var h="using-classic-uploader";if(m.is("."+j)){jQuery("#uploader_flash").hide();c._container.hide();c._fallbackContainer.show();m.text(c._useNewUploaderText);m.removeClass(j).addClass(h);c._setupIframe();var k="";if(location.hash.length){k="&"}location.hash+=k+c._classicUploaderParam}else{jQuery("#uploader_flash").show();c._container.show();c._fallbackContainer.hide();m.text(c._useFallbackText);m.removeClass(h).addClass(j);location.hash=location.hash.replace(c._classicUploaderParam,c._newUploaderParam)}})}c._hasControls=true}},_setupIframe:function(){var c=this;if(!c._fallbackIframe){c._fallbackIframe=c._fallbackContainer.find("iframe[@id$=-iframe]");var d=jQuery("#content-wrapper",c._fallbackIframe[0].contentWindow).height()||250;c._fallbackIframe.height(d+150)}},_setupUploader:function(){var c=this;if(c._allowedFileTypes.indexOf("*")==-1){var d=c._allowedFileTypes.split(",");d=jQuery.map(d,function(g,f){var e=g;if(g.indexOf("*")==-1){e="*"+g}return e});c._allowedFileTypes=d.join(";")}c._buttonPlaceHolder=jQuery('<div id="'+c._buttonPlaceHolderId+'"></div>');jQuery(document.body).append(c._buttonPlaceHolder);c._uploader=new SWFUpload({upload_url:c._uploadFile,target:c._uploadTargetId,flash_url:themeDisplay.getPathContext()+"/html/js/misc/swfupload/swfupload_f10.swf",file_size_limit:c._maxFileSize/1024,file_types:c._allowedFileTypes,file_types_description:c._fileDescription,browse_link_innerhtml:c._browseText,upload_link_innerhtml:c._uploadFilesText,browse_link_class:"browse-button liferay-button",upload_link_class:"upload-button liferay-button",swfupload_loaded_handler:window[c._flashLoaded],file_queued_handler:window[c._fileAdded],upload_start_handler:window[c._uploadStart],upload_progress_handler:window[c._uploadProgress],upload_complete_handler:window[c._fileUploadComplete],upload_success_handler:window[c._uploadSuccess],upload_file_cancel_callback:window[c._fileCancelled],upload_queue_complete_callback:window[c._uploadsComplete],upload_error_handler:window[c._uploadError],upload_cancel_callback:window[c._cancelUploads],auto_upload:false,file_post_name:"file",create_ui:true,button_width:300,button_window_mode:"TRANSPARENT",button_height:32,button_placeholder_id:c._buttonPlaceHolderId,button_text:c._buttonText,button_text_style:"",button_text_left_padding:0,button_text_top_padding:6,button_cursor:SWFUpload.CURSOR.HAND,debug:false});window[c._swfUpload]=c._uploader},_updateList:function(g,e){var c=this;var d=c._listInfo.find("h4");var f="";if(!e){f=c._fileListPendingText;f=f.replace(/\d+/g,g)}else{f=e}d.html(f)}});