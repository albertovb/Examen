YUI.add("imageloader",function(e,t){e.ImgLoadGroup=function(){this._init(),e.ImgLoadGroup.superclass.constructor.apply(this,arguments)},e.ImgLoadGroup.NAME="imgLoadGroup",e.ImgLoadGroup.ATTRS={name:{value:""},timeLimit:{value:null},foldDistance:{validator:e.Lang.isNumber,setter:function(e){return this._setFoldTriggers(),e},lazyAdd:!1},className:{value:null,setter:function(e){return this._className=e,e},lazyAdd:!1},classNameAction:{value:"default"}};var n={_init:function(){this._triggers=[],this._imgObjs={},this._timeout=null,this._classImageEls=null,this._className=null,this._areFoldTriggersSet=!1,this._maxKnownHLimit=0,e.on("domready",this._onloadTasks,this)},addTrigger:function(t,n){if(!t||!n)return this;var r=function(){this.fetch()};return this._triggers.push(e.on(n,r,t,this)),this},addCustomTrigger:function(t,n){if(!t)return this;var r=function(){this.fetch()};return e.Lang.isUndefined(n)?this._triggers.push(e.on(t,r,this)):this._triggers.push(n.on(t,r,this)),this},_setFoldTriggers:function(){if(this._areFoldTriggersSet)return;var t=function(){this._foldCheck()};this._triggers.push(e.on("scroll",t,window,this)),this._triggers.push(e.on("resize",t,window,this)),this._areFoldTriggersSet=!0},_onloadTasks:function(){var t=this.get("timeLimit");t&&t>0&&(this._timeout=setTimeout(this._getFetchTimeout(),t*1e3)),e.Lang.isUndefined(this.get("foldDistance"))||this._foldCheck()},_getFetchTimeout:function(){var e=this;return function(){e.fetch()}},registerImage:function(){var t=arguments[0].domId;return t?(this._imgObjs[t]=new e.ImgLoadImgObj(arguments[0]),this._imgObjs[t]):null},fetch:function(){this._clearTriggers(),this._fetchByClass();for(var e in this._imgObjs)this._imgObjs.hasOwnProperty(e)&&this._imgObjs[e].fetch()},_clearTriggers:function(){clearTimeout(this._timeout);for(var e=0,t=this._triggers.length;e<t;e++)this._triggers[e].detach()},_foldCheck:function(){var t=!0,n=e.DOM.viewportRegion(),r=n.bottom+this.get("foldDistance"),i,s,o,u,a;if(r<=this._maxKnownHLimit)return;this._maxKnownHLimit=r;for(i in this._imgObjs)this._imgObjs.hasOwnProperty(i)&&(s=this._imgObjs[i].fetch(r),t=t&&s);if(this._className){this._classImageEls===null&&(this._classImageEls=[],o=e.all("."+this._className),o.each(function(e){this._classImageEls.push({el:e,y:e.getY(),fetched:!1})},this)),o=this._classImageEls;for(u=0,a=o.length;u<a;u++){if(o[u].fetched)continue;o[u].y&&o[u].y<=r?(this._updateNodeClassName(o[u].el),o[u].fetched=!0):t=!1}}t&&this._clearTriggers()},_updateNodeClassName:function(e){var t;this.get("classNameAction")=="enhanced"&&e.get("tagName").toLowerCase()=="img"&&(t=e.getStyle("backgroundImage"),/url\(["']?(.*?)["']?\)/.test(t),t=RegExp.$1,e.set("src",t),e.setStyle("backgroundImage","")),e.removeClass(this._className)},_fetchByClass:function(){if(!this._className)return;e.all("."+this._className).each(e.bind(this._updateNodeClassName,this))}};e.extend(e.ImgLoadGroup,e.Base,n),e.ImgLoadImgObj=function(){e.ImgLoadImgObj.superclass.constructor.apply(this,arguments),this._init()},e.ImgLoadImgObj.NAME="imgLoadImgObj",e.ImgLoadImgObj.ATTRS={domId:{value:null,writeOnce:!0},bgUrl:{value:null},srcUrl:{value:null},width:{value:null},height:{value:null},setVisible:{value:!1},isPng:{value:!1},sizingMethod:{value:"scale"},enabled:{value:"true"}};var r={_init:function(){this._fetched=!1,this._imgEl=null,this._yPos=null},fetch:function(t){if(this._fetched)return!0;var n=this._getImgEl(),r;if(!n)return!1;if(t){r=this._getYPos();if(!r||r>t)return!1}return this.get("bgUrl")!==null?this.get("isPng")&&e.UA.ie&&e.UA.ie<=6?n.setStyle("filter",'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+this.get("bgUrl")+'", sizingMethod="'+this.get("sizingMethod")+'", enabled="'+this.get("enabled")+'")'):n.setStyle("backgroundImage","url('"+this.get("bgUrl")+"')"):this.get("srcUrl")!==null&&n.setAttribute("src",this.get("srcUrl")),this.get("setVisible")&&n.setStyle("visibility","visible"),this.get("width")&&n.setAttribute("width",this.get("width")),this.get("height")&&n.setAttribute("height",this.get("height")),this._fetched=!0,!0},_getImgEl:function(){return this._imgEl===null&&(this._imgEl=e.one("#"+this.get("domId"))),this._imgEl},_getYPos:function(){return this._yPos===null&&(this._yPos=this._getImgEl().getY()),this._yPos}};e.extend(e.ImgLoadImgObj,e.Base,r)},"patched-v3.11.0",{requires:["base-base","node-style","node-screen"]});

YUI.add("aui-widget-trigger",function(e,t){function f(){}var n=e.Lang,r="triggerChange",i="trigger",s="bindDOMEvents",i="trigger",r="triggerChange",o="triggerHideEvent",u="triggerToggleEvent",a="triggerShowEvent";f.ATTRS={bindDOMEvents:{validator:n.isBoolean,value:!0,writeOnce:!0},trigger:{setter:e.one},triggerHideEvent:{value:null},triggerShowEvent:{value:null},triggerToggleEvent:{value:null}},e.mix(f.prototype,{_eventHandles:null,initializer:function(){var t=this;e.after(t._afterRenderUIWT,t,"renderUI"),t.after(r,t._afterTriggerChange)},destructor:function(){var t=this;(new e.EventHandle(t._eventHandles)).detach()},_afterRenderUIWT:function(){var e=this;e._uiSetTrigger(e.get(i))},_afterTriggerChange:function(e){var t=this;t._uiSetTrigger(e.newVal)},_uiSetTrigger:function(t){var n=this,r,i,f,l;(new e.EventHandle(n._eventHandles)).detach(),t&&n.get(s)&&(r=n._eventHandles=[],i=n.get(o),f=n.get(a),l=n.get(u),i&&r.push(t.on(n.get(o),n.hide,n)),f&&r.push(t.on(n.get(a),n.show,n)),l&&r.push(t.on(n.get(u),n.toggle,n)))}}),e.WidgetTrigger=f},"2.0.0",{requires:["node"]});

YUI.add("aui-widget-position-align-suggestion",function(e,t){function p(){}var n="align",r="bottom",i="boundingBox",s="constrain",o="left",u="position",a="positionChange",f="rendered",l="right",c="top",h=e.getClassName;p.ATTRS={position:{validator:function(e){return e===r||e===c||e===o||e===l},value:c}},e.mix(p.prototype,{POSITION_ALIGN_SUGGESTION:{bottom:[e.WidgetPositionAlign.TC,e.WidgetPositionAlign.BC],left:[e.WidgetPositionAlign.RC,e.WidgetPositionAlign.LC],right:[e.WidgetPositionAlign.LC,e.WidgetPositionAlign.RC],top:[e.WidgetPositionAlign.BC,e.WidgetPositionAlign.TC]},_hasAlignmentPoints:!1,_lastPosition:null,initializer:function(t){var n=this;t&&t.align&&t.align.points&&(n._hasAlignmentPoints=!0),e.on(n._onUISetAlignPAS,n,"_uiSetAlign"),e.after(n._afterRenderUIPAS,n,"renderUI"),n.after(a,n._afterPositionChangePAS)},suggestAlignment:function(e){var t=this,r;r=t.get(n)||{},e&&(r.node=e),t._hasAlignmentPoints||(r.points=t._getAlignPointsSuggestion(t.get(u))),t.set(n,r)},_afterPositionChangePAS:function(e){var t=this;t._uiSetPosition(e.newVal,e.prevVal)},_afterRenderUIPAS:function(){var e=this;e._uiSetPosition(e.get(u))},_canWidgetAlignToNode:function(e,t){var n=this,r,i=n._getAlignPointsSuggestion(t),s=n._getAlignedXY(e,i);return r=n.getConstrainedXY(s),r[0]===s[0]&&r[1]===s[1]},_findBestPosition:function(t){var n=this,i=n.get(u),s=[i,c,r,o,l];return s=e.Array.dedupe(s),e.Array.some(s,function(e){if(n._canWidgetAlignToNode(t,e))return i=e,!0}),i},_getAlignPointsSuggestion:function(e){return this.POSITION_ALIGN_SUGGESTION[e]},_onUISetAlignPAS:function(t){var n=this,r;if(!n.get(s)||!n.get(f))return;return r=n._findBestPosition(t),n._syncPositionUI(r,n._lastPosition||n.get(u)),n._lastPosition=r,new e.Do.AlterArgs(null,[t,n._getAlignPointsSuggestion(r)])},_syncPositionUI:function(e,t){var n=this,r=n.get(i);t&&r.removeClass(h(t)),r.addClass(h(e))},_uiSetPosition:function(e,t){var n=this;n._syncPositionUI(e,t),n.suggestAlignment()}}),e.WidgetPositionAlignSuggestion=p},"2.0.0",{requires:["widget-position-align","widget-stdmod"]});

YUI.add("aui-tooltip-base",function(e,t){var n="bodyContent",r="boundingBox",i="contentBox",s="duration",o="formatter",u="in",a="mouseenter",f="mouseleave",l="opacity",c="title",h="tooltip",p="trigger",d="visible",v="data-title",m=e.getClassName,g=m("tooltip-arrow"),y=m("tooltip-inner");e.Tooltip=e.Base.create(h,e.Widget,[e.WidgetCssClass,e.WidgetPosition,e.WidgetStdMod,e.WidgetToggle,e.WidgetAutohide,e.WidgetPositionAlign,e.WidgetPositionAlignSuggestion,e.WidgetPositionConstrain,e.WidgetStack,e.WidgetTrigger],{initializer:function(){var t=this;e.after(t._afterUiSetTrigger,t,"_uiSetTrigger"),e.after(t._afterUiSetVisible,t,"_uiSetVisible")},renderUI:function(){var t=this,n=t.get(r),s=t.get(i);s.addClass(y),n.append(e.Tooltip.TEMPLATES.arrow),t._afterUiSetVisible(t.get(d))},_afterUiSetVisible:function(e){var t=this,n=t.get(r);e&&t._loadBodyContentFromTitle(),n.transition({duration:t.get(s),opacity:e?t.get(l):0},function(){n.toggleClass(u,e)})},_afterUiSetTrigger:function(e){var t=this;t.suggestAlignment(e)},_loadBodyContentFromTitle:function(){var t=this,r,i,s,u;s=t.get(o),r=t.get(p),i=r.getAttribute(v),u=r.getAttribute(c)||i,s&&(u=s.call(t,u)),i||r.removeAttribute(c).setAttribute(v,u),t.setStdModContent(e.WidgetStdMod.BODY,r&&u||t.get(n))}},{CSS_PREFIX:m(h),ATTRS:{constrain:{value:!0},duration:{value:.15},formatter:{validator:e.Lang.isFunction},opacity:{value:.8},triggerHideEvent:{value:f},triggerShowEvent:{value:a}},TEMPLATES:{arrow:'<div class="'+g+'"></div>'}})},"2.0.0",{requires:["event-mouseenter","transition","widget","widget-autohide","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod","aui-classnamemanager","aui-component","aui-widget-cssclass","aui-widget-toggle","aui-widget-trigger","aui-widget-position-align-suggestion","aui-node-base"]});

YUI.add("aui-tooltip-delegate",function(e,t){var n=e.Lang,r=e.config.doc,i="tooltip-delegate",s="align",o="container",u="duration",a="formatter",f="mouseenter",l="mouseleave",c="opacity",h="position",p="trigger",d="triggerHideEvent",v="triggerShowEvent",m="zIndex";e.TooltipDelegate=e.Base.create(i,e.Base,[],{items:null,tooltip:null,initializer:function(){var e=this;e._eventHandles=[],e.bindUI()},destructor:function(){var t=this;(new e.EventHandle(t._eventHandles)).detach()},bindUI:function(){var t=this,n,r;n=t.get(o),r=t.get(p),t._eventHandles.push(n.delegate(t.get(v),e.bind(t._onUserShowInteraction,t),r),n.delegate(t.get(d),e.bind(t._onUserHideInteraction,t),r))},getTooltip:function(){var t=this,n=t.tooltip;return n||(n=t.tooltip=new e.Tooltip({align:t.get(s),bindDOMEvents:!1,duration:t.get(u),formatter:t.get(a),opacity:t.get(c),position:t.get(h),visible:!1,zIndex:t.get(m)})),n},_onUserHideInteraction:function(){var e=this;e.getTooltip().hide()},_onUserShowInteraction:function(e){var t=this,n;n=e.currentTarget,t.getTooltip().render().set(p,n).show()}},{ATTRS:{align:{value:null},container:{setter:e.one,value:r,writeOnce:!0},duration:{value:.15,writeOnce:!0},formatter:e.Tooltip.ATTRS.formatter,opacity:{value:.8,writeOnce:!0},position:e.WidgetPositionAlignSuggestion.ATTRS.position,trigger:e.WidgetPositionAlignSuggestion.ATTRS.trigger,triggerHideEvent:{validator:n.isString,value:l,writeOnce:!0},triggerShowEvent:{validator:n.isString,value:f,writeOnce:!0},zIndex:{}}})},"2.0.0",{requires:["node-event-delegate","aui-tooltip-base"]});
